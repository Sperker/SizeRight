<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8" />
    <meta name="version" content="0.0.9">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Estimation Tool</title>
    <style>
        :root {
            --bg: #f4f4f4;
            --panel: #ffffff;
            --muted: #666;
            --border-color: #ccc;
            --highlight-color: #efefef;
            --red-light-color: #ee6969;
            --red-dark-color: #f97c7c;
            --green-light-color: #30c156;
            --green-dark-color: #4ba663;
            --color-complexity: #cacde6;
            --color-effort: #A9E0E7;
            --color-doubt: #FFA6BE;
            --color-total: #efefef;
            --outer-stroke-color: #fff;
            --circle-number-color: #666666;
            --bubble-gap: 3px;
            --color-bv: #abf2ab;
            --color-tc: #f7dc91;
            --color-rroe: #acd2fb;
            --circle-number-color-bv: #666666;
            --circle-number-color-tc: #666666;
            --circle-number-color-rroe: #666666;
            --circle-number-color-complexity: #666666;
            --circle-number-color-effort: #666666;
            --circle-number-color-doubt: #666666;
            --slider-track-bg: #e5e7eb;
            --slider-track-border: #cbd5e1;
            --slider-track-height: 8px;
            --slider-thumb-bg: #ffffff;
            --slider-thumb-border: #94a3b8;
            --slider-thumb-size: 16px;
            --slider-focus-ring: rgba(0, 0, 0, .15);
            --slider-cod-fill: #A7C7E7;
            --slider-cod-thumb-border: var(--slider-cod-fill);
            --update-bar-height: 0px;
            --right-gutter: 5px;
        }

        *,
        *::before,
        *::after {
            box-sizing: border-box;
        }

        body {
            font-family: Inter, system-ui, Segoe UI, Roboto, Arial;
            margin: 0;
            background: var(--bg);
            color: #333;
            font-size: 0.9em;
            height: 100vh;
            overflow: hidden;
        }

        body.scroll-active {
            overflow-x: auto;
            overflow-y: hidden;
        }

        h1,
        h2 {
            color: #333;
        }

        h1 {
            margin-top: 0;
            margin-bottom: 0;
            font-size: 24px;
        }

        .container {
            padding: 20px;
        }

        .hidden {
            display: none !important;
        }

        .split-root {
            display: flex;
            height: calc(100vh - var(--update-bar-height));
            width: 100%;
            min-width: 1468px;
            overflow: hidden;
            margin-top: var(--update-bar-height);
        }

        .split-root.row {
            flex-direction: row;
        }

        .split-root.column {
            flex-direction: column;
        }

        .pane {
            position: relative;
            overflow: hidden;
        }

        .pane-left {
            flex-basis: 30%;
            min-width: 635px;
            background: #fff;
            overflow: hidden;
        }

        .pane-right {
            flex: 1;
            background: #fff;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            min-width: 835px;
        }

        .split-root.row .pane-left {
            border-right: 2px solid var(--border-color);
        }

        .split-root.column .pane-left {
            border-bottom: 2px solid var(--border-color);
            min-height: 175px;
        }

        .divider {
            user-select: none;
        }

        .divider.vertical {
            width: 6px;
            cursor: col-resize;
            background: linear-gradient(to right, #ddd, #fbfafa, #ffffff);
        }

        .divider.horizontal {
            height: 6px;
            width: 100%;
            cursor: row-resize;
            background: linear-gradient(to bottom, #ddd, #fbfafa, #ffffff);
        }

        .split-root.is-empty #visualization-container,
        .split-root.is-empty #cod-visualization-container {
            background-color: #f5f5f5;
        }

        .split-root.is-empty .divider.vertical {
            background: linear-gradient(to right, #ddd, #e7e7e7, #f5f5f5);
        }

        .split-root.is-empty .divider.horizontal {
            background: linear-gradient(to bottom, #ddd, #e7e7e7, #f5f5f5);
        }

        #pbi-list-container {
            display: flex;
            flex-direction: column;
            height: 100%;
            overflow: hidden;
        }

        .pbi-list-header {
            flex-shrink: 0;
        }

        .main-title-container {
            display: flex;
            align-items: baseline;
            gap: 1em;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 10px;
        }

        #main-claim {
            font-size: 1em;
            color: #666;
            margin: 0;
            font-weight: normal;
        }

        .pbi-list-empty-state {
            display: flex;
            flex-direction: column;
            padding: 20px;
            text-align: center;
            box-sizing: border-box;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            box-shadow: rgba(0, 0, 0, 0.06) 0px 1px 2px 0px inset;
        }

        .empty-state-icon {
            width: 150px;
            height: 150px;
            color: #999;
            margin: 0 auto;
        }

        .empty-state-text {
            font-size: 1.2em;
            font-style: italic;
            color: #777;
            line-height: 1.5;
            max-width: 450px;
            margin: 0 auto;
        }

        .empty-state-demo-data {
            margin-top: 5px;
            font-size: 1.1em;
            color: #777;
            font-style: italic;
        }

        .empty-state-demo-data span {
            margin: 0 2px;
        }

        .empty-state-demo-data a {
            cursor: pointer;
        }

        .empty-state-demo-data a:hover {
            color: var(--green-light-color);
            text-decoration: underline;
        }

        .empty-state-demo-data a.disabled {
            color: #999;
            text-decoration: none;
            cursor: not-allowed;
        }

        .empty-state-demo-data a.disabled:hover {
            color: #999;
        }

        .switchers {
            display: flex;
            flex-wrap: wrap;
            gap: 14px;
            align-items: center;
            margin-top: 14px;
        }

        button {
            padding: 8px 15px;
            border: none;
            background-color: var(--green-dark-color);
            color: white;
            border-radius: 8px;
            cursor: pointer;
        }

        button:hover {
            background-color: var(--green-light-color);
        }

        .icon-buttons {
            display: flex;
            gap: 6px;
            margin-left: auto;
        }

        #settings-btn,
        #info-btn,
        #export-btn,
        #import-btn,
        #help-btn,
        #reset-app-btn,
        #btn-csv-export {
            background: transparent;
            cursor: pointer;
            border-radius: 8px;
            width: 32px;
            padding: 4px 5px;
            border: 1px solid #ddd;
        }

        #settings-btn svg,
        #info-btn svg,
        #export-btn svg,
        #import-btn svg,
        #help-btn svg,
        #reset-app-btn svg,
        #btn-csv-export svg {
            width: 100%;
            height: 100%;
            fill: #8a8a8a;
        }

        #settings-btn:not(:disabled):hover,
        #info-btn:not(:disabled):hover,
        #export-btn:not(:disabled):hover,
        #import-btn:not(:disabled):hover,
        #help-btn:not(:disabled):hover,
        #btn-csv-export:not(:disabled):hover {
            background: var(--green-dark-color);
            border-color: var(--green-light-color);
        }

        #reset-app-btn:not(:disabled):hover {
            background: var(--red-light-color);
            border-color: var(--red-light-color);
        }

        #settings-btn:not(:disabled):hover svg,
        #info-btn:not(:disabled):hover svg,
        #export-btn:not(:disabled):hover svg,
        #import-btn:not(:disabled):hover svg,
        #help-btn:not(:disabled):hover svg,
        #reset-app-btn:not(:disabled):hover svg,
        #btn-csv-export:not(:disabled):hover svg {
            fill: #ffffff;
        }

        #settings-btn:disabled,
        #info-btn:disabled,
        #export-btn:disabled,
        #import-btn:disabled,
        #reset-app-btn:disabled,
        #btn-csv-export:disabled {
            background-color: transparent !important;
            cursor: not-allowed;
            border-color: #eee;
        }

        #settings-btn:disabled svg,
        #info-btn:disabled svg,
        #export-btn:disabled svg,
        #import-btn:disabled svg,
        #help-btn:disabled svg,
        #reset-app-btn:disabled svg,
        #btn-csv-export:disabled svg {
            fill: #ccc;
        }

        .pbi-filters {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 8px;
            margin-top: 14px;
            border-top: 1px solid var(--border-color);
            border-bottom: 1px solid var(--border-color);
            padding: 10px 0;
        }

        .filter-group {
            display: flex;
            flex-grow: 1;
            gap: 8px;
        }

        .filter-btn {
            flex-grow: 1;
            background-color: #f0f0f0;
            color: #555;
            border: 1px solid #ddd;
            font-weight: bold;
            font-size: 0.9em;
            padding: 9px 10px;
            transition: background-color 0.2s, color 0.2s, border-color 0.2s;
        }

        .filter-btn:not(.active):not(:disabled):hover {
            background-color: #e5e5e5;
            border-color: #ccc;
        }

        .filter-btn.active {
            background-color: #8a8a8a;
            color: white;
            border-color: #8a8a8a;
        }

        .filter-btn:disabled {
            background-color: #f5f5f5;
            color: #ccc;
            border-color: #eee;
            cursor: not-allowed;
        }

        .sort-direction-switcher {
            display: flex;
            gap: 4px;
        }

        .sort-btn {
            background-color: #f0f0f0;
            color: #555;
            border: 1px solid #ddd;
            padding: 4px;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s, color 0.2s, border-color 0.2s;
        }

        .sort-btn:hover {
            background-color: #e5e5e5;
            border-color: #ccc;
        }

        .sort-btn:disabled {
            background-color: #f5f5f5;
            color: #ccc;
            border-color: #eee;
            cursor: not-allowed;
        }

        .sort-btn.active {
            background-color: #8a8a8a;
            color: white;
            border-color: #8a8a8a;
        }

        .sort-btn svg.sort-icon {
            fill: currentColor;
            pointer-events: none;
        }

        #sort-desc-btn .sort-icon {
            transform: rotate(180deg);
        }

        .sort-btn .icon-locked {
            display: none;
        }

        .sort-btn .icon-unlocked {
            display: block;
        }

        .sort-btn.active .icon-locked {
            display: block;
        }

        .sort-btn.active .icon-unlocked {
            display: none;
        }

        #pbi-list {
            flex: 1;
            overflow-y: auto;
            margin-top: 0 !important;
            padding: 17px 10px 30px 0px;
        }

        .pbi-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            margin-bottom: 10px;
            background-color: var(--panel);
            transition: all 0.2s;
            position: relative;
        }

        .pbi-item:last-child {
            margin-bottom: 0;
        }

        .pbi-item-tshirt {
            font-size: 14px;
            font-weight: bold;
            color: #666;
            background-color: #fafafa;
            padding: 4px 8px;
            border-radius: 6px;
            min-width: 17px;
            min-height: 21px;
            text-align: center;
            border: 1px solid #dddddd;
            cursor: pointer;
            margin-right: 8px;
        }

        #pbi-list-container:not(.wsjf-tab-view-active) .pbi-item-tshirt {
            margin-right: 15px;
        }

        .pbi-item-tshirt.is-disabled {
            cursor: not-allowed;
            background-color: #f5f5f5;
            color: #ccc;
            border-color: #eee;
        }

        .pbi-item-tshirt.is-disabled:hover {
            background-color: #f5f5f5;
            color: #ccc;
            border-color: #eee;
        }

        .pbi-item-tshirt.is-wide {
            min-width: 26px;
        }

        .pbi-item-tshirt:hover,
        .pbi-item.highlighted .pbi-item-tshirt {
            background-color: #8a8a8a;
            border-color: #8a8a8a;
            color: #fff;
        }

        .pbi-item-details {
            display: flex;
            flex-grow: 1;
            flex-direction: column;
            gap: 4px;
        }

        .pbi-item-details small {
            color: var(--muted);
        }

        .pbi-item button {
            background-color: #fff;
            margin: 2px;
            margin-left: 5px;
            color: #bbb;
            border: 1px solid #ddd;
        }

        .pbi-item button:hover {
            background-color: var(--green-dark-color);
            color: #fff;
            border: 1px solid var(--green-dark-color);
        }

        .pbi-item button.delete,
        .pbi-item button.edit {
            padding: 5px 10px;
        }

        .pbi-item button.delete {
            color: #bbb;
            border: 1px solid #ddd;
        }

        .pbi-item button.delete:hover {
            background-color: var(--red-light-color);
            color: #fff;
            border: 1px solid var(--red-light-color);
        }

        #btnBoxControls {
            text-align: right;
        }

        #pbi-list-container.container {
            padding-top: 0px !important;
            padding-bottom: 0px !important;
        }

        #pbi-list-container .main-title-container {
            padding: 20px 20px 10px 0px;
        }

        #pbi-list-container .switchers,
        #pbi-list-container .pbi-filters {
            padding-left: 0px;
            padding-right: 0px;
        }

        .tshirt-popup {
            position: absolute;
            z-index: 1001;
            background-color: white;
            border: 1px solid #ccc;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            display: flex;
            flex-direction: column;
            text-align: center;
            padding: 6px;
        }

        .tshirt-option {
            padding: 10px 15px;
            cursor: pointer;
            font-weight: bold;
            border-radius: 5px;
        }

        .tshirt-option:hover {
            background-color: #8a8a8a;
            color: #fff;
        }

        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1000;
        }

        .view-tabs-container {
            display: flex;
            flex-shrink: 0;
            border-bottom: 1px solid var(--border-color);
            background-color: var(--panel);
            padding: 07px 0px 0 0px;
            gap: 4px;
            margin-top: 17px;
        }

        .view-tab-btn {
            flex-grow: 1;
            background-color: #f0f0f0;
            color: #555;
            border: 1px solid #ddd;
            border-bottom: none;
            font-weight: bold;
            font-size: 0.9em;
            padding: 9px 10px;
            border-radius: 6px 6px 0 0;
            transition: background-color 0.2s, color 0.2s, border-color 0.2s;
        }

        .view-tab-btn:not(.active):not(:disabled):hover {
            background-color: #e5e5e5;
            border-color: #ccc;
        }

        .view-tab-btn.active {
            background-color: var(--panel);
            color: #333;
            border-color: var(--border-color);
            border-bottom: 1px solid #dddddd;
            position: relative;
            top: 1px;
        }

        .view-panels-container {
            flex-grow: 1;
            position: relative;
            overflow: hidden;
        }

        .view-panel {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            padding: 15px 5px;
            background-color: var(--panel);
            border-bottom: 1px solid var(--border-color);
            top: 0;
            z-index: 10;
            justify-content: center;
        }

        .legend-sort-container {
            align-self: center;
        }

        #legend-sort-info,
        #cod-legend-sort-info {
            padding-left: 20px;
            border-left: 1px solid;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .legend-dot {
            width: 15px;
            height: 15px;
            border-radius: 50%;
        }

        #visualization-container,
        #cod-visualization-container,
        #wsjf-visualization-container {
            gap: 16px;
            background: #fff;
            border-top: none;
            min-height: auto;
            flex: 1;
            overflow-y: auto;
        }

        #visualization-container,
        #cod-visualization-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
            align-content: start;
            padding: 24px 20px;
        }

        #wsjf-visualization-container {
            display: flex;
            flex-direction: column;
        }

        .story-visualization {
            background: var(--panel);
            border-radius: 10px;
            padding: 12px 5px;
            overflow: visible;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            align-items: center;
            transition: transform 0.2s, box-shadow 0.2s, border-color 0.2s;
            border: 1px solid transparent;
            cursor: default;
            position: relative;
        }

        .visualization-edit-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            opacity: 0;
            visibility: hidden;
            background-color: #fff;
            border: 1px solid transparent;
            border-radius: 8px;
            padding: 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 5;
        }

        .story-visualization:hover .visualization-edit-btn {
            opacity: 1;
            visibility: visible;
        }

        .visualization-edit-btn:hover {
            background-color: var(--green-dark-color);
            border-color: var(--green-dark-color);
        }

        .visualization-edit-btn:hover svg {
            fill: #ffffff;
        }

        .story-visualization svg {
            display: block;
            margin: 0 auto;
            fill: #bfbfbf;
        }

        .story-title {
            margin-top: 4px;
            color: #666;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            box-sizing: border-box;
        }

        .story-title-tshirt {
            border: 1px solid #dddddd;
            padding: 4px 8px;
            border-radius: 3px;
            color: #666666;
            background: #fafafa;
            font-weight: bold;
            margin-bottom: 6px;
            min-width: 17px;
            text-align: center;
        }

        .story-title-tshirt-clickable {
            cursor: pointer;
        }

        .story-title-tshirt-clickable:hover {
            background-color: #8a8a8a;
            border-color: #8a8a8a;
            color: #fff;
        }

        .story-title-wsjf {
            border: 1px solid #dddddd;
            padding: 4px 8px;
            border-radius: 3px;
            color: #666666;
            background: #fafafa;
            font-weight: bold;
            min-width: 17px;
            text-align: center;
            margin-bottom: 0;
        }

        .pbi-item .wsjf-rank-tag {
            display: none;
            vertical-align: middle;
        }

        .wsjf-tab-view-active .pbi-item .wsjf-rank-tag {
            display: inline-block;
            margin-right: 15px;
        }

        .wsjf-tab-view-active .pbi-item .pbi-item-tshirt {
            margin-right: 8px;
        }

        .wsjf-tab-view-active .pbi-item.pbi-item-no-wsjf-rank .wsjf-rank-tag {
            display: none;
        }

        .wsjf-tab-view-active .pbi-item.pbi-item-no-wsjf-rank .pbi-item-tshirt {
            margin-right: 15px;
        }

        .wsjf-rank-tag {
            border: 1px solid #b9acac;
            min-width: 30px !Important;
            padding: 4px 8px;
            border-radius: 6px;
            color: #333;
            background: #e0e0e0;
            font-weight: bold;
            min-width: 17px;
            min-height: 21px;
            font-size: 14px;
            text-align: center;
            cursor: pointer;
            transition: background-color 0.2s, border-color 0.2s;
            display: none;
            line-height: 1.5;
            box-sizing: border-box;
        }

        .wsjf-rank-tag:hover {
            border-color: #a9a9a9;
            filter: brightness(95%);
        }

        .story-visualization.is-irrelevant-to-sort .wsjf-rank-tag {
            background-color: #f5f5f5 !important;
            color: #cccccc !important;
            border-color: #eeeeee !important;
            cursor: default;
            filter: none;
        }

        .story-title-main {
            font-weight: bold;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            display: block;
            width: 95%;
        }

        #panel-relative-sizing {
            background-color: #f9f9f9;
        }

        .relative-sizing-header {
            flex-shrink: 0;
            background-color: var(--panel);
            border-bottom: 1px solid var(--border-color);
            font-weight: bold;
            padding-bottom: 10px !important;
        }

        .rs-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr) 0.9fr repeat(4, 1fr) 0.9fr;
            gap: 8px;
            align-items: center;
            text-align: center;
        }

        .rs-group-header-container {
            display: grid;
            grid-template-columns: 3.9fr 4fr 0.9fr;
            gap: 0px;
            margin-bottom: 8px;
        }

        .rs-group-header {
            padding: 9px 0px;
            text-align: center;
            font-size: 1em;
            font-weight: normal;
        }

        .rs-group-job-size {
            grid-column: 1 / 2;
            background-color: var(--panel);
            color: #666;
            border-bottom: 1px solid #ddd;
            border-right: 1px solid #ddd;
        }

        .rs-group-cod {
            grid-column: 2 / 3;
            background-color: var(--panel);
            color: #666;
            border-bottom: 1px solid #ddd;
            border-right: 1px solid #ddd;
        }

        .rs-group-wsjf {
            grid-column: 3 / 4;
            background-color: var(--panel);
            color: #666;
            border-bottom: 1px solid #ddd;
            border-right: 1px solid #ddd;
            border-bottom-right-radius: 6px;
        }

        .rs-col-header {
            display: flex;
            flex-direction: column;
            gap: 8px;
            cursor: pointer;
            margin: 4px;
            padding: 6px 4px;
            border-radius: 4px;
            white-space: nowrap;
            border: 1px solid #ddd;
            background-color: #f0f0f0;
            color: #555;
            font-size: 0.9em;
            min-height: 55px;
            box-sizing: border-box;
        }

        .rs-header-text {
            display: block;
            text-align: center;
            overflow: hidden;
            text-overflow: ellipsis;
            width: 100%;
            line-height: 1.2;
        }

        .rs-header-icons {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 6px;
            height: 16px;
        }

        .sort-indicator {
            display: none;
            width: 22px;
            height: 22px;
            line-height: 22px;
            color: #888;
            border: 1px solid #cccccc;
            padding: 1px;
            border-radius: 4px;
            background: #fff;
        }

        .sort-indicator:hover {
            color: #fff;
            border: 1px solid #8a8a8a;
            background-color: #8a8a8a;
        }

        .sort-indicator.sort-default-icon {
            display: inline-block;
        }

        .sort-indicator.sort-asc-icon,
        .sort-indicator.sort-desc-icon {
            color: #fff;
            padding: 1px;
            border: 1px solid #8a8a8a;
            border-radius: 4px;
            background-color: #8a8a8a;
        }

        .sort-indicator svg {
            display: block;
            width: 100%;
            height: 100%;
            fill: currentColor;
        }

        .highlight-btn {
            width: 22px;
            height: 22px;
            padding: 2px;
            background: none;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            color: #888;
            border: 1px solid #cccccc;
            background: #fff;
        }

        .highlight-btn:hover {
            background-color: var(--green-dark-color);
            color: #fff;
            border: 1px solid var(--green-dark-color);
        }

        .highlight-btn svg {
            width: 16px;
            height: 16px;
            fill: currentColor;
        }

        .highlight-btn.active {
            background-color: var(--green-dark-color);
            color: #fff;
            border: 1px solid var(--green-dark-color);
        }

        .highlight-btn.active:hover {
            background-color: var(--green-light-color);
            border: 1px solid var(--green-light-color);
        }

        .relative-sizing-list {
            flex-grow: 1;
            overflow-y: auto;
            padding: 10px 0px 20px 0px !important;
            background: #fff;
            padding-right: var(--right-gutter);
        }

        #pbi-list,
        .relative-sizing-list {
            padding-top: 10px !important;
            border-top: none !important;
        }

        .rs-item {
            margin-bottom: 10px;
            background-color: #fff;
            border-top: 1px solid var(--border-color);
            border-bottom: 1px solid var(--border-color);
            padding: 5px 0;
            min-height: 50px;
            box-sizing: border-box;
            display: grid;
            transition: all 0.1s;
            position: relative;
        }

        .rs-cell {
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            font-size: 14px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.1s;
            background-color: #f9f9f9;
            border: 1px solid #eee;
            margin: 4px;
        }

        .rs-cell:hover {
            background-color: #e5e5e5;
            border-color: #ccc;
        }

        .rs-cell.calculated {
            cursor: default;
            background-color: #f0f0f0;
            color: #555;
        }

        .rs-cell.calculated:hover {
            background-color: #f0f0f0;
            border-color: #eee;
        }

        .rs-cell.highlighted {
            border: 1px solid var(--green-dark-color);
            background-color: #e6f3e9;
        }

        .rs-item.highlighted .rs-cell:not(.highlighted) {
            background-color: var(--green-dark-color);
            border: 1px solid var(--green-dark-color);
            color: #fff;
        }

        .rs-item.highlighted .rs-cell[data-value-type="complexity"]:not(.highlighted),
        .rs-item.highlighted .rs-cell[data-value-type="effort"]:not(.highlighted),
        .rs-item.highlighted .rs-cell[data-value-type="doubt"]:not(.highlighted),
        .rs-item.highlighted .rs-cell[data-value-type="cod_bv"]:not(.highlighted),
        .rs-item.highlighted .rs-cell[data-value-type="cod_tc"]:not(.highlighted),
        .rs-item.highlighted .rs-cell[data-value-type="cod_rroe"]:not(.highlighted) {
            background-color: #fff;
            border: 1px solid #c4c4c4;
            color: #333;
            font-weight: bold;
        }

        .rs-item.highlighted .rs-cell[data-value-type="complexity"]:not(.highlighted):hover,
        .rs-item.highlighted .rs-cell[data-value-type="effort"]:not(.highlighted):hover,
        .rs-item.highlighted .rs-cell[data-value-type="doubt"]:not(.highlighted):hover,
        .rs-item.highlighted .rs-cell[data-value-type="cod_bv"]:not(.highlighted):hover,
        .rs-item.highlighted .rs-cell[data-value-type="cod_tc"]:not(.highlighted):hover,
        .rs-item.highlighted .rs-cell[data-value-type="cod_rroe"]:not(.highlighted):hover {
            background-color: #abaaaa;
            border: 1px solid #abaaaa;
            color: #fff;
        }

        .rs-item.highlighted .rs-cell[data-value-type="jobSize"]:not(.highlighted),
        .rs-item.highlighted .rs-cell[data-value-type="cod"]:not(.highlighted) {
            background-color: #e5e5e5;
            border: 1px solid #c4c4c4;
            color: #333;
            font-weight: bold;
        }

        .rs-item.highlighted .rs-cell.calculated:not([data-value-type]):not(.highlighted) {
            background-color: var(--green-dark-color);
            border: 1px solid var(--green-dark-color);
            color: #fff;
            font-weight: bold;
        }

        .rs-item.highlighted .rs-cell.highlighted {
            border: 1px solid var(--green-light-color);
            background-color: #f4fff6;
            color: #333;
        }

        .rs-cell.is-na-value {
            color: #9ca3af;
            font-weight: normal !important;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.4);
            overflow: hidden;
            display: none;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            position: relative;
            background-color: var(--panel);
            padding: 24px;
            border-radius: 12px;
            width: 90%;
            max-width: 1000px;
            overflow: auto;
            max-height: 90vh;
            max-width: 95vw;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
        }

        .modal-title-header,
        .modal-body-split,
        .modal-footer,
        .modal-nav-header {
            min-width: 870px;
        }

        .modal-body-split {
            display: flex;
            gap: 24px;
            flex: 1;
        }

        @media screen and (max-width: 990px) {
            .modal {
                justify-content: flex-start;
                padding-left: 20px;
                padding-right: 20px;
            }
        }

        #cancel-btn,
        #settings-cancel-btn {
            background-color: var(--red-light-color);
            margin-right: 8px;
        }

        #cancel-btn:hover,
        #settings-cancel-btn:hover {
            background-color: var(--red-dark-color);
        }

        #save-btn:disabled {
            background-color: #ccc;
            cursor: not-allowed;
            opacity: 0.7;
        }

        .modal-content h2 {
            margin-top: 0px;
        }

        #edit-modal .modal-content {
            max-width: 1000px;
            max-height: 1000px;
            display: flex;
            flex-direction: column;
        }

        #edit-modal .modal-content {
            display: block !important;
            height: auto !important;
            max-height: 90vh !important;
            overflow-y: auto !important;
        }

        #edit-modal .modal-body-split {
            height: auto !important;
            min-height: 0 !important;
            overflow: visible !important;
            flex: none !important;
        }

        .modal-title-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
            gap: 15px;
            flex-shrink: 0;
        }

        #modal-title {
            border-bottom: none;
            padding-bottom: 0;
            margin-top: 0;
            margin-bottom: 0;
            white-space: nowrap;
        }

        .modal-content label {
            display: block;
            margin-top: 5px;
            color: #333;
        }

        #scale-container .label-text {
            font-weight: bold;
        }

        .modal-content input[type="text"] {
            width: 100%;
            box-sizing: border-box;
            padding: 8px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            font-weight: bold;
            margin-top: 0;
        }

        .modal-hint {
            text-align: center;
            margin-top: 15px;
            transition: color 0.3s;
            border: 1px solid #ffe17e;
            padding: 6px 10px;
            border-radius: 8px;
            background: #fff3cc;
            font-style: italic;
            font-size: 0.8em;
        }

        .modal-hint.is-complete {
            background: #fff;
            border-color: #ddd;
            color: #666;
            font-style: italic;
        }

        .modal-reset-container {
            margin-top: 25px;
            text-align: left;
        }

        #reset-cod-btn,
        #reset-job-size-btn,
        #toggle-ref-markers-btn,
        #toggle-ref-markers-cod-btn,
        #resolution-warning-ignore-btn {
            background: transparent;
            font-size: 0.9em;
            font-weight: normal;
            border: 1px solid #ddd;
            padding: 6px 6px;
            border-radius: 6px;
            color: #333;
        }

        #reset-cod-btn:hover,
        #reset-job-size-btn:hover,
        #resolution-warning-ignore-btn:hover {
            color: #fff;
            background: var(--red-light-color);
            border-color: var(--red-light-color);
        }

        #reset-cod-btn:disabled,
        #reset-job-size-btn:disabled {
            border-color: #e0e0e0;
            color: #cccccc;
            background-color: transparent;
            cursor: default;
            pointer-events: none;
        }

        #reset-cod-btn:disabled:hover,
        #reset-job-size-btn:disabled:hover {
            background-color: transparent;
            color: #cccccc;
            border-color: #e0e0e0;
        }

        #toggle-ref-markers-btn:hover,
        #toggle-ref-markers-cod-btn:hover {
            color: #fff;
            background: var(--green-light-color);
            border-color: var(--green-light-color);
        }

        .modal-tags-container {
            display: flex;
            gap: 8px;
        }

        .modal-tag {
            font-size: 14px;
            color: #ffffff;
            padding: 4px 8px;
            border-radius: 6px;
            display: none;
            display: inline-flex;
            gap: 4px;
            align-items: baseline;
            white-space: nowrap;
        }

        .modal-tag-tshirt,
        .modal-tag-wsjf {
            background-color: var(--green-dark-color);
        }

        .modal-tag-label {
            font-weight: normal;
            font-size: 0.9em;
            opacity: 0.9;
        }

        .modal-tag-value {
            font-weight: bold;
        }

        .modal-tabs {
            display: flex;
            gap: 8px;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        .tab-btn {
            flex-grow: 1;
            background-color: #f0f0f0;
            color: #555;
            border: 1px solid #ddd;
            font-weight: bold;
            padding: 8px 10px;
            transition: background-color 0.2s, color 0.2s, border-color 0.2s;
        }

        .tab-btn:not(.active):hover {
            background-color: #e5e5e5;
            border-color: #ccc;
        }

        .tab-btn.active {
            background-color: var(--green-dark-color);
            color: white;
            border-color: var(--green-dark-color);
        }

        .tab-content {
            min-height: 160px;
        }

        #modal-scales {
            margin-top: 15px;
        }

        #scale-container {
            border: 1px solid #ddd;
            padding: 5px 15px 15px 15px;
            border-radius: 8px;
            margin-top: 15px;
        }

        .modal-body-split {
            display: flex;
            gap: 24px;
            flex: 1;
            min-height: 0;
            overflow: hidden;
        }

        .modal-column-left {
            flex: 1;
            min-width: 0;
            overflow-y: auto;
            padding-right: 5px;
        }

        .modal-column-right {
            flex: 1;
            min-width: 0;
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .modal-column-right label {
            margin-top: 0;
            color: #fff;
        }

        .modal-footer {
            margin-top: 25px;
            text-align: right;
            transition: margin-top 0.2s;
        }

        .modal-footer.no-margin {
            margin-top: 0px;
        }

        .modal-nav-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-bottom: 10px;
            margin-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
            color: #666;
        }

        .modal-nav-text-btn {
            background: transparent;
            border: none;
            color: #999;
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: background-color 0.2s, color 0.2s;
            font-weight: 600;
            border: 1px solid #dfdfdf;
        }

        .modal-nav-text-btn:hover {
            background-color: #f0f0f0;
            color: #555;
        }

        .modal-nav-text-btn:disabled {
            color: #e0e0e0;
            cursor: default;
            background-color: transparent;
            border-color: #efefef;
        }

        #modal-nav-info {
            font-weight: normal;
            color: #888;
            font-style: italic;
        }

        .modal-title-header {
            padding-left: 0 !important;
            padding-right: 0 !important;
        }

        .ref-nav-label {
            font-weight: bold;
            text-transform: uppercase;
        }

        .ref-nav-label.ref-min {
            color: #bf7102;
        }

        .ref-nav-label.ref-max {
            color: #7a82ef;
        }

        .nav-separator {
            color: #ccc;
            font-weight: normal;
            margin: 0 6px;
        }

        #settings-modal .modal-content,
        #info-modal .modal-content {
            max-width: 1000px;
            width: 95%;
            max-height: 85vh;
            overflow-y: auto;
            display: block;
        }

        .settings-grid-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            align-items: start;
        }

        .settings-col {
            display: flex;
            flex-direction: column;
        }

        .settings-group {
            margin-top: 20px;
            padding: 15px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
        }

        .settings-col .settings-group:first-child {
            margin-top: 0;
        }

        .settings-group strong {
            display: block;
            margin-bottom: 5px;
            color: #333;
        }

        #language-options-container,
        #scale-setting-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px 20px;
        }

        #tshirt-sizes-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(30px, 1fr));
            gap: 10px;
        }

        #tshirt-sizes-options label {
            display: flex;
            align-items: center;
            white-space: nowrap;
        }

        #settings-modal .modal-reset-container {
            margin-top: 20px;
            text-align: right;
        }

        @media (max-width: 800px) {
            .settings-grid-layout {
                grid-template-columns: 1fr;
            }
        }

        .settings-group {
            margin-top: 20px;
            padding: 15px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
        }

        .settings-group strong {
            display: block;
            margin-bottom: 5px;
            color: #333;
        }

        #language-options-container,
        #scale-setting-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px 20px;
        }

        #tshirt-sizes-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(30px, 1fr));
            gap: 10px;
        }

        #tshirt-sizes-options label {
            display: flex;
            align-items: center;
            white-space: nowrap;
        }

        #settings-modal .modal-reset-container {
            margin-top: 20px;
            text-align: left;
        }

        #reset-settings-btn {
            background: transparent;
            font-size: 0.9em;
            font-weight: normal;
            border: 1px solid #ddd;
            padding: 6px 10px;
            border-radius: 6px;
            color: #333;
        }

        #reset-settings-btn:hover {
            color: #fff;
            background: var(--red-light-color);
            border-color: var(--red-light-color);
        }

        #color-settings-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px 45px;
            margin-top: 10px;
            grid-auto-flow: column;
            grid-template-rows: repeat(7, auto);
        }

        .color-setting-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .color-setting-item label {
            margin: 0;
            font-weight: normal;
        }

        input[type="color"] {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            width: 50px;
            height: 30px;
            background-color: transparent;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            cursor: pointer;
        }

        input[type="color"]::-webkit-color-swatch {
            border-radius: 3px;
            border: none;
        }

        input[type="color"]::-moz-color-swatch {
            border-radius: 3px;
            border: none;
        }

        #version-info-container {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 8px;
        }

        #version-info-container>div {
            display: flex;
            align-items: baseline;
        }

        #version-info-container span[id$='-label'] {
            font-weight: 600;
            min-width: 110px;
            flex-shrink: 0;
        }

        #info-about-divider {
            border: 1px dashed var(--border-color);
            margin: 5px 0px;
        }

        #info-weblink-sentence {
            margin-top: 8px;
            margin-bottom: 0;
        }

        #info-modal .settings-grid-layout {
            align-items: stretch;
        }

        #info-modal .settings-col:last-child {
            display: flex;
            flex-direction: column;
        }

        #info-modal .info-tab-content {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        #info-modal .info-tab-content.hidden {
            display: none;
        }

        #info-modal .info-tab-content .settings-group {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            margin-bottom: 0;
        }

        #info-license-text,
        #info-license-text-thirdparty {
            width: 100%;
            box-sizing: border-box;
            margin-top: 0;
            padding: 8px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            resize: none;
            font-family: inherit;
            font-size: 0.9em;
            background-color: #fafafa;
            color: #333;
            overflow-y: auto;
            flex-grow: 1;
            height: auto;
            min-height: 150px;
        }

        .info-license-designation {
            margin-bottom: 12px;
        }

        .info-license-link-container {
            margin-top: 10px;
        }

        .info-license-link {
            background: #f0f0f0;
            font-size: 0.9em;
            font-weight: normal;
            border: 1px solid #ddd;
            padding: 6px 10px;
            border-radius: 6px;
            color: #333;
            text-decoration: none;
            display: inline-block;
        }

        .info-license-link:hover {
            background: #e5e5e5;
            border-color: #ccc;
        }

        #info-tab-btn-thirdparty.tab-btn.active,
        #info-tab-btn-software.tab-btn.active {
            background-color: #e5e5e5;
            color: #333;
            border-color: #ccc;
        }

        #info-tab-btn-thirdparty,
        #info-tab-btn-software {
            font-weight: normal;
        }

        #reset-app-modal .modal-content {
            max-width: 500px;
        }

        #reset-app-modal .modal-title-header,
        #reset-app-modal .modal-body-split,
        #reset-app-modal .modal-footer,
        #reset-app-modal .modal-nav-header {
            min-width: auto !important;
            width: 100%;
        }

        #reset-app-modal .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        #reset-app-export-btn {
            background-color: #666;
            border: 1px solid #666;
            color: white;
        }

        #reset-app-export-btn:hover {
            background-color: #444;
            border-color: #444;
        }

        #reset-app-confirm-btn {
            background-color: var(--red-light-color);
            border: 1px solid var(--red-light-color);
            color: white;
        }

        #reset-app-confirm-btn:hover {
            background-color: var(--red-dark-color);
            border-color: var(--red-dark-color);
        }

        #reset-app-cancel-btn {
            background-color: var(--green-dark-color);
            border: 1px solid var(--green-dark-color);
            color: white;
        }

        #reset-app-cancel-btn:hover {
            background-color: var(--green-light-color);
            border-color: var(--green-light-color);
        }

        #reset-app-modal .settings-group {
            font-style: italic;
            background-color: #f3d6ce;
            color: #6b1701;
            border-color: #bb6149;
        }

        #reset-app-text {
            margin: 0px;
        }

        #csv-sort-desc-btn .sort-icon {
            transform: rotate(180deg);
        }

        #csv-export-modal .modal-content {
            max-width: 700px;
        }

        #csv-export-modal .modal-title-header,
        #csv-export-modal .modal-body-split,
        #csv-export-modal .modal-footer,
        #csv-export-modal .modal-nav-header {
            min-width: auto !important;
            width: 100%;
        }

        #csv-export-modal .pbi-filters {
            border-top: none;
            border-bottom: none;
            padding: 0;
            margin-top: 0;
            justify-content: flex-start;
        }

        #csv-export-sort-status {
            margin: 15px 5px 5px 5px;
            color: #333;
            font-weight: bold;
        }

        #btn-csv-export-cancel {
            background-color: var(--red-light-color);
            border: 1px solid var(--red-light-color);
            color: #fff;
            margin-right: 5px;
        }

        #btn-csv-export-cancel:hover {
            background-color: var(--red-dark-color);
            border-color: var(--red-dark-color);
        }

        #btn-csv-export-confirm {
            background-color: var(--green-dark-color);
            border: 1px solid var(--green-dark-color);
            color: #fff;
        }

        #btn-csv-export-confirm:hover {
            background-color: var(--green-light-color);
            border-color: var(--green-light-color);
        }

        #csv-export-text {
            margin-top: 0;
            line-height: 1.5;
            color: #333;
            white-space: pre-line;
            margin-bottom: 0px;
        }

        #csv-export-modal .modal-content {
            max-width: 700px;
        }

        .csv-sort-label-prefix {
            font-weight: normal;
            color: #333;
        }

        input[type="range"] {
            --pct: 0%;
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            background: transparent;
            accent-color: var(--slider-fill);
            cursor: pointer;
            block-size: var(--slider-thumb-size);
            margin-top: 12px;
        }

        input[type="range"]:focus {
            outline: none;
        }

        input[type="range"]::-webkit-slider-runnable-track {
            height: var(--slider-track-height);
            border: 1px solid var(--slider-track-border);
            border-radius: 999px;
            background: linear-gradient(to right, var(--slider-fill) 0 var(--pct), var(--slider-track-bg) var(--pct) 100%);
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: var(--slider-thumb-size);
            height: var(--slider-thumb-size);
            border-radius: 50%;
            background: var(--slider-thumb-bg);
            border: 2px solid var(--slider-thumb-border);
            margin-top: calc((var(--slider-track-height) - var(--slider-thumb-size)) / 2);
            transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
        }

        input[type="range"]::-webkit-slider-thumb:hover {
            border-color: var(--slider-fill);
            box-shadow: 0 0 0 4px color-mix(in oklab, var(--slider-fill) 18%, transparent);
            transform: scale(1.06);
        }

        input[type="range"]::-webkit-slider-thumb:active {
            box-shadow: 0 0 0 6px color-mix(in oklab, var(--slider-fill) 24%, transparent);
            transform: scale(1.1);
        }

        input[type="range"]:hover::-webkit-slider-runnable-track {
            border-color: color-mix(in oklab, var(--slider-track-border) 70%, var(--slider-fill) 30%);
        }

        input[type="range"]::-moz-range-track {
            height: var(--slider-track-height);
            background: var(--slider-track-bg);
            border: 1px solid var(--slider-track-border);
            border-radius: 999px;
        }

        input[type="range"]::-moz-range-progress {
            height: var(--slider-track-height);
            background: var(--slider-fill);
            border: 1px solid var(--slider-fill);
            border-radius: 999px;
        }

        input[type="range"]::-moz-range-thumb {
            width: var(--slider-thumb-size);
            height: var(--slider-thumb-size);
            border-radius: 50%;
            background: var(--slider-thumb-bg);
            border: 2px solid var(--slider-thumb-border);
            transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
        }

        input[type="range"]::-moz-range-thumb:hover {
            border-color: var(--slider-fill);
            box-shadow: 0 0 0 4px color-mix(in oklab, var(--slider-fill) 18%, transparent);
            transform: scale(1.06);
        }

        input[type="range"]::-moz-range-thumb:active {
            box-shadow: 0 0 0 6px color-mix(in oklab, var(--slider-fill) 24%, transparent);
            transform: scale(1.1);
        }

        #pbi-complexity {
            --slider-fill: var(--color-complexity);
            --slider-thumb-border: var(--color-complexity);
        }

        #pbi-effort {
            --slider-fill: var(--color-effort);
            --slider-thumb-border: var(--color-effort);
        }

        #pbi-doubt {
            --slider-fill: var(--color-doubt);
            --slider-thumb-border: var(--color-doubt);
        }

        #pbi-cod-bv {
            --slider-fill: var(--color-bv);
            --slider-thumb-border: var(--color-bv);
        }

        #pbi-cod-tc {
            --slider-fill: var(--color-tc);
            --slider-thumb-border: var(--color-tc);
        }

        #pbi-cod-rroe {
            --slider-fill: var(--color-rroe);
            --slider-thumb-border: var(--color-rroe);
        }

        .slider-value {
            float: right;
            font-weight: bold;
            color: #fff !important;
            font-size: 16px;
        }

        .slider-value.initial-state {
            color: #ffffff !important;
        }

        .slider-scale {
            display: flex;
            justify-content: space-between;
            margin-top: 5px;
            padding: 0 10px;
            height: 30px;
        }

        .slider-scale span {
            display: inline-block;
            min-width: 20px;
            text-align: center;
            cursor: pointer;
            font-size: 12px;
            color: var(--muted);
            transition: all 0.2s ease;
        }

        .slider-scale span.active-scale-value {
            background: #333 !important;
            color: #fff !important;
            border-color: #333 !important;
            font-weight: bold;
            z-index: 10;
            box-shadow: none;
            font-size: 0.9em;
            width: 26px;
            height: 26px;
        }

        .empty-scale-step {
            visibility: hidden;
            pointer-events: none;
            display: inline-block;
            min-width: 20px;
        }

        :root {
            --ref-marker-min-bg: #f0ad4e;
            --ref-marker-min-color: #ffffff;
            --ref-marker-min-border: 1px solid #eea236;
            --ref-marker-min-radius: 50%;
            --ref-marker-min-font-weight: bold;
            --ref-marker-max-bg: #7a82ef;
            --ref-marker-max-color: #ffffff;
            --ref-marker-max-border: 1px solid #7a82ef;
            --ref-marker-max-radius: 50%;
            --ref-marker-max-font-weight: bold;
            --ref-marker-conflict-bg: linear-gradient(135deg, #f0ad4e 50%, #7a82ef 50%);
        }

        .slider-scale span {
            font-size: 10px;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 26px;
            height: 26px;
            border-radius: 50%;
            margin: 0 -5px;
            cursor: pointer;
            background: #fafafa;
            color: #666;
            border: 1px solid #ddd;
            font-weight: normal;
            box-sizing: border-box;
        }

        .slider-scale span:not(:first-child):hover {
            background-color: #e0e0e0;
            border-color: #ccc;
        }

        .slider-scale span:first-child {
            cursor: default;
            pointer-events: none;
        }

        .slider-scale span.ref-marker-min {
            background: var(--ref-marker-min-bg);
            color: var(--ref-marker-min-color) !important;
            border: var(--ref-marker-min-border);
            border-radius: var(--ref-marker-min-radius);
            font-weight: var(--ref-marker-min-font-weight);
            z-index: 1;
        }

        .slider-scale span.ref-marker-max {
            background: var(--ref-marker-max-bg);
            color: var(--ref-marker-max-color) !important;
            border: var(--ref-marker-max-border);
            border-radius: var(--ref-marker-max-radius);
            font-weight: var(--ref-marker-max-font-weight);
            z-index: 1;
        }

        .slider-scale span.ref-marker-min.ref-marker-max {
            background: var(--ref-marker-conflict-bg);
            border-color: #ccc;
        }

        .slider-scale span.active-scale-value {
            background: #333 !important;
            color: #fff !important;
            border-color: #333 !important;
            font-weight: bold;
            z-index: 10;
            box-shadow: none;
            font-size: 0.9em;
            width: 26px;
            height: 26px;
        }

        .info-icon-link {
            display: none;
            margin-left: 2px;
            vertical-align: middle;
            text-decoration: none;
            line-height: 0;
        }

        .info-icon-svg {
            width: 14px;
            height: 14px;
            transition: fill 0.2s ease;
        }

        .info-icon-svg path {
            fill: #d2d2d2;
            transition: fill 0.2s ease;
        }

        .info-icon-link:hover .info-icon-svg path {
            fill: var(--green-dark-color);
        }

        .pbi-item.highlighted,
        .rs-item.highlighted {
            background-color: #f4f4f4;
            border-color: var(--border-color);
            box-shadow: rgba(0, 0, 0, 0.06) 0px 1px 1px 0px inset;
        }

        .story-visualization:hover,
        .story-visualization.highlighted {
            border-color: #dfdfdf;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            transform: scale(1.03);
        }

        .pbi-item.is-irrelevant-to-sort::after,
        .story-visualization.is-irrelevant-to-sort::after,
        .rs-item.is-irrelevant-to-sort::after,
        .wsjf-tab-view-active .pbi-item.pbi-item-no-wsjf-rank::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.65);
            z-index: 1;
            border-radius: 8px;
            pointer-events: none;
            opacity: 1;
            transition: opacity 0.2s ease-in-out;
        }

        .pbi-item.is-irrelevant-to-sort:hover::after,
        .story-visualization.is-irrelevant-to-sort:hover::after,
        .rs-item.is-irrelevant-to-sort:hover::after,
        .pbi-item.is-irrelevant-to-sort.highlighted::after,
        .story-visualization.is-irrelevant-to-sort.highlighted::after,
        .rs-item.is-irrelevant-to-sort.highlighted::after,
        .wsjf-tab-view-active .pbi-item.pbi-item-no-wsjf-rank:hover::after,
        .wsjf-tab-view-active .pbi-item.pbi-item-no-wsjf-rank.highlighted::after {
            opacity: 0;
        }

        .pbi-item.is-irrelevant-to-sort,
        .rs-item.is-irrelevant-to-sort,
        .wsjf-tab-view-active .pbi-item.pbi-item-no-wsjf-rank {
            border-color: #e0e0e0;
            border-style: dashed;
        }

        .pbi-item.is-irrelevant-to-sort,
        .wsjf-tab-view-active .pbi-item.pbi-item-no-wsjf-rank {
            border-width: 1px;
        }

        .rs-item.is-irrelevant-to-sort {
            border-left-style: none;
            border-right-style: none;
            border-top-style: dashed;
            border-bottom-style: dashed;
        }

        .pbi-item.is-irrelevant-to-sort:hover,
        .pbi-item.is-irrelevant-to-sort.highlighted,
        .rs-item.is-irrelevant-to-sort:hover,
        .rs-item.is-irrelevant-to-sort.highlighted,
        .wsjf-tab-view-active .pbi-item.pbi-item-no-wsjf-rank:hover,
        .wsjf-tab-view-active .pbi-item.pbi-item-no-wsjf-rank.highlighted {
            border-color: var(--border-color);
            border-style: solid;
        }

        .pbi-item.is-irrelevant-to-sort:hover,
        .pbi-item.is-irrelevant-to-sort.highlighted,
        .wsjf-tab-view-active .pbi-item.pbi-item-no-wsjf-rank:hover,
        .wsjf-tab-view-active .pbi-item.pbi-item-no-wsjf-rank.highlighted {
            border-width: 1px;
        }

        .rs-item.is-irrelevant-to-sort:hover,
        .rs-item.is-irrelevant-to-sort.highlighted {
            border-left-style: none;
            border-right-style: none;
            border-top-style: solid;
            border-bottom-style: solid;
        }

        .pbi-item.is-irrelevant-to-sort button,
        .wsjf-tab-view-active .pbi-item.pbi-item-no-wsjf-rank button {
            border: 1px solid #ccc;
            color: #666;
            background-color: #fafafa;
        }

        .pbi-item.is-irrelevant-to-sort:hover button,
        .pbi-item.is-irrelevant-to-sort.highlighted button,
        .wsjf-tab-view-active .pbi-item.pbi-item-no-wsjf-rank:hover button,
        .wsjf-tab-view-active .pbi-item.pbi-item-no-wsjf-rank.highlighted button {
            color: #bbb;
            border: 1px solid #ddd;
            background-color: #fff;
        }

        .pbi-item.is-irrelevant-to-sort:hover button.edit:hover,
        .pbi-item.is-irrelevant-to-sort.highlighted button.edit:hover,
        .wsjf-tab-view-active .pbi-item.pbi-item-no-wsjf-rank:hover button.edit:hover,
        .wsjf-tab-view-active .pbi-item.pbi-item-no-wsjf-rank.highlighted button.edit:hover {
            background-color: var(--green-dark-color);
            color: #fff;
            border-color: var(--green-dark-color);
        }

        .pbi-item.is-irrelevant-to-sort:hover button.delete:hover,
        .pbi-item.is-irrelevant-to-sort.highlighted button.delete:hover,
        .wsjf-tab-view-active .pbi-item.pbi-item-no-wsjf-rank:hover button.delete:hover,
        .wsjf-tab-view-active .pbi-item.pbi-item-no-wsjf-rank.highlighted button.delete:hover {
            background-color: var(--red-light-color);
            color: #fff;
            border-color: var(--red-light-color);
        }

        .pbi-item.is-irrelevant-to-sort:hover button.reference-btn:hover,
        .pbi-item.is-irrelevant-to-sort.highlighted button.reference-btn:hover,
        .wsjf-tab-view-active .pbi-item.pbi-item-no-wsjf-rank:hover button.reference-btn:hover,
        .wsjf-tab-view-active .pbi-item.pbi-item-no-wsjf-rank.highlighted button.reference-btn:hover {
            background-color: var(--reference-active-bg) !important;
            border-color: var(--reference-active-border) !important;
        }

        .pbi-item.is-irrelevant-to-sort:hover button.reference-btn:hover svg,
        .pbi-item.is-irrelevant-to-sort.highlighted button.reference-btn:hover svg,
        .wsjf-tab-view-active .pbi-item.pbi-item-no-wsjf-rank:hover button.reference-btn:hover svg,
        .wsjf-tab-view-active .pbi-item.pbi-item-no-wsjf-rank.highlighted button.reference-btn:hover svg {
            fill: var(--reference-icon-hover-fill);
        }

        .pbi-item.is-irrelevant-to-sort:hover button.reference-btn.is-reference:hover svg.icon-reference-set,
        .pbi-item.is-irrelevant-to-sort.highlighted button.reference-btn.is-reference:hover svg.icon-reference-set,
        .wsjf-tab-view-active .pbi-item.pbi-item-no-wsjf-rank:hover button.reference-btn.is-reference:hover svg.icon-reference-set,
        .wsjf-tab-view-active .pbi-item.pbi-item-no-wsjf-rank.highlighted button.reference-btn.is-reference:hover svg.icon-reference-set {
            fill: var(--reference-icon-hover-fill);
        }

        .pbi-item.reference-item.is-irrelevant-to-sort::after,
        .story-visualization.reference-item.is-irrelevant-to-sort::after,
        .rs-item.reference-item.is-irrelevant-to-sort::after,
        .wsjf-tab-view-active .pbi-item.pbi-item-no-wsjf-rank.reference-item::after {
            display: none;
        }

        .pbi-item.reference-item.is-irrelevant-to-sort,
        .rs-item.reference-item.is-irrelevant-to-sort,
        .wsjf-tab-view-active .pbi-item.pbi-item-no-wsjf-rank.reference-item {
            border-style: solid;
            border-color: #ccc;
            background-color: #fffbef;
            border-left: 4px solid var(--reference-active-border);
            opacity: 1;
        }

        .pbi-item.reference-item.is-irrelevant-to-sort,
        .wsjf-tab-view-active .pbi-item.pbi-item-no-wsjf-rank.reference-item {
            border: 1px solid #ccc;
            border-left: 4px solid var(--reference-active-border);
        }

        .pbi-item.reference-item.is-irrelevant-to-sort:hover,
        .rs-item.reference-item.is-irrelevant-to-sort:hover,
        .wsjf-tab-view-active .pbi-item.pbi-item-no-wsjf-rank.reference-item:hover {
            border-color: #ccc;
            border-left-color: var(--reference-active-border);
            border-style: solid;
        }

        .popup-trigger-active.pbi-item-tshirt,
        .popup-trigger-active.story-title-tshirt-clickable {
            background-color: #8a8a8a;
            border-color: #8a8a8a;
            color: #fff;
        }

        .popup-trigger-active.rs-cell {
            background-color: #e5e5e5;
            border-color: #ccc;
        }

        .rs-cell.highlighted.popup-trigger-active {
            border-color: var(--green-dark-color);
            background-color: #e6f3e9;
            color: #333;
        }

        .rs-item.highlighted .rs-cell.popup-trigger-active:not(.highlighted) {
            background-color: #8a8a8a;
            border-color: #8a8a8a;
            color: #fff;
        }

        @keyframes temporary-highlight-fade {
            from {
                box-shadow: 1px 1px 0px var(--green-light-color) !important;
            }

            to {
                box-shadow: 0 0 0px var(--green-dark-color);
            }
        }

        .pbi-item.is-just-edited,
        .rs-item.is-just-edited,
        .story-visualization.is-just-edited {
            border-color: var(--green-dark-color) !important;
            animation: temporary-highlight-fade 2.0s ease-out forwards;
        }

        #filter-lock-btn:not(.active):hover {
            background-color: var(--red-dark-color);
            border-color: var(--red-dark-color);
            color: white;
        }

        #filter-lock-btn:not(.active):hover svg {
            fill: white;
        }

        #filter-lock-btn.active {
            background-color: var(--red-dark-color);
            border-color: var(--red-dark-color);
            color: white;
        }

        #filter-lock-btn.active svg {
            fill: white;
        }

        #filter-lock-btn.active:hover {
            background-color: var(--red-light-color);
            border-color: var(--red-light-color);
            color: white;
        }

        #filter-lock-btn.active:hover svg {
            fill: white;
        }

        #filter-lock-btn:disabled:hover {
            background-color: #f5f5f5 !important;
            border-color: #eee !important;
            color: #ccc !important;
            cursor: not-allowed !important;
        }

        #filter-lock-btn:disabled:hover svg {
            fill: #ccc !important;
        }

        #reset-filters-btn:disabled:hover {
            background-color: #f5f5f5 !important;
            border-color: #eee !important;
            color: #ccc !important;
        }

        #split-root.filter-locked .pbi-filters .sort-direction-switcher .sort-btn {
            opacity: 0.5;
            pointer-events: none;
            cursor: not-allowed;
        }

        #split-root.filter-locked .pbi-filters #filter-lock-btn {
            opacity: 1;
            pointer-events: auto;
            cursor: pointer;
            background-color: var(--red-dark-color);
            border-color: var(--red-dark-color);
            color: white;
        }

        #split-root.filter-locked .pbi-filters #filter-lock-btn svg {
            fill: white;
        }

        #split-root.filter-locked .pbi-filters #filter-lock-btn:hover {
            background-color: var(--red-light-color);
            border-color: var(--red-light-color);
        }

        #split-root.filter-locked .pane-right #relative-sizing-header .rs-col-header {
            cursor: default;
        }

        #split-root.filter-locked .pane-right #relative-sizing-header .rs-col-header:hover {
            background-color: #f0f0f0;
            border-color: #ddd;
        }

        #split-root.filter-locked .pane-right #relative-sizing-header .rs-col-header .highlight-btn {
            cursor: pointer;
            pointer-events: auto;
        }

        #split-root.filter-locked .pane-right #relative-sizing-header .rs-col-header .highlight-btn:hover {
            background-color: var(--green-dark-color);
            color: #fff;
            border: 1px solid var(--green-dark-color);
        }

        #split-root.filter-locked .pane-right #relative-sizing-header .rs-col-header .highlight-btn.active:hover {
            background-color: var(--green-light-color);
            color: #fff;
            border: 1px solid var(--green-light-color);
        }

        #split-root.filter-locked .pane-right #relative-sizing-header .rs-col-header .sort-indicator:hover {
            color: #ccc;
            background-color: #fff;
            border-color: #cccccc;
            cursor: default;
        }

        #split-root.filter-locked .pane-right #relative-sizing-header .rs-col-header .sort-indicator.sort-asc-icon,
        #split-root.filter-locked .pane-right #relative-sizing-header .rs-col-header .sort-indicator.sort-desc-icon {
            display: none !important;
        }

        #split-root.filter-locked .pane-right #relative-sizing-header .rs-col-header .sort-indicator.sort-default-icon {
            display: inline-block !important;
            color: #ccc;
        }

        #split-root.custom-sort-active .rs-col-header .sort-indicator.sort-default-icon {
            display: none !important;
        }

        .reference-btn {
            background-color: #fff;
            padding: 5px;
            margin: 2px;
            margin-right: 5px;
            border: 1px solid #ddd;
            width: 28px;
            height: 28px;
            box-sizing: border-box;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            vertical-align: middle;
            --reference-icon-fill: #bbb;
            --reference-icon-hover-fill: #fff;
            --reference-active-bg: #f0ad4e;
            --reference-active-border: #eea236;
            --reference-active-icon-fill: #fff;
        }

        .reference-btn svg {
            width: 20px;
            height: 20px;
            fill: var(--reference-icon-fill);
        }

        .reference-btn:hover {
            background-color: var(--reference-active-bg) !important;
            border-color: var(--reference-active-border) !important;
        }

        .reference-btn:hover svg {
            fill: var(--reference-icon-hover-fill);
        }

        .reference-btn .icon-reference-set {
            display: none;
        }

        .reference-btn .icon-reference-unset {
            display: block;
        }

        .reference-btn.is-reference {
            background-color: var(--reference-active-bg);
            border-color: var(--reference-active-border);
        }

        .reference-btn.is-reference .icon-reference-set {
            display: block;
            fill: var(--reference-active-icon-fill);
        }

        .reference-btn.is-reference .icon-reference-unset {
            display: none;
        }

        .reference-btn.is-reference:hover svg.icon-reference-set {
            fill: var(--reference-icon-hover-fill);
        }

        .reference-item.ref-min,
        .reference-btn.ref-min,
        .reference-btn.ref-btn-min {
            --reference-active-bg: #f0ad4e;
            --reference-active-border: #eea236;
            --reference-item-bg: #fffbef;
            --reference-item-border: #eea236;
            --reference-slot-border: #fdd7a1;
            --reference-slot-cell-bg: #fff;
            --reference-slot-cell-border: #f3e1c1;
            --reference-slot-calc-bg: #fceacb;
            --reference-slot-calc-border: #efd7ab;
            --reference-viz-border: #f1e3ce;
            --reference-viz-shadow: rgba(238, 162, 54, 0.4);
            --reference-btn-hover-bg: #f89f22;
        }

        .reference-btn.ref-btn-min:hover {
            background-color: #f0ad4e !important;
            border-color: #eea236 !important;
        }

        .reference-btn.ref-btn-min:hover svg {
            fill: #ffffff !important;
        }

        .reference-item.ref-max,
        .reference-btn.ref-max,
        .reference-btn.ref-btn-max {
            --reference-active-bg: #7a82ef;
            --reference-active-border: #7a82ef;
            --reference-item-bg: #f1f2ff;
            --reference-item-border: #b0b4df;
            --reference-slot-border: #cfccff;
            --reference-slot-cell-bg: #fff;
            --reference-slot-cell-border: #d0dfff;
            --reference-slot-calc-bg: #e5e7ff;
            --reference-slot-calc-border: #cfccff;
            --reference-viz-border: #dce9ff;
            --reference-viz-shadow: rgba(117, 126, 239, 0.4);
            --reference-btn-hover-bg: #7a82ef;
        }

        .reference-btn.ref-btn-max:hover {
            background-color: #7a82ef !important;
            border-color: #7a82ef !important;
        }

        .reference-btn.ref-btn-max:hover svg {
            fill: #ffffff !important;
        }

        .pbi-item.reference-item,
        .rs-item.reference-item {
            background-color: var(--reference-item-bg);
        }

        .pbi-item.reference-item {
            border: 1px solid var(--border-color);
        }

        .story-visualization.reference-item {
            border: 2px solid var(--reference-viz-border);
            box-shadow: 0 0 8px var(--reference-viz-shadow);
        }

        .pbi-item.reference-item.is-irrelevant-to-sort::after,
        .story-visualization.reference-item.is-irrelevant-to-sort::after,
        .rs-item.reference-item.is-irrelevant-to-sort::after {
            display: none;
        }

        .pbi-item.reference-item.is-irrelevant-to-sort,
        .rs-item.reference-item.is-irrelevant-to-sort {
            border-style: solid;
            border-color: #ccc;
            background-color: var(--reference-item-bg);
        }

        .pbi-item.reference-item.is-irrelevant-to-sort {
            border: 1px solid #ccc;
        }

        .pbi-item.reference-item.is-irrelevant-to-sort:hover,
        .rs-item.reference-item.is-irrelevant-to-sort:hover {
            border-color: #ccc;
        }

        .ref-slot {
            flex-shrink: 0;
            background: #fff;
            border-bottom: 1px solid var(--border-color);
            padding: 8px;
            min-height: 54px;
            box-sizing: border-box;
            display: none;
        }

        .ref-slot.has-content {
            display: block;
            padding: 10px 0px;
            border: 0;
            min-height: 0;
            margin: 0;
            border-bottom: 1px solid var(--border-color);
        }

        .ref-slot .pbi-item,
        .ref-slot .rs-item {
            margin-bottom: 10px;
        }

        .ref-slot .pbi-item:last-child,
        .ref-slot .rs-item:last-child {
            margin-bottom: 0;
        }

        .ref-slot.has-content .pbi-item {
            margin-left: 0;
            margin-right: 0;
        }

        .ref-slot.has-content .pbi-item .pbi-filters {
            margin-bottom: 0;
        }

        .ref-slot.has-content .rs-item {
            margin-left: 0;
            margin-right: 0;
        }

        .pbi-item.reference-item:hover,
        .pbi-item.reference-item.highlighted,
        .rs-item.reference-item:hover,
        .rs-item.reference-item.highlighted {
            background-color: var(--reference-item-bg) !important;
            border-color: inherit !important;
            box-shadow: none !important;
        }

        .story-visualization.reference-item:hover,
        .story-visualization.reference-item.highlighted {
            transform: none !important;
            border-color: var(--reference-viz-border) !important;
            box-shadow: 0 0 8px var(--reference-viz-shadow) !important;
        }

        .pbi-item.reference-item.is-just-edited,
        .rs-item.reference-item.is-just-edited,
        .story-visualization.reference-item.is-just-edited {
            animation: none !important;
            animation-name: none !important;
            box-shadow: none !important;
            border-color: inherit !important;
        }

        .story-visualization.reference-item.is-just-edited {
            border: 2px solid var(--reference-active-border) !important;
            box-shadow: 0 0 8px var(--reference-viz-shadow) !important;
        }

        .story-visualization.reference-item .story-title-tshirt-clickable {
            pointer-events: none;
            cursor: default;
        }

        #ref-slot-left .pbi-item.reference-item .pbi-item-tshirt {
            margin-right: 15px;
            font-size: 14px;
            font-weight: bold;
            color: #fff !important;
            background-color: var(--reference-active-bg) !important;
            padding: 4px 8px;
            border-radius: 6px;
            min-width: 17px;
            min-height: 21px;
            text-align: center;
            border: 1px solid var(--reference-active-border) !important;
            cursor: auto;
        }

        #ref-slot-right .rs-item.reference-item .rs-cell {
            pointer-events: none;
            cursor: default;
        }

        #ref-slot-right .rs-item.reference-item .rs-cell:hover {
            background-color: #f9f9f9 !important;
            border-color: #eee !important;
        }

        .ref-slot .pbi-item.reference-item,
        .ref-slot .pbi-item.reference-item:hover,
        .ref-slot .pbi-item.reference-item.highlighted {
            border-color: var(--reference-slot-border) !important;
            box-shadow: none !important;
        }

        .ref-slot .rs-item.reference-item .rs-cell {
            background-color: #fff !important;
            border-color: var(--reference-slot-cell-border) !important;
            color: #333 !important;
        }

        .ref-slot .rs-item.reference-item.highlighted .rs-cell[data-value-type] {
            background-color: #fff !important;
            border-color: var(--reference-slot-cell-border) !important;
            color: #333 !important;
        }

        .ref-slot .rs-item.reference-item .rs-cell.calculated,
        .ref-slot .rs-item.reference-item.highlighted .rs-cell.calculated {
            background-color: var(--reference-slot-calc-bg) !important;
            border-color: var(--reference-slot-calc-border) !important;
            color: #555 !important;
        }

        .ref-slot .rs-item.reference-item .rs-cell.calculated:not([data-value-type]),
        .ref-slot .rs-item.reference-item.highlighted .rs-cell.calculated:not([data-value-type]) {
            background-color: var(--reference-slot-calc-bg) !important;
            border-color: var(--reference-slot-cell-border) !important;
            color: #555 !important;
        }

        .ref-slot .rs-item.reference-item .rs-cell.highlighted,
        .ref-slot .rs-item.reference-item.highlighted .rs-cell.highlighted {
            border: 1px solid #61a473 !important;
            background-color: #8dce9e !important;
            color: #fff !important;
        }

        .pbi-item.reference-item .reference-btn.is-reference:hover,
        .pbi-item.reference-item .reference-btn.is-reference:focus-visible {
            background-color: var(--reference-btn-hover-bg) !important;
            border-color: var(--reference-btn-hover-bg) !important;
            outline: none;
        }

        .story-visualization.reference-item.ref-min .visualization-edit-btn:hover,
        .story-visualization.reference-item.ref-min .visualization-edit-btn:focus-visible {
            background-color: #f89f22 !important;
            border-color: #f89f22 !important;
            outline: none;
        }

        .story-visualization.reference-item.ref-max .visualization-edit-btn:hover,
        .story-visualization.reference-item.ref-max .visualization-edit-btn:focus-visible {
            background-color: #7a82ef !important;
            border-color: #7a82ef !important;
            outline: none;
        }

        .ref-slot .pbi-item.reference-item:focus,
        .ref-slot .pbi-item.reference-item *:focus {
            outline: none !important;
        }

        .ref-slot .rs-item.reference-item,
        .ref-slot .rs-item.reference-item:hover,
        .ref-slot .rs-item.reference-item.highlighted {
            border-top-color: var(--reference-slot-border) !important;
            border-bottom-color: var(--reference-slot-border) !important;
            box-shadow: none !important;
        }

        .story-visualization.reference-item.ref-max .story-title-tshirt,
        .story-visualization.reference-item.ref-max .story-title-wsjf,
        .story-visualization.reference-item.ref-max .story-title-meta {
            background-color: #fff;
            border-color: #cfccff;
            color: #6871e5;
        }

        .story-visualization.reference-item.ref-min .story-title-tshirt,
        .story-visualization.reference-item.ref-min .story-title-wsjf,
        .story-visualization.reference-item.ref-min .story-title-main,
        .story-visualization.reference-item.ref-min .story-title-meta {
            background-color: #fff;
            border-color: #e5c08a;
            color: #bf7102;
        }

        .story-visualization.reference-item.ref-max .story-title-main {
            color: #5861d3;
        }

        #split-root.custom-sort-active .ref-slot .pbi-item.reference-item #btnBoxControls button {
            opacity: 0.5;
            pointer-events: none;
            cursor: default;
        }

        #split-root.custom-sort-active .ref-slot .pbi-item.reference-item #btnBoxControls button:hover {
            background-color: #fff !important;
            color: #bbb !important;
            border-color: #ddd !important;
        }

        #split-root.custom-sort-active .ref-slot .story-visualization.reference-item .visualization-edit-btn,
        #split-root.custom-sort-active .ref-slot .story-visualization.reference-item .story-title-tshirt-clickable,
        #split-root.custom-sort-active .ref-slot .story-visualization.reference-item .wsjf-rank-tag {
            display: none !important;
        }

        #split-root.custom-sort-active .ref-slot .rs-item.reference-item .rs-cell {
            pointer-events: none;
            cursor: default;
        }

        #split-root.custom-sort-active .ref-slot .rs-item.reference-item .rs-cell:hover {
            background-color: #fff !important;
            border-color: #f3e1c1 !important;
        }

        #split-root.custom-sort-active .ref-slot .rs-item.reference-item .rs-cell.calculated:hover {
            background-color: #fceacb !important;
            border-color: #efd7ab !important;
        }

        #split-root.custom-sort-active .ref-slot .rs-item.reference-item .rs-cell.highlighted:hover {
            border: 1px solid #61a473 !important;
            background-color: #8dce9e !important;
            color: #fff !important;
        }

        .pbi-item.last-item,
        .rs-item.last-item,
        .story-visualization.last-item {
            min-height: 40px;
            background-color: transparent !important;
            border: none !important;
            box-shadow: none !important;
            color: transparent !important;
            opacity: 0;
            pointer-events: none;
            margin-top: -10px !important;
        }

        .pbi-item.last-item:hover,
        .rs-item.last-item:hover,
        .story-visualization.last-item:hover,
        .pbi-item.last-item.highlighted,
        .rs-item.last-item.highlighted,
        .story-visualization.last-item.highlighted,
        .pbi-item.last-item.is-selecting,
        .rs-item.last-item.is-selecting,
        .story-visualization.last-item.is-selecting {
            background-color: transparent !important;
            border: none !important;
            box-shadow: none !important;
            transform: none !important;
        }

        .update-notification {
            width: 100%;
            background-color: #f3d6ce;
            color: #873b27;
            border-bottom: 2px solid #bb6149;
            padding: 10px 30px;
            z-index: 999;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-sizing: border-box;
            font-weight: bold;
            font-family: sans-serif;
            justify-content: center;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
        }

        .update-notification .notification-center {
            display: flex;
            align-items: center;
            gap: 20px;
            flex-grow: 1;
            justify-content: center;
        }

        .update-notification a {
            background-color: #bb6149;
            color: #fff;
            padding: 8px 15px;
            border-radius: 5px;
            text-decoration: none;
            margin-left: 15px;
            transition: background-color 0.2s ease;
            font-size: 0.9em;
            white-space: nowrap;
        }

        .update-notification a:hover {
            background-color: #873b27;
        }

        .update-notification .close-btn {
            background: none;
            border: none;
            font-size: 28px;
            cursor: pointer;
            color: #bb6149;
            padding: 0 10px;
            transition: color 0.2s ease;
        }

        .update-notification .close-btn:hover {
            color: #873b27;
        }

        .rs-item.highlighted .rs-cell.highlighted:hover {
            border: 1px solid #61a473;
            background-color: #8dce9e;
            color: #fff;
        }

        .sortable-drag {
            opacity: 0.9 !important;
            border: 3px solid var(--green-dark-color) !important;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1) !important;
        }

        .sortable-ghost {
            opacity: 0.4 !important;
            background-color: #f4f4f4 !important;
            border: 1px solid var(--green-dark-color) !important;
        }

        #pbi-list.is-sortable-active .pbi-item:not(.reference-item):not(.last-item) {
            cursor: grab;
        }

        #pbi-list.is-sortable-active .pbi-item:not(.reference-item):not(.last-item):active {
            cursor: grabbing;
        }

        #pbi-list.is-sortable-active .pbi-item button {
            pointer-events: auto;
        }

        .wsjf-chart-wrapper {
            margin-bottom: 20px;
            display: flex;
            flex-direction: column;
            flex: 1;
            flex-shrink: 1;
            flex-basis: 0;
            min-height: 0;
        }

        .wsjf-chart-wrapper:last-child {
            margin-bottom: 0;
        }

        .wsjf-chart-wrapper.collapsed {
            flex-grow: 0;
            flex-shrink: 0;
            flex-basis: auto;
            min-height: auto;
            margin-bottom: 0;
        }

        .wsjf-chart-title-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.5em;
            margin-bottom: 15px;
            padding-bottom: 5px;
            border-bottom: 1px solid var(--border-color);
            position: relative;
            white-space: nowrap;
        }

        .wsjf-chart-title {
            display: inline-flex;
            align-items: center;
            margin: 0;
            font-size: 1.1em;
            color: #555;
            border-bottom: none;
            padding-bottom: 0;
            cursor: default;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            flex-shrink: 1;
            min-width: 50px;
        }

        #wsjf-chart-optimal-title {
            cursor: pointer;
        }

        #wsjf-chart-optimal-title:hover {
            color: #000;
        }

        #wsjf-chart-optimal-title::after {
            content: ' ';
            font-size: 0.8em;
            margin-left: 8px;
        }

        .wsjf-chart-wrapper.collapsed #wsjf-chart-optimal-title::after {
            content: ' ';
        }

        .wsjf-total-cost {
            font-weight: bold;
            font-size: 1.1em;
            color: #444;
            white-space: nowrap;
        }

        .wsjf-title-cost-value {
            font-weight: bold;
            margin-left: 5px;
            color: var(--green-dark-color);
        }

        .wsjf-total-cost.cost-higher .wsjf-title-cost-value {
            color: #c0392b;
        }

        .wsjf-chart-legend {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 1em;
            color: #666;
            background-color: rgba(255, 255, 255, 0.75);
            padding: 3px 6px;
            border-radius: 4px;
            z-index: 5;
            text-align: right;
            line-height: 1.3;
            font-style: italic;
        }

        .wsjf-chart-wrapper.collapsed .wsjf-chart-legend {
            display: none;
        }

        .wsjf-chart-outer {
            position: relative;
            padding: 20px 20px 0px 38px;
            border: 1px solid var(--border-color);
            background-color: var(--panel);
            height: 100%;
            transition: height 0.3s ease-out, padding 0.3s ease-out;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            margin-bottom: 20px;
        }

        .wsjf-chart-wrapper.collapsed .wsjf-chart-outer {
            height: 0;
            padding-top: 0;
            padding-bottom: 0;
            border-top-width: 0;
            border-bottom-width: 0;
            margin-top: -1px;
        }

        .wsjf-chart-wrapper.collapsed .wsjf-y-axis-label,
        .wsjf-chart-wrapper.collapsed .wsjf-chart-area,
        .wsjf-chart-wrapper.collapsed .wsjf-x-axis {
            display: none;
            opacity: 0;
            transition: opacity 0.1s ease-out;
            margin-bottom: 30px;
        }

        .wsjf-y-axis-label {
            position: absolute;
            left: -47px;
            font-size: 0.9em;
            color: #666;
            background-color: var(--panel);
            padding: 2px 4px;
            border: 1px solid #cccccc;
            border-radius: 4px;
            white-space: nowrap;
            z-index: 5;
        }

        .wsjf-y-axis-max {
            top: 0;
            transform: translateY(-50%);
        }

        .wsjf-y-axis-zero {
            bottom: 0;
            transform: translateY(50%);
        }

        .wsjf-y-axis-intermediate {
            transform: translateY(50%);
        }

        .wsjf-chart-compact .wsjf-time-label,
        .wsjf-chart-compact .wsjf-y-axis-label {
            font-size: 0.7em;
        }

        .wsjf-chart-wrapper.collapsed .wsjf-y-axis-label {
            display: none;
            opacity: 0;
            transition: opacity 0.1s ease-out;
        }

        .wsjf-chart-area {
            display: flex;
            flex: 1;
            width: 100%;
            position: relative;
            border-bottom: 1px solid var(--border-color);
            transition: opacity 0.3s ease-out;
            min-height: 50px;
            margin-bottom: 30px;
        }

        .wsjf-segment-container {
            height: 100%;
            display: flex;
            flex-direction: column-reverse;
            border-right: 1px dotted #adadad;
            box-sizing: border-box;
        }

        .wsjf-segment-container:last-child {
            border-right: none;
        }

        .wsjf-delay-block {
            width: 100%;
            box-sizing: border-box;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: filter 0.2s;
        }

        .wsjf-delay-block:first-child {
            border-top: none;
        }

        .wsjf-delay-block.waiting {
            background-color: #ededed !important;
            border-top: 2px solid #dbdbdb;
        }

        .wsjf-delay-block.processing {
            border-bottom: 2px solid rgba(0, 0, 0, 0.2);
            margin-bottom: -2px;
            z-index: 1;
        }

        .wsjf-delay-block.processing:first-child {
            border-top: none;
        }

        .wsjf-delay-block-label {
            font-size: 0.9em;
            text-shadow: 0 0 2px white;
            opacity: 0.8;
            transition: color 0.2s, font-weight 0.2s, font-style 0.2s, opacity 0.2s;
            font-weight: normal;
            font-style: normal;
            color: #333;
        }

        .wsjf-delay-block.processing .wsjf-delay-block-label {
            font-weight: bold;
            font-style: normal;
            color: #000;
            font-size: 0.9em;
            opacity: 1;
            text-shadow: 0 0 3px white, 0 0 5px white;
        }

        .wsjf-delay-block.waiting .wsjf-delay-block-label {
            font-weight: normal;
            font-style: italic;
            color: #666;
        }

        .wsjf-delay-block[style*="height: 0%"] .wsjf-delay-block-label,
        .wsjf-delay-block[style*="height: 1%"] .wsjf-delay-block-label,
        .wsjf-delay-block[style*="height: 2%"] .wsjf-delay-block-label,
        .wsjf-delay-block[style*="height: 3%"] .wsjf-delay-block-label,
        .wsjf-delay-block[style*="height: 4%"] .wsjf-delay-block-label {
            display: none;
        }

        .wsjf-x-axis {
            position: absolute;
            bottom: 0;
            left: 40px;
            right: 20px;
            height: 20px;
            transition: opacity 0.3s ease-out;
        }

        .wsjf-time-label {
            position: absolute;
            bottom: -10px;
            transform: translateX(-50%);
            font-size: 0.9em;
            color: #666;
            padding: 2px 4px;
            border: 1px solid #cccccc;
            border-radius: 4px;
            background: #fff;
        }

        .wsjf-time-label-start {
            transform: translateX(0);
            left: -1% !important;
        }

        .wsjf-delay-block.highlighted-block:not(.waiting) {
            border: 2px solid rgba(0, 0, 0, 0.5);
            filter: brightness(105%);
        }

        .wsjf-delay-block.waiting.highlighted-block {
            background-color: #fefefe !important;
            opacity: 1.0;
        }

        .wsjf-delay-block.highlighted-block .wsjf-delay-block-label {
            opacity: 1;
            text-shadow: 0 0 3px white, 0 0 5px white;
        }

        .wsjf-delay-block.highlighted-block:not(.waiting) .wsjf-delay-block-label {
            font-weight: bold;
            font-style: normal;
            color: #333;
            font-size: 0.9em;
        }

        .wsjf-delay-block.waiting.highlighted-block .wsjf-delay-block-label {
            color: #333;
            font-size: 0.9em;
        }

        #wsjf-no-data-container {
            margin-top: 30px;
            text-align: center;
        }

        #wsjf-no-data-text {
            font-size: 1em;
            text-align: center;
            color: #333;
        }

        .wsjf-no-data-icon {
            display: block;
            margin: 20px auto 10px auto;
            width: var(--wsjf-no-data-icon-size, 64px);
            height: var(--wsjf-no-data-icon-size, 64px);
            fill: var(--wsjf-no-data-icon-color, #999);
        }

        #resolution-warning {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            width: 100vw;
            height: 100vh;
            background-color: var(--bg);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        #resolution-warning.hidden {
            display: none;
        }

        #resolution-warning .pbi-list-empty-state {
            background-color: transparent;
            max-width: 400px;
            padding: 20px;
            text-align: center;
            box-sizing: border-box;
            border: 1px solid;
            border-radius: 8px;
            border-color: #dfdfdf;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.05);
        }

        #resolution-warning .empty-state-text {
            font-size: 1.2em;
            font-style: italic;
            color: #777;
            line-height: 1.5;
        }

        #resolution-warning .empty-state-icon {
            max-width: 80%;
            height: auto;
        }

        #resolution-warning-ignore {
            margin-top: 20px;
        }

        #resolution-warning-ignore #resolution-warning-ignore-btn {
            color: #bbb;
        }

        #resolution-warning-ignore #resolution-warning-ignore-btn:hover {
            color: #fff;
        }

        .editor-wrapper {
            display: flex;
            flex-direction: column;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background-color: #fff;
            height: 467px;
            min-height: 467px;
            overflow: hidden;
            flex-grow: 0;
        }

        .editor-toolbar {
            display: flex;
            gap: 2px;
            padding: 6px;
            background-color: #f9f9f9;
            border-bottom: 1px solid var(--border-color);
            flex-wrap: wrap;
            flex-shrink: 0;
        }

        .editor-btn {
            background: transparent;
            border: 1px solid transparent;
            border-radius: 4px;
            cursor: pointer;
            padding: 4px 6px;
            color: #555;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .editor-btn:hover {
            background-color: #e5e5e5;
            color: #333;
        }

        .editor-btn.active {
            background-color: #d0d0d0;
            border-color: #bbb;
            color: #000;
        }

        .editor-btn.color-btn.active {
            background-color: #e0e0e0;
            border: 1px solid #999;
        }

        .editor-btn b {
            font-family: serif;
            font-size: 14px;
        }

        .editor-divider {
            width: 1px;
            background-color: #ddd;
            margin: 0 4px;
        }

        .editor-content {
            flex-grow: 1;
            padding: 12px;
            outline: none;
            overflow-y: auto;
            font-family: inherit;
            line-height: 1.5;
        }

        .editor-content {
            flex-grow: 1;
            padding: 12px;
            outline: none;
            overflow-y: auto;
            font-family: inherit;
            line-height: 1.5;
        }

        .editor-content a {
            color: var(--green-dark-color);
            text-decoration: underline;
            cursor: pointer;
        }

        .editor-content a:hover {
            color: var(--green-light-color);
        }

        .editor-content p {
            margin: 0 0 0.8em 0;
        }

        .editor-content ul,
        .editor-content ol {
            padding-left: 20px;
        }

        .editor-content a {
            color: var(--green-dark-color);
            text-decoration: underline;
        }

        .editor-color-dot {
            width: 14px;
            height: 14px;
            border-radius: 10px;
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .editor-btn.color-btn {
            padding: 4px;
        }

        .editor-content a {
            color: var(--green-dark-color);
            text-decoration: underline;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <div id="resolution-warning" class="hidden">
        <div class="pbi-list-empty-state">
            <svg class="empty-state-icon" width="1200pt" height="1200pt" version="1.1" viewBox="0 0 1200 1200" xmlns="http://www.w3.org/2000/svg">
                <path d="m313.31 636c-12.574-0.33203-22.922 9.8008-22.922 22.359 0 12.574 10.348 22.707 22.922 22.359h571.17c12.574 0.33203 22.922-9.8008 22.922-22.359 0-12.574-10.348-22.707-22.922-22.359z" fill="currentColor" />
                <path d="m1132.3 479.27c12.281 0.21484 22.078 10.281 22.012 22.559v209.65c0 29.719-0.83984 57.012-11.238 82.293-10.359 25.215-32.012 46.188-63.961 58.281l-3.4648 1.3203v147.15c31.375 6.3867 59.094 25.691 75.48 54.027 6.1719 10.707 2.4922 24.441-8.1992 30.625-10.707 6.1719-24.441 2.5586-30.625-8.1992-12.215-21.188-34.652-34.238-59.094-34.238-24.441 0-46.945 13.055-59.16 34.238-6.0391 11.039-20 14.934-30.922 8.6016-10.828-6.2383-14.441-20.266-7.8398-31.039 16.387-28.332 44.094-47.641 75.48-54.027v-130.2l-54.508 20.625c-11.734 5.1328-25.426-0.54688-29.934-12.492-4.5859-12.012 1.8789-25.348 14.027-29.32l102.99-38.879c23.465-8.8125 32.227-18.68 38.332-33.48 6.1211-14.867 7.8516-36.945 7.8516-65.281v-209.65c-0.14844-12.574 10.133-22.773 22.773-22.562z" fill="currentColor" />
                <path d="m67.668 479.27c-12.281 0.21484-22.148 10.281-22.012 22.559v209.65c0 29.719 0.83984 57.012 11.188 82.293 10.414 25.215 32.012 46.188 63.961 58.281l3.5352 1.3203v147.15c-31.398 6.3867-59.094 25.691-75.48 54.027-6.1875 10.707-2.5742 24.441 8.1992 30.625 10.676 6.1602 24.367 2.5625 30.543-8.1992 12.227-21.188 34.734-34.238 59.188-34.238 24.453 0 46.934 13.055 59.16 34.238 6.0273 11.039 19.934 14.934 30.828 8.6016 10.895-6.2383 14.453-20.266 7.9062-31.039-16.387-28.332-44.094-47.641-75.48-54.027v-130.2l54.52 20.625c11.668 5.1328 25.332-0.54688 29.922-12.492 4.5195-12.012-1.8672-25.348-14.094-29.32l-102.99-38.879c-23.398-8.8125-32.215-18.68-38.254-33.48-6.1211-14.867-7.9062-36.945-7.9062-65.281l-0.003906-209.65c0.10937-12.574-10.16-22.773-22.73-22.562z" fill="currentColor" />
                <path d="m1088.5 452.67v282.77c0 20.973-12.973 39.785-32.84 47.508l-137.77 53.48-35.293 207.69c-9.1602 69.867-116.04 52.309-101.75-16.734l40-236.11c2.9883-17.586 15.078-32.375 31.879-38.895l82.293-31.945v-167.99l-31.934 41.387c-8.2656 8.0547-19.375 12.574-31.055 12.574h-113.05c-58.828 0-58.828-87 0-87h95.078l87.293-95.215c13.602-14.867 28.121-26.453 45.348-26.453h50.066c33.754-0.011719 51.738 30.812 51.738 54.922z" fill="currentColor" />
                <path d="m389.2 391.84c-10.281 0-18.398 4.0117-24.012 9.7188l-48.121 48.465 38.812 42.293h82.84c21.602 0 41.266 8.9609 53.691 22.719 12.359 13.746 17.988 30.895 17.988 47.773 0 16.105-5.1328 32.426-16.254 45.828h75.414l1.0273-105.91 48.332 37.16c13.188 10.199 32.707 10.762 43.895-1.5352l71.398-78.762c1.8672-1.6523 4.3086-2.625 6.7852-2.5586h38.762c12.785 0 21.172-3.1992 26.309-7.2148 5.0781-4.0391 7.2383-8.7617 7.3086-14.039 0.066406-10.613-9.5859-25.066-34.668-30.547l-50.613-12.441c-8.4141 0.066406-16.465 3.1328-22.574 8.7617l-60.762 63.105c-3.5352 3.2656-9.0781 3.4805-12.906 0.42578l-81.535-63.535c-7.293-5.707-14.785-9.7188-25.215-9.7188z" fill="currentColor" />
                <path d="m363.29 706.35 76.465 108.41v138.12c0 61.879 98.465 61.879 98.465 0l0.003906-142.51-31.734-54.172c-5.1328-11.32 3.5352-15.266 10.414-6.1211l39.719 52.574c0.90625 1.5352 1.3867 3.1992 1.3867 5v145.21c0 61.879 97.586 61.879 97.586 0l0.003906-155.35c0-11.188-3.8281-22.148-10.84-30.973l-41.934-60.215h-239.54z" fill="currentColor" />
                <path d="m547.73 296.43c-20.84 47.559-76.734 69.441-125 48.895-48.121-20.426-70.281-75.691-49.508-123.13 20.84-47.574 76.734-69.441 124.85-48.961 48.27 20.547 70.414 75.695 49.656 123.2z" fill="currentColor" fill-rule="evenodd" />
                <path d="m109.27 452.67v282.77c0 20.973 13 39.785 32.785 47.508l137.85 53.48 35.266 207.69c9.1055 69.867 116.05 52.309 101.75-16.734l-40-236.11c-3.0547-17.586-15.148-32.375-31.945-38.895l-82.227-31.945 0.003906-167.99 31.879 41.387c8.2656 8.0547 19.453 12.574 31.039 12.574h113.12c58.762 0 58.762-87 0-87h-95.055l-87.309-95.215c-13.668-14.867-28.172-26.453-45.332-26.453h-50.156c-33.68-0.011719-51.668 30.812-51.668 54.922z" fill="currentColor" />
                <path d="m92.879 307.88c22.227 50.773 81.961 74.094 133.48 52.16 51.398-21.812 75-80.762 52.852-131.4-22.293-50.762-81.961-74.172-133.27-52.281-51.613 21.934-75.227 80.762-53.066 131.52z" fill="currentColor" fill-rule="evenodd" />
                <path d="m1105 307.88c-22.293 50.773-81.934 74.094-133.48 52.16-51.375-21.812-75-80.762-52.852-131.4 22.227-50.762 81.961-74.172 133.28-52.281 51.582 21.934 75.195 80.762 53.051 131.52z" fill="currentColor" fill-rule="evenodd" />
                <path d="m749.81 338.84c-11.309 0.42578-22.922-0.89453-34.652-3.9453-29.922-8.0547-53.266-26.547-67.691-50.078l-31.254 4.4414c-10.148 1.4531-14.094-8.1211-7.7188-16.254l23.68-30.281c-2.2266-15.133-1.5352-31.105 2.7188-47 16.32-60.762 76.734-97.012 139.09-80.281 62.359 16.734 96.586 78.332 80.332 139.09-13.254 49.371-55.613 82.586-104.51 84.305zm-62.707-92.348c11.801 0 21.32-9.5859 21.32-21.387 0-11.734-9.5078-21.32-21.32-21.32s-21.387 9.5859-21.387 21.32c0 11.801 9.5898 21.387 21.387 21.387zm57.496 0c11.828 0 21.332-9.5859 21.398-21.387-0.066406-11.734-9.5859-21.32-21.398-21.32-11.801 0-21.387 9.5859-21.387 21.32 0 11.801 9.5859 21.387 21.387 21.387zm57.52 0c11.734 0 21.32-9.5859 21.32-21.387 0-11.734-9.5859-21.32-21.32-21.32-11.879 0-21.387 9.5859-21.387 21.32 0 11.801 9.5039 21.387 21.387 21.387z" fill="currentColor" fill-rule="evenodd" />
            </svg>
            <div class="empty-state-text">
                <p id="resolution-warning-text"></p>
                <div id="resolution-warning-ignore">
                    <button id="resolution-warning-ignore-btn" type="button"></button>
                </div>
            </div>
        </div>
    </div>

    <div id="update-notification-container"></div>
    <div id="split-root" class="split-root row">
        <div class="pane pane-left">
            <div id="pbi-list-container" class="container">
                <div class="main-title-container">
                    <h1 id="main-header"></h1>
                    <span id="main-claim"></span>
                </div>
                <div class="switchers">
                    <button id="add-pbi-btn"></button>
                    <div class="icon-buttons">
                        <button id="export-btn" title="">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor">
                                <path d="M840-680v480q0 33-23.5 56.5T760-120H200q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h480l160 160Zm-80 34L646-760H200v560h560v-446ZM480-240q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35ZM240-560h360v-160H240v160Zm-40-86v446-560 114Z" />
                            </svg>
                        </button>
                        <button id="btn-csv-export" title="">
                            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor">
                                <path d="M400-280h160v-80H400v80Zm0-160h280v-80H400v80ZM280-600h400v-80H280v80Zm200 120ZM80-80v-80h102q-48-23-77.5-68T75-330q0-79 55.5-134.5T265-520v80q-45 0-77.5 32T155-330q0 39 24 69t61 38v-97h80v240H80Zm320-40v-80h360v-560H200v160h-80v-160q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H400Z" />
                            </svg>
                        </button>
                        <button id="import-btn" title="">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor">
                                <path d="M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h240l80 80h320q33 0 56.5-23.5T880-640H447l-80-80H160v480l96-320h684L837-217q-8 26-29.5 41.5T760-160H160Zm84-80h516l72-240H316l-72 240Zm0 0 72-240-72 240Zm-84-400v-80 80Z" />
                            </svg>
                        </button>
                        <button id="settings-btn" title="">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor">
                                <path d="M440-120v-240h80v80h320v80H520v80h-80Zm-320-80v-80h240v80H120Zm160-160v-80H120v-80h160v-80h80v240h-80Zm160-80v-80h400v80H440Zm160-160v-240h80v80h160v80H680v80h-80Zm-480-80v-80h400v80H120Z" />
                            </svg>
                        </button>

                        <button id="reset-app-btn" title="">
                            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor">
                                <path d="M600-240v-80h160v80H600Zm0-320v-80h280v80H600Zm0 160v-80h240v80H600ZM120-640H80v-80h160v-60h160v60h160v80h-40v360q0 33-23.5 56.5T440-200H200q-33 0-56.5-23.5T120-280v-360Zm80 0v360h240v-360H200Zm0 0v360-360Z" />
                            </svg>
                        </button>

                        <button id="help-btn" title="">
                            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor">
                                <path d="M478-240q21 0 35.5-14.5T528-290q0-21-14.5-35.5T478-340q-21 0-35.5 14.5T428-290q0 21 14.5 35.5T478-240Zm-36-154h74q0-33 7.5-52t42.5-52q26-26 41-49.5t15-56.5q0-56-41-86t-97-30q-57 0-92.5 30T342-618l66 26q5-18 22.5-39t53.5-21q32 0 48 17.5t16 38.5q0 20-12 37.5T506-526q-44 39-54 59t-10 73Zm38 314q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z" />
                            </svg>
                        </button>
                        <button id="info-btn" title="Info">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor">
                                <path d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z" />
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="pbi-filters">
                    <div class="filter-group">
                        <button id="filter-job-size-btn" class="filter-btn"></button> <button id="filter-tshirt-size-btn" class="filter-btn"></button>
                        <button id="filter-cod-btn" class="filter-btn"></button>
                        <button id="filter-wsjf-btn" class="filter-btn"></button>
                    </div>
                    <div class="sort-direction-switcher">
                        <button id="custom-sort-btn" class="sort-btn" title="">
                            <svg xmlns="http://www.w3.org/2000/svg" height="16px" viewBox="0 -960 960 960" width="16px" fill="currentColor">
                                <path d="M576-696v-72h288v72H576Zm0 156v-72h288v72H576Zm0 156v-72h288v72H576Zm-240-48q-50 0-85-35t-35-85q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35ZM96-192v-63q0-28 14.5-51t38.5-35q43-21 90-32t97-11q50 0 97 11t90 32q24 12 38.5 35t14.5 51v63H96Z" />
                            </svg>
                            <button id="sort-asc-btn" class="sort-btn" title="">
                                <svg class="sort-icon" width="16" height="16" viewBox="0 0 1200 1200" xmlns="http://www.w3.org/2000/svg">
                                    <path d="m199.2 926.4c14.398 21.602 45.602 21.602 61.199 0l162-234c16.801-24 0-57.602-30-57.602h-97.199v-346.8c0-16.801-13.199-30-30-30h-69.602c-16.801 0-30 13.199-30 30v346.8h-98.398c-30 0-46.801 33.602-30 57.602z" />
                                    <path d="m1140 812.4h-583.2c-16.801 0-30 13.199-30 30v69.602c0 16.801 13.199 30 30 30h583.2c16.801 0 30-13.199 30-30v-69.602c0-16.797-13.199-30-30-30z" />
                                    <path d="m556.8 666h452.4c16.801 0 30-13.199-30-30v-69.602c0-16.801-13.199-30-30-30h-452.4c-16.801 0-30 13.199-30 30v69.602c0 15.602 13.199 30 30 30z" />
                                    <path d="m556.8 388.8h321.6c16.801 0 30-13.199-30-30v-69.602c0-16.801-13.199-30-30-30h-321.6c-16.801 0-30 13.199-30 30v69.602c0 16.801 13.199 30 30 30z" />
                                </svg>
                            </button>
                            <button id="sort-desc-btn" class="sort-btn" title="">
                                <svg class="sort-icon" width="16" height="16" viewBox="0 0 1200 1200" xmlns="http://www.w3.org/2000/svg">
                                    <path d="m199.2 926.4c14.398 21.602 45.602 21.602 61.199 0l162-234c16.801-24 0-57.602-30-57.602h-97.199v-346.8c0-16.801-13.199-30-30-30h-69.602c-16.801 0-30 13.199-30 30v346.8h-98.398c-30 0-46.801 33.602-30 57.602z" />
                                    <path d="m1140 812.4h-583.2c-16.801 0-30 13.199-30 30v69.602c0 16.801 13.199 30 30 30h583.2c16.801 0 30-13.199 30-30v-69.602c0-16.797-13.199-30-30-30z" />
                                    <path d="m556.8 666h452.4c16.801 0 30-13.199-30-30v-69.602c0-16.801-13.199-30-30-30h-452.4c-16.801 0-30 13.199-30 30v69.602c0 15.602 13.199 30 30 30z" />
                                    <path d="m556.8 388.8h321.6c16.801 0 30-13.199-30-30v-69.602c0-16.801-13.199-30-30-30h-321.6c-16.801 0-30 13.199-30 30v69.602c0 16.801 13.199 30 30 30z" />
                                </svg>
                            </button>
                            <button id="reset-filters-btn" class="sort-btn" title="">
                                <svg class="sort-icon" xmlns="http://www.w3.org/2000/svg" height="16px" viewBox="0 -960 960 960" width="16px" fill="currentColor">
                                    <path d="m339-288 141-141 141 141 51-51-141-141 141-141-51-51-141 141-141-141-51 51 141 141-141 141 51 51ZM480-96q-79 0-149-30t-122.5-82.5Q156-261 126-331T96-480q0-80 30-149.5t82.5-122Q261-804 331-834t149-30q80 0 149.5 30t122 82.5Q804-699 834-629.5T864-480q0 79-30 149t-82.5 122.5Q699-156 629.5-126T480-96Zm0-72q130 0 221-91t91-221q0-130-91-221t-221-91q-130 0-221 91t-91 221q0 130 91 221t221 91Zm0-312Z" />
                                </svg>
                            </button>
                            <button id="filter-lock-btn" class="sort-btn" title="">
                                <svg class="sort-icon icon-unlocked" xmlns="http://www.w3.org/2000/svg" height="16px" viewBox="0 -960 960 960" width="16px">
                                    <path d="M240-640h360v-80q0-50-35-85t-85-35q-50 0-85 35t-35 85h-80q0-83 58.5-141.5T480-920q83 0 141.5 58.5T680-720v80h40q33 0 56.5 23.5T800-560v400q0 33-23.5 56.5T720-80H240q-33 0-56.5-23.5T160-160v-400q0-33 23.5-56.5T240-640Zm0 480h480v-400H240v400Zm240-120q33 0 56.5-23.5T560-360q0-33-23.5-56.5T480-440q-33 0-56.5 23.5T400-360q0 33 23.5 56.5T480-280ZM240-160v-400 400Z" />
                                </svg>
                                <svg class="sort-icon icon-locked" xmlns="http://www.w3.org/2000/svg" height="16px" viewBox="0 -960 960 960" width="16px">
                                    <path d="M240-80q-33 0-56.5-23.5T160-160v-400q0-33 23.5-56.5T240-640h40v-80q0-83 58.5-141.5T480-920q83 0 141.5 58.5T680-720v80h40q33 0 56.5 23.5T800-560v400q0 33-23.5 56.5T720-80H240Zm0-80h480v-400H240v400Zm240-120q33 0 56.5-23.5T560-360q0-33-23.5-56.5T480-440q-33 0-56.5 23.5T400-360q0 33 23.5 56.5T480-280ZM360-640h240v-80q0-50-35-85t-85-35q-50 0-85 35t-35 85v80ZM240-160v-400 400Z" />
                                </svg>
                            </button>
                    </div>
                </div>
                <div id="ref-slot-left" class="ref-slot ref-slot-left"></div>
                <div id="pbi-list" style="margin-top: 20px;"></div>
            </div>
        </div>
        <div id="split-divider" class="divider vertical" title=""></div>
        <div class="pane pane-right">

            <div id="view-tabs" class="view-tabs-container">
                <button id="view-tab-job-size-viz" class="view-tab-btn active"></button>
                <button id="view-tab-cod-viz" class="view-tab-btn"></button>
                <button id="view-tab-wsjf-viz" class="view-tab-btn"></button>
                <button id="view-tab-relative-sizing" class="view-tab-btn"></button>
            </div>

            <div id="view-panels" class="view-panels-container">
                <div id="panel-job-size-viz" class="view-panel">
                    <div id="visualization-legend" class="legend">
                        <div class="legend-item">
                            <div class="legend-dot" style="background-color: var(--color-complexity);"></div><span id="legend-complexity"></span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-dot" style="background-color: var(--color-effort);"></div><span id="legend-effort"></span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-dot" style="background-color: var(--color-doubt);"></div><span id="legend-doubt"></span>
                        </div>
                        <div class="legend-sort-container">
                            <span id="legend-sort-info"></span>
                        </div>
                    </div>
                    <div id="visualization-container" class="container"></div>
                </div>

                <div id="panel-cod-viz" class="view-panel hidden">
                    <div id="cod-visualization-legend" class="legend hidden">
                        <div class="legend-item">
                            <div class="legend-dot" style="background-color: var(--color-bv);"></div><span id="legend-cod-bv"></span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-dot" style="background-color: var(--color-tc);"></div><span id="legend-cod-tc"></span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-dot" style="background-color: var(--color-rroe);"></div><span id="legend-cod-rroe"></span>
                        </div>
                        <div class="legend-sort-container">
                            <span id="cod-legend-sort-info"></span>
                        </div>
                    </div>
                    <div id="cod-visualization-container" class="container">
                    </div>
                </div>

                <div id="panel-wsjf-viz" class="view-panel hidden">
                    <div id="wsjf-visualization-legend" class="legend hidden">
                        <div class="legend-sort-container">
                            <span id="wsjf-legend-sort-info"></span>
                        </div>
                    </div>
                    <div id="wsjf-visualization-container" class="container">
                    </div>
                </div>

                <div id="panel-relative-sizing" class="view-panel hidden">
                    <div id="relative-sizing-header" class="relative-sizing-header">
                        <div class="rs-group-header-container">
                            <div id="rs-group-header-job-size" class="rs-group-header rs-group-job-size"></div>
                            <div id="rs-group-header-cod" class="rs-group-header rs-group-cod"></div>
                            <div id="rs-group-header-wsjf" class="rs-group-header rs-group-wsjf"></div>
                        </div>


                        <div class="rs-col-header-container rs-grid">
                            <div class="rs-col-header" data-sort-by="complexity">
                                <span id="rs-col-header-complexity" class="rs-header-text"></span>
                                <div class="rs-header-icons">
                                    <button class="highlight-btn" id="highlight-btn-complexity" title="">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path d="M480-312q70 0 119-49t49-119q0-70-49-119t-119-49q-70 0-119 49t-49 119q0 70 49 119t119 49Zm0-72q-40 0-68-28t-28-68q0-40 28-68t68-28q40 0 68 28t28 68q0 40-28 68t-68 28Zm0 192q-142.6 0-259.8-78.5Q103-349 48-480q55-131 172.2-209.5Q337.4-768 480-768q142.6 0 259.8 78.5Q857-611 912-480q-55 131-172.2 209.5Q622.6-192 480-192Zm0-288Zm0 216q112 0 207-58t146-158q-51-100-146-158t-207-58q-112 0-207 58T127-480q51 100 146 158t207 58Z" />
                                        </svg>
                                    </button>
                                    <span class="sort-indicator sort-default-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path d="M232-444v-72h496v72H232Z" />
                                        </svg>
                                    </span>
                                    <span class="sort-indicator sort-asc-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path transform="rotate(180 480 -480)" d="M480-384 288-576h384L480-384Z" />
                                        </svg>
                                    </span>
                                    <span class="sort-indicator sort-desc-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path d="M480-384 288-576h384L480-384Z" />
                                        </svg>
                                    </span>
                                </div>
                            </div>
                            <div class="rs-col-header" data-sort-by="effort">
                                <span id="rs-col-header-effort" class="rs-header-text"></span>
                                <div class="rs-header-icons">
                                    <button class="highlight-btn" id="highlight-btn-effort" title="">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path d="M480-312q70 0 119-49t49-119q0-70-49-119t-119-49q-70 0-119 49t-49 119q0 70 49 119t119 49Zm0-72q-40 0-68-28t-28-68q0-40 28-68t68-28q40 0 68 28t28 68q0 40-28 68t-68 28Zm0 192q-142.6 0-259.8-78.5Q103-349 48-480q55-131 172.2-209.5Q337.4-768 480-768q142.6 0 259.8 78.5Q857-611 912-480q-55 131-172.2 209.5Q622.6-192 480-192Zm0-288Zm0 216q112 0 207-58t146-158q-51-100-146-158t-207-58q-112 0-207 58T127-480q51 100 146 158t207 58Z" />
                                        </svg>
                                    </button>
                                    <span class="sort-indicator sort-default-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path d="M232-444v-72h496v72H232Z" />
                                        </svg>
                                    </span>
                                    <span class="sort-indicator sort-asc-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path transform="rotate(180 480 -480)" d="M480-384 288-576h384L480-384Z" />
                                        </svg>
                                    </span>
                                    <span class="sort-indicator sort-desc-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path d="M480-384 288-576h384L480-384Z" />
                                        </svg>
                                    </span>
                                </div>
                            </div>
                            <div class="rs-col-header" data-sort-by="doubt">
                                <span id="rs-col-header-doubt" class="rs-header-text"></span>
                                <div class="rs-header-icons">
                                    <button class="highlight-btn" id="highlight-btn-doubt" title="">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path d="M480-312q70 0 119-49t49-119q0-70-49-119t-119-49q-70 0-119 49t-49 119q0 70 49 119t119 49Zm0-72q-40 0-68-28t-28-68q0-40 28-68t68-28q40 0 68 28t28 68q0 40-28 68t-68 28Zm0 192q-142.6 0-259.8-78.5Q103-349 48-480q55-131 172.2-209.5Q337.4-768 480-768q142.6 0 259.8 78.5Q857-611 912-480q-55 131-172.2 209.5Q622.6-192 480-192Zm0-288Zm0 216q112 0 207-58t146-158q-51-100-146-158t-207-58q-112 0-207 58T127-480q51 100 146 158t207 58Z" />
                                        </svg>
                                    </button>
                                    <span class="sort-indicator sort-default-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path d="M232-444v-72h496v72H232Z" />
                                        </svg>
                                    </span>
                                    <span class="sort-indicator sort-asc-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path transform="rotate(180 480 -480)" d="M480-384 288-576h384L480-384Z" />
                                        </svg>
                                    </span>
                                    <span class="sort-indicator sort-desc-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path d="M480-384 288-576h384L480-384Z" />
                                        </svg>
                                    </span>
                                </div>
                            </div>
                            <div class="rs-col-header" data-sort-by="jobSize">
                                <span id="rs-col-header-job-size" class="rs-header-text"></span>
                                <div class="rs-header-icons">
                                    <button class="highlight-btn" id="highlight-btn-job-size" title="">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path d="M480-312q70 0 119-49t49-119q0-70-49-119t-119-49q-70 0-119 49t-49 119q0 70 49 119t119 49Zm0-72q-40 0-68-28t-28-68q0-40 28-68t68-28q40 0 68 28t28 68q0 40-28 68t-68 28Zm0 192q-142.6 0-259.8-78.5Q103-349 48-480q55-131 172.2-209.5Q337.4-768 480-768q142.6 0 259.8 78.5Q857-611 912-480q-55 131-172.2 209.5Q622.6-192 480-192Zm0-288Zm0 216q112 0 207-58t146-158q-51-100-146-158t-207-58q-112 0-207 58T127-480q51 100 146 158t207 58Z" />
                                        </svg>
                                    </button>
                                    <span class="sort-indicator sort-default-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path d="M232-444v-72h496v72H232Z" />
                                        </svg>
                                    </span>
                                    <span class="sort-indicator sort-asc-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path transform="rotate(180 480 -480)" d="M480-384 288-576h384L480-384Z" />
                                        </svg>
                                    </span>
                                    <span class="sort-indicator sort-desc-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path d="M480-384 288-576h384L480-384Z" />
                                        </svg>
                                    </span>
                                </div>
                            </div>
                            <div class="rs-col-header" data-sort-by="cod_bv">
                                <span id="rs-col-header-bv" class="rs-header-text"></span>
                                <div class="rs-header-icons">
                                    <button class="highlight-btn" id="highlight-btn-bv" title="">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path d="M480-312q70 0 119-49t49-119q0-70-49-119t-119-49q-70 0-119 49t-49 119q0 70 49 119t119 49Zm0-72q-40 0-68-28t-28-68q0-40 28-68t68-28q40 0 68 28t28 68q0 40-28 68t-68 28Zm0 192q-142.6 0-259.8-78.5Q103-349 48-480q55-131 172.2-209.5Q337.4-768 480-768q142.6 0 259.8 78.5Q857-611 912-480q-55 131-172.2 209.5Q622.6-192 480-192Zm0-288Zm0 216q112 0 207-58t146-158q-51-100-146-158t-207-58q-112 0-207 58T127-480q51 100 146 158t207 58Z" />
                                        </svg>
                                    </button>
                                    <span class="sort-indicator sort-default-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path d="M232-444v-72h496v72H232Z" />
                                        </svg>
                                    </span>
                                    <span class="sort-indicator sort-asc-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path transform="rotate(180 480 -480)" d="M480-384 288-576h384L480-384Z" />
                                        </svg>
                                    </span>
                                    <span class="sort-indicator sort-desc-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path d="M480-384 288-576h384L480-384Z" />
                                        </svg>
                                    </span>
                                </div>
                            </div>
                            <div class="rs-col-header" data-sort-by="cod_tc">
                                <span id="rs-col-header-tc" class="rs-header-text"></span>
                                <div class="rs-header-icons">
                                    <button class="highlight-btn" id="highlight-btn-tc" title="">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path d="M480-312q70 0 119-49t49-119q0-70-49-119t-119-49q-70 0-119 49t-49 119q0 70 49 119t119 49Zm0-72q-40 0-68-28t-28-68q0-40 28-68t68-28q40 0 68 28t28 68q0 40-28 68t-68 28Zm0 192q-142.6 0-259.8-78.5Q103-349 48-480q55-131 172.2-209.5Q337.4-768 480-768q142.6 0 259.8 78.5Q857-611 912-480q-55 131-172.2 209.5Q622.6-192 480-192Zm0-288Zm0 216q112 0 207-58t146-158q-51-100-146-158t-207-58q-112 0-207 58T127-480q51 100 146 158t207 58Z" />
                                        </svg>
                                    </button>
                                    <span class="sort-indicator sort-default-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path d="M232-444v-72h496v72H232Z" />
                                        </svg>
                                    </span>
                                    <span class="sort-indicator sort-asc-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path transform="rotate(180 480 -480)" d="M480-384 288-576h384L480-384Z" />
                                        </svg>
                                    </span>
                                    <span class="sort-indicator sort-desc-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path d="M480-384 288-576h384L480-384Z" />
                                        </svg>
                                    </span>
                                </div>
                            </div>
                            <div class="rs-col-header" data-sort-by="cod_rroe">
                                <span id="rs-col-header-rroe" class="rs-header-text"></span>
                                <div class="rs-header-icons">
                                    <button class="highlight-btn" id="highlight-btn-rroe" title="">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path d="M480-312q70 0 119-49t49-119q0-70-49-119t-119-49q-70 0-119 49t-49 119q0 70 49 119t119 49Zm0-72q-40 0-68-28t-28-68q0-40 28-68t68-28q40 0 68 28t28 68q0 40-28 68t-68 28Zm0 192q-142.6 0-259.8-78.5Q103-349 48-480q55-131 172.2-209.5Q337.4-768 480-768q142.6 0 259.8 78.5Q857-611 912-480q-55 131-172.2 209.5Q622.6-192 480-192Zm0-288Zm0 216q112 0 207-58t146-158q-51-100-146-158t-207-58q-112 0-207 58T127-480q51 100 146 158t207 58Z" />
                                        </svg>
                                    </button>
                                    <span class="sort-indicator sort-default-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path d="M232-444v-72h496v72H232Z" />
                                        </svg>
                                    </span>
                                    <span class="sort-indicator sort-asc-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path transform="rotate(180 480 -480)" d="M480-384 288-576h384L480-384Z" />
                                        </svg>
                                    </span>
                                    <span class="sort-indicator sort-desc-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path d="M480-384 288-576h384L480-384Z" />
                                        </svg>
                                    </span>
                                </div>
                            </div>
                            <div class="rs-col-header" data-sort-by="cod">
                                <span id="rs-col-header-cod" class="rs-header-text"></span>
                                <div class="rs-header-icons">
                                    <button class="highlight-btn" id="highlight-btn-cod" title="">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path d="M480-312q70 0 119-49t49-119q0-70-49-119t-119-49q-70 0-119 49t-49 119q0 70 49 119t119 49Zm0-72q-40 0-68-28t-28-68q0-40 28-68t68-28q40 0 68 28t28 68q0 40-28 68t-68 28Zm0 192q-142.6 0-259.8-78.5Q103-349 48-480q55-131 172.2-209.5Q337.4-768 480-768q142.6 0 259.8 78.5Q857-611 912-480q-55 131-172.2 209.5Q622.6-192 480-192Zm0-288Zm0 216q112 0 207-58t146-158q-51-100-146-158t-207-58q-112 0-207 58T127-480q51 100 146 158t207 58Z" />
                                        </svg>
                                    </button>
                                    <span class="sort-indicator sort-default-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path d="M232-444v-72h496v72H232Z" />
                                        </svg>
                                    </span>
                                    <span class="sort-indicator sort-asc-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path transform="rotate(180 480 -480)" d="M480-384 288-576h384L480-384Z" />
                                        </svg>
                                    </span>
                                    <span class="sort-indicator sort-desc-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path d="M480-384 288-576h384L480-384Z" />
                                        </svg>
                                    </span>
                                </div>
                            </div>
                            <div class="rs-col-header" data-sort-by="wsjf">
                                <span id="rs-col-header-wsjf" class="rs-header-text"></span>
                                <div class="rs-header-icons">
                                    <button class="highlight-btn" id="highlight-btn-wsjf" title="">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path d="M480-312q70 0 119-49t49-119q0-70-49-119t-119-49q-70 0-119 49t-49 119q0 70 49 119t119 49Zm0-72q-40 0-68-28t-28-68q0-40 28-68t68-28q40 0 68 28t28 68q0 40-28 68t-68 28Zm0 192q-142.6 0-259.8-78.5Q103-349 48-480q55-131 172.2-209.5Q337.4-768 480-768q142.6 0 259.8 78.5Q857-611 912-480q-55 131-172.2 209.5Q622.6-192 480-192Zm0-288Zm0 216q112 0 207-58t146-158q-51-100-146-158t-207-58q-112 0-207 58T127-480q51 100 146 158t207 58Z" />
                                        </svg>
                                    </button>
                                    <span class="sort-indicator sort-default-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path d="M232-444v-72h496v72H232Z" />
                                        </svg>
                                    </span>
                                    <span class="sort-indicator sort-asc-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path transform="rotate(180 480 -480)" d="M480-384 288-576h384L480-384Z" />
                                        </svg>
                                    </span>
                                    <span class="sort-indicator sort-desc-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="currentColor">
                                            <path d="M480-384 288-576h384L480-384Z" />
                                        </svg>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="ref-slot-right" class="ref-slot ref-slot-right"></div>
                    <div id="relative-sizing-list" class="relative-sizing-list">
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div id="csv-export-modal" class="modal">
        <div class="modal-content">
            <h2 id="csv-export-modal-title"></h2>

            <div class="settings-group">
                <p id="csv-export-text"></p>
            </div>

            <div class="settings-group">
                <div class="pbi-filters" style="border:none; margin-top:0; padding:0;">
                    <div class="filter-group">
                        <button id="csv-sort-btn-job-size" class="filter-btn"></button>
                        <button id="csv-sort-btn-tshirt-size" class="filter-btn"></button>
                        <button id="csv-sort-btn-cod" class="filter-btn"></button>
                        <button id="csv-sort-btn-wsjf" class="filter-btn"></button>
                    </div>
                    <div class="sort-direction-switcher">

                        <button id="csv-sort-asc-btn" class="sort-btn" title="">
                            <svg class="sort-icon" width="16" height="16" viewBox="0 0 1200 1200" xmlns="http://www.w3.org/2000/svg">
                                <path d="m199.2 926.4c14.398 21.602 45.602 21.602 61.199 0l162-234c16.801-24 0-57.602-30-57.602h-97.199v-346.8c0-16.801-13.199-30-30-30h-69.602c-16.801 0-30 13.199-30 30v346.8h-98.398c-30 0-46.801 33.602-30 57.602z" />
                                <path d="m1140 812.4h-583.2c-16.801 0-30 13.199-30 30v69.602c0 16.801 13.199 30 30 30h583.2c16.801 0 30-13.199 30-30v-69.602c0-16.797-13.199-30-30-30z" />
                                <path d="m556.8 666h452.4c16.801 0 30-13.199-30-30v-69.602c0-16.801-13.199-30-30-30h-452.4c-16.801 0-30 13.199-30 30v69.602c0 15.602 13.199 30 30 30z" />
                                <path d="m556.8 388.8h321.6c16.801 0 30-13.199-30-30v-69.602c0-16.801-13.199-30-30-30h-321.6c-16.801 0-30 13.199-30 30v69.602c0 16.801 13.199 30 30 30z" />
                            </svg>
                        </button>

                        <button id="csv-sort-desc-btn" class="sort-btn" title="">
                            <svg class="sort-icon" width="16" height="16" viewBox="0 0 1200 1200" xmlns="http://www.w3.org/2000/svg">
                                <path d="m199.2 926.4c14.398 21.602 45.602 21.602 61.199 0l162-234c16.801-24 0-57.602-30-57.602h-97.199v-346.8c0-16.801-13.199-30-30-30h-69.602c-16.801 0-30 13.199-30 30v346.8h-98.398c-30 0-46.801 33.602-30 57.602z" />
                                <path d="m1140 812.4h-583.2c-16.801 0-30 13.199-30 30v69.602c0 16.801 13.199 30 30 30h583.2c16.801 0 30-13.199 30-30v-69.602c0-16.797-13.199-30-30-30z" />
                                <path d="m556.8 666h452.4c16.801 0 30-13.199-30-30v-69.602c0-16.801-13.199-30-30-30h-452.4c-16.801 0-30 13.199-30 30v69.602c0 15.602 13.199 30 30 30z" />
                                <path d="m556.8 388.8h321.6c16.801 0 30-13.199-30-30v-69.602c0-16.801-13.199-30-30-30h-321.6c-16.801 0-30 13.199-30 30v69.602c0 16.801 13.199 30 30 30z" />
                            </svg>
                        </button>

                        <button id="csv-sort-custom-btn" class="sort-btn" title="">
                            <svg xmlns="http://www.w3.org/2000/svg" height="16px" viewBox="0 -960 960 960" width="16px" fill="currentColor">
                                <path d="M576-696v-72h288v72H576Zm0 156v-72h288v72H576Zm0 156v-72h288v72H576Zm-240-48q-50 0-85-35t-35-85q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35ZM96-192v-63q0-28 14.5-51t38.5-35q43-21 90-32t97-11q50 0 97 11t90 32q24 12 38.5 35t14.5 51v63H96Z" />
                            </svg>
                        </button>
                    </div>
                </div>
                <div id="csv-export-sort-status"></div>
            </div>

            <div class="modal-footer">
                <button id="btn-csv-export-cancel"></button>
                <button id="btn-csv-export-confirm"></button>
            </div>
        </div>
    </div>

    <div id="reset-app-modal" class="modal">
        <div class="modal-content">
            <h2 id="reset-app-modal-title"></h2>

            <div class="settings-group">
                <p id="reset-app-text"></p>
            </div>

            <div class="modal-footer">
                <button id="reset-app-cancel-btn"></button>
                <button id="reset-app-export-btn"></button>
                <button id="reset-app-confirm-btn"></button>
            </div>
        </div>
    </div>

    <div id="info-modal" class="modal">
        <div class="modal-content">
            <h2 id="info-modal-title"></h2>

            <div class="settings-grid-layout">

                <div class="settings-col">
                    <div class="settings-group">
                        <strong id="info-weblink-label"></strong>
                        <p id="info-weblink-sentence"></p>
                    </div>

                    <div class="settings-group">
                        <strong id="info-about-label"></strong>
                        <div id="version-info-container">

                            <div id="info-entry-version">
                                <span id="info-version-label"></span>
                                <span id="info-version-value"></span>
                            </div>
                            <div id="info-entry-build">
                                <span id="info-build-label"></span>
                                <span id="info-build-value"></span>
                            </div>
                            <div id="info-about-divider"></div>
                            <div id="info-entry-contact">
                                <span id="info-contact-label"></span>
                                <span id="info-contact-value"></span>
                            </div>
                            <div id="info-entry-function">
                                <span id="info-function-label"></span>
                                <span id="info-function-value"></span>
                            </div>
                            <div id="info-entry-email">
                                <span id="info-email-label"></span>
                                <span id="info-email-value"></span>
                            </div>
                            <div id="info-entry-department">
                                <span id="info-department-label"></span>
                                <span id="info-department-value"></span>
                            </div>
                            <div id="info-entry-company">
                                <span id="info-company-label"></span>
                                <span id="info-company-value"></span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="settings-col">
                    <div class="modal-tabs info-modal-tabs" style="margin-top: 0px; margin-bottom: 10px;">
                        <button id="info-tab-btn-software" class="tab-btn active"></button>
                        <button id="info-tab-btn-thirdparty" class="tab-btn"></button>
                    </div>

                    <div id="info-tab-content-software" class="info-tab-content">
                        <div class="settings-group" style="margin-top: 0;">
                            <div class="info-license-designation">
                                <strong><span id="info-license-designation-software"></span></strong>
                            </div>
                            <textarea readonly id="info-license-text"></textarea>
                            <div class="info-license-link-container">
                                <a id="info-license-link-software" href="https://github.com/Sperker/SizeRight" target="_blank" rel="noopener" class="info-license-link"></a>
                            </div>
                        </div>
                    </div>

                    <div id="info-tab-content-thirdparty" class="info-tab-content hidden">
                        <div class="settings-group" style="margin-top: 0;">
                            <div class="info-license-designation">
                                <strong><span id="info-license-designation-thirdparty"></span></strong>
                            </div>
                            <textarea readonly id="info-license-text-thirdparty"></textarea>
                            <div class="info-license-link-container">
                                <a id="info-license-link-thirdparty" href="https://github.com/SortableJS/Sortable/" target="_blank" rel="noopener" class="info-license-link"></a>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div style="margin-top: 24px; text-align: right;">
                <button id="info-close-btn"></button>
            </div>
        </div>
    </div>

    <div id="edit-modal" class="modal">
        <div class="modal-content">

            <div class="modal-nav-header">
                <button id="modal-prev-btn" class="modal-nav-text-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" height="18px" viewBox="0 0 24 24" width="18px" fill="currentColor">
                        <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" />
                    </svg>
                    <span id="modal-prev-label"></span>
                </button>
                <span id="modal-nav-info"></span>
                <button id="modal-next-btn" class="modal-nav-text-btn">
                    <span id="modal-next-label"></span>
                    <svg xmlns="http://www.w3.org/2000/svg" height="18px" viewBox="0 0 24 24" width="18px" fill="currentColor">
                        <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" />
                    </svg>
                </button>
            </div>

            <input type="hidden" id="pbi-id">
            <div class="modal-title-header">
                <h2 id="modal-title"></h2>
                <input type="text" id="pbi-title">
                <div class="modal-tags-container">
                    <span id="modal-tshirt-display" class="modal-tag modal-tag-tshirt">
                        <span class="modal-tag-label"></span>
                        <span class="modal-tag-value"></span>
                    </span>
                    <span id="modal-wsjf-display" class="modal-tag modal-tag-wsjf">
                        <span class="modal-tag-label"></span>
                        <span class="modal-tag-value"></span>
                    </span>
                </div>
            </div>

            <div class="modal-body-split">
                <div class="modal-column-left">
                    <div class="modal-tabs">
                        <button id="tab-btn-jobsize" class="tab-btn active"></button>
                        <button id="tab-btn-cod" class="tab-btn"></button>
                    </div>

                    <div id="tab-content-jobsize" class="tab-content">
                        <div id="jobsize-hint" class="modal-hint"></div>
                        <div id="modal-scales">
                            <div id="scale-container">
                                <label for="pbi-complexity" id="modal-complexity-label">
                                    <span class="label-text"></span>
                                    <a id="help-icon-complexity" class="info-icon-link" href="#" target="_blank" title="Open documentation">
                                        <svg class="info-icon-svg" width="1200pt" height="1200pt" version="1.1" viewBox="0 0 1200 1200" xmlns="http://www.w3.org/2000/svg">
                                            <path d="m600 75c-289.45 0-525 235.55-525 525s235.55 525 525 525 525-235.55 525-525-235.55-525-525-525zm75 750c0 41.457-33.543 75-75 75s-75-33.543-75-75v-225c0-41.457 33.543-75 75-75s75 33.543 75 75zm-75-375c-41.418 0-75-33.582-75-75 0-41.426 33.582-75 75-75s75 33.574 75 75c0 41.418-33.582 75-75 75z"></path>
                                        </svg>
                                    </a>
                                    <span class="slider-value" id="complexity-value"></span>
                                </label>
                                <input type="range" id="pbi-complexity" min="0" value="0">
                                <div class="slider-scale" data-slider-id="pbi-complexity"></div>
                            </div>
                            <div id="scale-container">
                                <label for="pbi-effort" id="modal-effort-label">
                                    <span class="label-text"></span>
                                    <a id="help-icon-effort" class="info-icon-link" href="#" target="_blank" title="Open documentation">
                                        <svg class="info-icon-svg" width="1200pt" height="1200pt" version="1.1" viewBox="0 0 1200 1200" xmlns="http://www.w3.org/2000/svg">
                                            <path d="m600 75c-289.45 0-525 235.55-525 525s235.55 525 525 525 525-235.55 525-525-235.55-525-525-525zm75 750c0 41.457-33.543 75-75 75s-75-33.543-75-75v-225c0-41.457 33.543-75 75-75s75 33.543 75 75zm-75-375c-41.418 0-75-33.582-75-75 0-41.426 33.582-75 75-75s75 33.574 75 75c0 41.418-33.582 75-75 75z"></path>
                                        </svg>
                                    </a>
                                    <span class="slider-value" id="effort-value"></span>
                                </label>
                                <input type="range" id="pbi-effort" min="0" value="0">
                                <div class="slider-scale" data-slider-id="pbi-effort"></div>
                            </div>
                            <div id="scale-container">
                                <label for="pbi-doubt" id="modal-doubt-label">
                                    <span class="label-text"></span>
                                    <a id="help-icon-doubt" class="info-icon-link" href="#" target="_blank" title="Open documentation">
                                        <svg class="info-icon-svg" width="1200pt" height="1200pt" version="1.1" viewBox="0 0 1200 1200" xmlns="http://www.w3.org/2000/svg">
                                            <path d="m600 75c-289.45 0-525 235.55-525 525s235.55 525 525 525 525-235.55 525-525-235.55-525-525-525zm75 750c0 41.457-33.543 75-75 75s-75-33.543-75-75v-225c0-41.457 33.543-75 75-75s75 33.543 75 75zm-75-375c-41.418 0-75-33.582-75-75 0-41.426 33.582-75 75-75s75 33.574 75 75c0 41.418-33.582 75-75 75z"></path>
                                        </svg>
                                    </a>
                                    <span class="slider-value" id="doubt-value"></span>
                                </label>
                                <input type="range" id="pbi-doubt" min="0" value="0">
                                <div class="slider-scale" data-slider-id="pbi-doubt"></div>
                            </div>
                        </div>
                        <div class="modal-reset-container">
                            <button type="button" id="reset-job-size-btn"></button>
                            <button type="button" id="toggle-ref-markers-btn" style="margin-left: 10px; display: none;"></button>
                        </div>
                    </div>

                    <div id="tab-content-cod" class="tab-content hidden">
                        <div id="cod-hint" class="modal-hint"></div>

                        <div id="modal-scales">
                            <div id="scale-container">
                                <label for="pbi-cod-bv" id="modal-cod-bv-label">
                                    <span class="label-text"></span>
                                    <a id="help-icon-cod_bv" class="info-icon-link" href="#" target="_blank" title="Open documentation">
                                        <svg class="info-icon-svg" width="1200pt" height="1200pt" version="1.1" viewBox="0 0 1200 1200" xmlns="http://www.w3.org/2000/svg">
                                            <path d="m600 75c-289.45 0-525 235.55-525 525s235.55 525 525 525 525-235.55 525-525-235.55-525-525-525zm75 750c0 41.457-33.543 75-75 75s-75-33.543-75-75v-225c0-41.457 33.543-75 75-75s75 33.543 75 75zm-75-375c-41.418 0-75-33.582-75-75 0-41.426 33.582-75 75-75s75 33.574 75 75c0 41.418-33.582 75-75 75z"></path>
                                        </svg>
                                    </a>
                                    <span class="slider-value" id="cod-bv-value"></span>
                                </label>
                                <input type="range" id="pbi-cod-bv" min="0" value="0">
                                <div class="slider-scale" data-slider-id="pbi-cod-bv"></div>
                            </div>
                            <div id="scale-container">
                                <label for="pbi-cod-tc" id="modal-cod-tc-label">
                                    <span class="label-text"></span>
                                    <a id="help-icon-cod_tc" class="info-icon-link" href="#" target="_blank" title="Open documentation">
                                        <svg class="info-icon-svg" width="1200pt" height="1200pt" version="1.1" viewBox="0 0 1200 1200" xmlns="http://www.w3.org/2000/svg">
                                            <path d="m600 75c-289.45 0-525 235.55-525 525s235.55 525 525 525 525-235.55 525-525-235.55-525-525-525zm75 750c0 41.457-33.543 75-75 75s-75-33.543-75-75v-225c0-41.457 33.543-75 75-75s75 33.543 75 75zm-75-375c-41.418 0-75-33.582-75-75 0-41.426 33.582-75 75-75s75 33.574 75 75c0 41.418-33.582 75-75 75z"></path>
                                        </svg>
                                    </a>
                                    <span class="slider-value" id="cod-tc-value"></span>
                                </label>
                                <input type="range" id="pbi-cod-tc" min="0" value="0">
                                <div class="slider-scale" data-slider-id="pbi-cod-tc"></div>
                            </div>
                            <div id="scale-container">
                                <label for="pbi-cod-rroe" id="modal-cod-rroe-label">
                                    <span class="label-text"></span>
                                    <a id="help-icon-cod_rroe" class="info-icon-link" href="#" target="_blank" title="Open documentation">
                                        <svg class="info-icon-svg" width="1200pt" height="1200pt" version="1.1" viewBox="0 0 1200 1200" xmlns="http://www.w3.org/2000/svg">
                                            <path d="m600 75c-289.45 0-525 235.55-525 525s235.55 525 525 525 525-235.55 525-525-235.55-525-525-525zm75 750c0 41.457-33.543 75-75 75s-75-33.543-75-75v-225c0-41.457 33.543-75 75-75s75 33.543 75 75zm-75-375c-41.418 0-75-33.582-75-75 0-41.426 33.582-75 75-75s75 33.574 75 75c0 41.418-33.582 75-75 75z"></path>
                                        </svg>
                                    </a>
                                    <span class="slider-value" id="cod-rroe-value"></span>
                                </label>
                                <input type="range" id="pbi-cod-rroe" min="0" value="0">
                                <div class="slider-scale" data-slider-id="pbi-cod-rroe"></div>
                            </div>
                        </div>

                        <div class="modal-reset-container">
                            <button type="button" id="reset-cod-btn"></button>
                        </div>
                    </div>
                </div>
                <div class="modal-column-right">
                    <label id="modal-notes-label"></label>
                    <div class="editor-wrapper">
                        <div class="editor-toolbar" id="editor-toolbar">
                            <button type="button" class="editor-btn color-btn" data-cmd="foreColor" data-color-index="1" id="btn-editor-c1">
                                <div class="editor-color-dot" style="background-color: var(--color-editor-1);"></div>
                            </button>
                            <button type="button" class="editor-btn color-btn" data-cmd="foreColor" data-color-index="2" id="btn-editor-c2">
                                <div class="editor-color-dot" style="background-color: var(--color-editor-2);"></div>
                            </button>
                            <button type="button" class="editor-btn color-btn" data-cmd="foreColor" data-color-index="3" id="btn-editor-c3">
                                <div class="editor-color-dot" style="background-color: var(--color-editor-3);"></div>
                            </button>
                            <button type="button" class="editor-btn color-btn" data-cmd="foreColor" data-color-index="4" id="btn-editor-c4">
                                <div class="editor-color-dot" style="background-color: var(--color-editor-4);"></div>
                            </button>

                            <div class="editor-divider"></div>

                            <button type="button" class="editor-btn" data-cmd="bold" id="btn-editor-bold">
                                <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
                                    <path d="M8 11h4.5a2.5 2.5 0 0 0 0-5H8v5Zm10 4.5a4.5 4.5 0 0 1-4.5 4.5H6V4h6.5a4.5 4.5 0 0 1 0 9v.5A4.5 4.5 0 0 1 18 15.5ZM8 13v5h5.5a2.5 2.5 0 0 0 0-5H8Z" />
                                </svg>
                            </button>
                            <button type="button" class="editor-btn" data-cmd="italic" id="btn-editor-italic">
                                <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
                                    <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4h-8Z" />
                                </svg>
                            </button>
                            <button type="button" class="editor-btn" data-cmd="underline" id="btn-editor-underline">
                                <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
                                    <path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6Zm-7 2v2h14v-2H5Z" />
                                </svg>
                            </button>
                            <button type="button" class="editor-btn" data-cmd="strikeThrough" id="btn-editor-strike">
                                <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
                                    <path d="M10 19h4v-3h-4v3zM5 4v3h5v3h4V7h5V4H5zM3 14h18v-2H3v2z" />
                                </svg>
                            </button>

                            <div class="editor-divider"></div>

                            <button type="button" class="editor-btn" data-cmd="createLink" id="btn-editor-link">
                                <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
                                    <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z" />
                                </svg>
                            </button>

                            <div class="editor-divider"></div>

                            <button type="button" class="editor-btn" data-cmd="removeFormat" id="btn-editor-clean">
                                <svg viewBox="0 0 128 128" width="16" height="16" fill="currentColor">
                                    <path d="m113.59 79.848c-1.8945-1.8945-3.7656-3.7891-5.6602-1.8945l-41.617 41.617c-1.8945 1.8711 0 3.7656 1.8945 5.6602 1.8945 1.8945 3.7891 3.7891 5.6836 1.8945l41.594-41.617c1.8984-1.8711 0.003907-3.7656-1.8945-5.6602zm-45.293 0.089844c-1.8945 1.8945-3.7891 3.7656-1.8945 5.6602l41.617 41.617c1.8711 1.8945 3.7656 0 5.6602-1.8945 1.8945-1.8945 3.7891-3.7891 1.8945-5.6836l-41.617-41.594c-1.8711-1.8984-3.7656 0-5.6602 1.8945zm22.426-79.938h-69.016c-3.832 0-3.832 0-4.3672 3.832l-1.6211 11.504c-0.53516 3.832-0.53516 3.832 3.2969 3.832h25.305l-9.6992 69.016c-0.53516 3.832-0.53516 3.832 3.2969 3.832h11.504c3.832 0 3.832 0 4.3672-3.832l9.6992-69.016h24.539c3.832 0 3.832 0 4.3672-3.832l1.6211-11.504c0.53906-3.832 0.53906-3.832-3.293-3.832zm-26.75 98.973h-47.883c-4.457 0-4.457 0-4.457 4.457 0 3.5664 0 3.5664 4.457 3.5664h47.883c4.457 0 4.457 0 4.457-3.5664 0-4.457 0-4.457-4.457-4.457z" />
                                </svg>
                            </button>
                        </div>
                        <div id="pbi-notes" class="editor-content" contenteditable="true"></div>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button id="cancel-btn"></button><button id="save-btn"></button>
            </div>
        </div>
    </div>

    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <h2 id="settings-modal-title"></h2>

            <div class="settings-grid-layout">

                <div class="settings-col">
                    <div class="settings-group">
                        <strong id="settings-modal-language-label"></strong>
                        <div id="language-options-container">
                            <label><input type="radio" name="language-setting" value="de"> <span id="settings-lang-option-de"></span></label>
                            <label><input type="radio" name="language-setting" value="en"> <span id="settings-lang-option-en"></span></label>
                        </div>
                    </div>

                    <div class="settings-group">
                        <strong id="settings-modal-tshirt-label"></strong>
                        <div id="tshirt-sizes-options">
                        </div>
                    </div>

                    <div class="settings-group">
                        <strong id="settings-modal-scale-label"></strong>
                        <div id="scale-setting-container">
                            <label><input type="radio" name="scale-setting" value="metric" checked> <span id="settings-scale-option-metric"></span></label>
                            <label><input type="radio" name="scale-setting" value="safe"> <span id="settings-scale-option-safe"></span></label>
                            <label style="display:flex; align-items:center;">
                                <input type="checkbox" id="setting-show-ref-markers">
                                <span id="settings-label-show-ref-markers" style="margin-left: 8px;"></span>
                            </label>
                        </div>
                    </div>

                    <div class="settings-group">
                        <strong id="settings-modal-general-label"></strong>
                        <div id="general-settings-container">
                            <label style="display:flex; align-items:center;">
                                <input type="checkbox" id="setting-show-res-warning">
                                <span id="settings-label-show-res-warning" style="margin-left: 8px;"></span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="settings-col">
                    <div class="settings-group" style="margin-top: 0;">
                        <strong id="settings-modal-color-label"></strong>
                        <div id="color-settings-container">
                            <div class="color-setting-item">
                                <label id="color-label-complexity" for="color-complexity-setting"></label>
                                <input type="color" id="color-complexity-setting">
                            </div>
                            <div class="color-setting-item">
                                <label id="color-label-effort" for="color-effort-setting"></label>
                                <input type="color" id="color-effort-setting">
                            </div>
                            <div class="color-setting-item">
                                <label id="color-label-doubt" for="color-doubt-setting"></label>
                                <input type="color" id="color-doubt-setting">
                            </div>
                            <div class="color-setting-item">
                                <label id="color-label-bv" for="color-bv-setting"></label>
                                <input type="color" id="color-bv-setting">
                            </div>
                            <div class="color-setting-item">
                                <label id="color-label-tc" for="color-tc-setting"></label>
                                <input type="color" id="color-tc-setting">
                            </div>
                            <div class="color-setting-item">
                                <label id="color-label-rroe" for="color-rroe-setting"></label>
                                <input type="color" id="color-rroe-setting">
                            </div>
                            <div class="color-setting-item">
                                <label id="color-label-total" for="color-total-setting"></label>
                                <input type="color" id="color-total-setting">
                            </div>
                            <div class="color-setting-item">
                                <label id="color-label-number-complexity" for="color-number-complexity-setting"></label>
                                <input type="color" id="color-number-complexity-setting">
                            </div>
                            <div class="color-setting-item">
                                <label id="color-label-number-effort" for="color-number-effort-setting"></label>
                                <input type="color" id="color-number-effort-setting">
                            </div>
                            <div class="color-setting-item">
                                <label id="color-label-number-doubt" for="color-number-doubt-setting"></label>
                                <input type="color" id="color-number-doubt-setting">
                            </div>
                            <div class="color-setting-item">
                                <label id="color-label-number-bv" for="color-number-bv-setting"></label>
                                <input type="color" id="color-number-bv-setting">
                            </div>
                            <div class="color-setting-item">
                                <label id="color-label-number-tc" for="color-number-tc-setting"></label>
                                <input type="color" id="color-number-tc-setting">
                            </div>
                            <div class="color-setting-item">
                                <label id="color-label-number-rroe" for="color-number-rroe-setting"></label>
                                <input type="color" id="color-number-rroe-setting">
                            </div>
                        </div>
                    </div>

                    <div class="settings-group">
                        <strong id="settings-modal-editor-color-label"></strong>
                        <div id="editor-color-settings-container" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <div class="color-setting-item">
                                <label id="label-editor-c1" for="setting-editor-c1"></label>
                                <input type="color" id="setting-editor-c1">
                            </div>
                            <div class="color-setting-item">
                                <label id="label-editor-c2" for="setting-editor-c2"></label>
                                <input type="color" id="setting-editor-c2">
                            </div>
                            <div class="color-setting-item">
                                <label id="label-editor-c3" for="setting-editor-c3"></label>
                                <input type="color" id="setting-editor-c3">
                            </div>
                            <div class="color-setting-item">
                                <label id="label-editor-c4" for="setting-editor-c4"></label>
                                <input type="color" id="setting-editor-c4">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal-reset-container">
                <button type="button" id="reset-settings-btn"></button>
            </div>

            <div style="margin-top: 24px; text-align: right;">
                <button id="settings-cancel-btn"></button><button id="settings-save-btn"></button>
            </div>
        </div>
    </div>

    <input type="file" id="import-file-input" accept=".json" style="display: none;">

    <script id="size-right-config" type="application/json">
        {
            "scales": {
                "metric": {
                    "name": "Metrisch",
                    "values": [0, 1, 2, 3, 4, 5, 6, 7, 8]
                },
                "safe": {
                    "name": "SAFe Fibonacci",
                    "values": [0, 1, 2, 3, 5, 8]
                }
            },
            "colors": {
                "complexity": "#cacde6",
                "effort": "#a9e0e7",
                "doubt": "#ffa6be",
                "total": "#efefef",
                "numberComplexity": "#666666",
                "numberEffort": "#666666",
                "numberDoubt": "#666666",
                "bv": "#abf2ab",
                "tc": "#f7dc91",
                "rroe": "#acd2fb",
                "numberBv": "#666666",
                "numberTc": "#666666",
                "numberRrOe": "#666666"
            },
            "scaleHelpUrls": {
                "complexity": "",
                "effort": "",
                "doubt": "",
                "cod_bv": "",
                "cod_tc": "",
                "cod_rroe": ""
            },
            "defaultColors": {
                "complexity": "#cacde6",
                "effort": "#a9e0e7",
                "doubt": "#ffa6be",
                "total": "#efefef",
                "numberComplexity": "#666666",
                "numberEffort": "#666666",
                "numberDoubt": "#666666",
                "bv": "#abf2ab",
                "tc": "#f7dc91",
                "rroe": "#acd2fb",
                "numberBv": "#666666",
                "numberTc": "#666666",
                "numberRrOe": "#666666"
            },
            "editorColors": {
                "1": "#279745",
                "2": "#2560d1",
                "3": "#937404",
                "4": "#c90000"
            },
            "defaultEditorColors": {
                "1": "#279745",
                "2": "#2560d1",
                "3": "#937404",
                "4": "#c90000"
            },
            "defaultSettings": {
                "language": "en",
                "scale": "safe",
                "tshirtSizes": ["S", "M", "L", "XL"],
                "confirmOnExit": false,
                "showDemoDataLink": true,
                "showReferenceMarkers": true
            },
            "resolutionSettings": {
                "minWidth": 1468,
                "minHeight": 746
            },
            "showDemoDataLink": false,
            "demoData": {
                "en": {
                    "path": "Business Example - Values (EN).json"
                },
                "de": {
                    "path": "Business Example - Values (DE).json"
                }
            },
            "allTshirtSizes": ["XXS", "XS", "S", "M", "L", "XL", "XXL"],
            "tshirtSizes": ["S", "M", "L", "XL"],
            "initialPbis": [],
            "updateChecker": {
                "enabled": false,
                "versionUrl": "https://gist.githubusercontent.com/Sperker/d0481bc71d4d5ee5e660e3d5511f13e6/raw/SizeRightVersion.txt",
                "downloadUrl": "https://github.com/Sperker/SizeRight"
            },
            "pastelColorPalette": ["#DCBCBD", "#B6E2B7", "#B6B6E2", "#B6DDE2", "#EEEBD3", "#E2B6D9", "#DAD7EA", "#C7E6D3", "#D9E2B6", "#E2CDB6", "#EADAD7", "#E6C7DA", "#B6C8E2", "#D6C4E8", "#D7E4EA", "#C5DCBC", "#D3EEE8", "#E2DAB6", "#E2B6C3", "#BCCFDC", "#DEEED3", "#DCC6BC", "#E6D3EE", "#D2B6E2", "#EED3DB", "#B6E2D9", "#C7C7E6", "#B6E2C4", "#E3D9C9", "#C8E2B6", "#DCBCD8", "#D6DCBC", "#DCD6BC", "#EAD7E8", "#E8C4E8", "#D3DEEE", "#D7EADB", "#D7E8C4", "#B6BEE2", "#E7E8C4", "#C4B9DF", "#E2BEB6", "#C4DDE8", "#C7D0E6", "#C9E8C4", "#E2B6B7", "#E3C9CA", "#C9E3E3", "#DCBCC8", "#BCDCC3", "#E2B6E2", "#B6E2CD", "#E8D2C4", "#D6C9E3", "#BCDCD6", "#D3D3EE", "#E2EAD7", "#CFE3C9", "#E8C4CB", "#EAE1D7", "#E2B6CB", "#E8E2C4", "#DEE3C9", "#BCC2DC"],
            "languages": {
                "de": {
                    "btnOpenAnyway": "Trotzdem ffnen",
                    "btnResetCoD": "Verzgerungskosten zurcksetzen",
                    "btnResetSettings": "Einstellungen Zurcksetzen",
                    "helpButtonTitle": "Hilfe",
                    "tocTitle": "Inhaltsverzeichnis",
                    "pageTitle": "SizeRight",
                    "mainHeader": "SizeRight",
                    "mainClaim": "Align fast. Decide with clarity.",
                    "updateChecker": {
                        "updateNotification": "Diese Version der Anwendung ist veraltet!",
                        "updateButtonText": "Neueste Version {version} herunterladen"
                    },
                    "infoVersionOutdated": "ist veraltet, die aktuelle Version:",
                    "infoVersionCurrent": "ist aktuell",
                    "infoAboutLabel": "ber",
                    "licenseText": "MIT License\n\nCopyright  2025 Jakob Michael SPERKER\n\nJedem, der eine Kopie dieser Software und der zugehrigen\nDokumentationsdateien (die \"Software\") erhlt, wird hiermit kostenlos die\nErlaubnis erteilt, ohne Einschrnkung mit der Software zu handeln,\neinschlielich und ohne Einschrnkung der Rechte zur Nutzung, zum Kopieren,\nndern, Zusammenfhren, Verffentlichen, Verteilen, Unterlizensieren und/oder\nVerkaufen von Kopien der Software, und Personen, denen die Software zur\nVerfgung gestellt wird, dies unter den folgenden Bedingungen zu gestatten:\n\nDer obige Urheberrechtshinweis und dieser Genehmigungshinweis mssen in allen\nKopien oder wesentlichen Teilen der Software enthalten sein.\n\nDIE SOFTWARE WIRD OHNE MNGELGEWHR UND OHNE JEGLICHE AUSDRCKLICHE ODER\nSTILLSCHWEIGENDE GEWHRLEISTUNG, EINSCHLIELICH, ABER NICHT BESCHRNKT AUF DIE\nGEWHRLEISTUNG DER MARKTGNGIGKEIT, DER EIGNUNG FR EINEN BESTIMMTEN ZWECK UND\nDER NICHTVERLETZUNG VON RECHTEN DRITTER, ZUR VERFGUNG GESTELLT. DIE AUTOREN\nODER URHEBERRECHTSINHABER SIND IN KEINEM FALL HAFTBAR FR ANSPRCHE, SCHDEN\nODER ANDERE VERPFLICHTUNGEN, OB IN EINER VERTRAGS- ODER HAFTUNGSKLAGE, EINER\nUNERLAUBTEN HANDLUNG ODER ANDERWEITIG, DIE SICH AUS ODER IN VERBINDUNG MIT DER\nSOFTWARE ODER DER NUTZUNG ODER ANDEREN GESCHFTEN MIT DER SOFTWARE ERGEBEN.",
                    "infoTabLicenseSoftware": "Lizenz dieser Software",
                    "infoTabLicenseThirdParty": "Verwendete (Fremd-)Lizenzen",
                    "licenseTextThirdParty": "MIT License\n\nCopyright (c) 2019 All contributors to Sortable\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.",
                    "infoLicenseDesignationSoftware": "SizeRight",
                    "infoLicenseLinkTextSoftware": "Github: SizeRight",
                    "infoLicenseDesignationThirdParty": "SortableJS",
                    "infoLicenseLinkTextThirdParty": "Github: SortableJS",
                    "infoContactLabel": "Kontakt:",
                    "infoContactValue": "Set name here: language.json >> infoContactValue",
                    "infoFunctionLabel": "Funktion:",
                    "infoFunctionValue": "Set function here: language.json >> infoFunctionValue",
                    "infoEmailLabel": "E-Mail:",
                    "infoEmailValue": "Set e-mail here: language.json >> infoEmailValue",
                    "infoDepartmentLabel": "Abteilung:",
                    "infoDepartmentValue": "Set department here: language.json >> infoDepartmentValue",
                    "infoCompanyLabel": "Unternehmen:",
                    "infoCompanyValue": "Set company here: language.json >> infoCompanyValue",
                    "infoVersionLabel": "Version:",
                    "infoBuildLabel": "Build:",
                    "infoWeblinkLabel": "Weiterfhrende Informationen",
                    "infoWeblinkSentence": "Weiterfhrende Informationen wie die Dokumentation, Tutorials, Releasenotes sind unter {weblink} verfgbar.",
                    "infoWeblinkText": "github - SizeRight",
                    "infoWeblinkUrl": "https://github.com/Sperker/SizeRight",
                    "btnAddPbi": "Neues Backlog Item hinzufgen",
                    "modalTitleEdit": "BI bearbeiten",
                    "modalTitleNew": "Neues BI erstellen",
                    "btnCancel": "Abbrechen",
                    "btnSave": "Speichern",
                    "btnEdit": "Bearbeiten",
                    "btnDelete": "Lschen",
                    "legendComplexity": "Komplexitt",
                    "legendEffort": "Aufwand",
                    "legendDoubt": "Unsicherheit",
                    "modalPlaceholderTitle": "Titel des Backlog Items",
                    "modalNotesPlaceholder": "Zustzliche Informationen zum Backlog Item/Schtzprozess",
                    "modalLabelComplexity": "Komplexitt",
                    "modalLabelEffort": "Aufwand",
                    "modalLabelDoubt": "Unsicherheit",
                    "modalLabelNotes": "Notizen & Annahmen",
                    "confirmDelete": "Mchten Sie dieses Backlog Item wirklich lschen?",
                    "btnSettingsTitle": "Einstellungen",
                    "modalTitleSettings": "Einstellungen",
                    "modalSortLabel": "Sortierreihenfolge:",
                    "sortOptionAsc": "Aufsteigend",
                    "sortOptionDesc": "Absteigend",
                    "legendSortBy": "Sortiert nach",
                    "tooltipSortAsc": "Aufsteigend sortieren",
                    "tooltipSortDesc": "Absteigend sortieren",
                    "tooltipFilterLock": "Sortierung sperren",
                    "tooltipFilterUnlock": "Sortierung entsperren",
                    "tooltipCustomSort": "Eigene Sortierung",
                    "btnResetFiltersTitle": "Filter & Sortierung zurcksetzen",
                    "filterJobSize": "Arbeitsumfang",
                    "filterCoD": "Verzgerungskosten",
                    "filterWSJF": "WSJF",
                    "filterTshirtSize": "T-Shirt",
                    "filterCustomSort": "Eigene Sortierung",
                    "tabJobSize": "Arbeitsumfang",
                    "tabCoD": "Verzgerungskosten",
                    "modalTshirtLabel": "T-Shirt Gren",
                    "modalScaleLabel": "Globale Skala",
                    "scaleOptionMetric": "Arithmetisch (1,2,3,4,5,6,7,8)",
                    "scaleOptionSAFe": "SAFe Fibonacci (1,2,3,5,8)",
                    "modalLabelCodBv": "(BV) Anwender- und Geschftswert",
                    "modalLabelCodTc": "(TC) Zeitkritikalitt",
                    "modalLabelCodRroe": "(RR/OE) Risikoreduzierung und/oder Chancenerffnung",
                    "jobsizeHint": "Setze alle drei Werte um fortzufahren",
                    "jobsizeHintComplete": "Der aktuelle Arbeitsumfang (Job Size) ist: {jobSize}",
                    "codHint": "Setze alle drei Werte um den 'Weighted Shortest Job First (WSJF)' zu erhalten",
                    "codHintComplete": "Die aktuellen Verzgerungskosten (Cost of Delay) sind: {codSize}",
                    "modalLanguageLabel": "Sprache",
                    "langOptionDe": "Deutsch",
                    "langOptionEn": "Englisch",
                    "dividerTooltip": "Ziehen zum Anpassen",
                    "pbiInfoJobSize": "Job Size",
                    "pbiInfoCoD": "CoD",
                    "pbiInfoWSJF": "WSJF",
                    "pbiInfoTshirtSize": "T-Shirt-Gre",
                    "modalTitleInfo": "Info",
                    "btnClose": "Schlieen",
                    "btnImportTitle": "Importieren",
                    "btnExportTitle": "Exportieren",
                    "confirmImport": "Mchten Sie die aktuellen Backlog Items wirklich durch den Inhalt der Datei ersetzen? Alle nicht gespeicherten nderungen gehen verloren.",
                    "importSuccess": "Backlog Items erfolgreich importiert.",
                    "importError": "Fehler beim Importieren der Datei. Bitte stellen Sie sicher, dass es eine gltige JSON-Datei ist.",
                    "emptyStateMessage": "Erstellt unter \"{btnAddPbi}\" Backlog Items und startet eure Diskussion ber \"{modalLabelComplexity}\", \"{modalLabelEffort}\", \"{modalLabelDoubt}\" und vieles mehr. Entscheidet euch fr eine \"{pbiInfoTshirtSize}\" und lasst euch den \"Weighted Shortest Job First (WSJF)\" fr eine effiziente Priorisierung berechnen.",
                    "demoDataLabel": "Demo-Daten laden:",
                    "demoDataLinkEN": "EN",
                    "demoDataLinkDE": "DE",
                    "demoDataTooltipDisabled": "Dieser Link ist deaktiviert, wenn die Datei lokal ausgefhrt wird. Bitte verwenden Sie stattdessen die Import-Schaltflche (Ordner-Symbol), um Demo-Daten zu laden.",
                    "pbiInfoNA": "nv",
                    "settingsColorLabel": "Farbeinstellungen",
                    "colorComplexity": "Komplexitt",
                    "colorEffort": "Aufwand",
                    "colorDoubt": "Unsicherheit",
                    "colorTotal": "Gesamtgre",
                    "colorNumberComplexity": "Zahl (Komplexitt)",
                    "colorNumberEffort": "Zahl (Aufwand)",
                    "colorNumberDoubt": "Zahl (Unsicherheit)",
                    "tabJobSizeViz": "Visualisierung Arbeitsumfang",
                    "tabCoDViz": "Visualisierung Verzgerungskosten",
                    "tabWsjfViz": "Visualisierung WSJF",
                    "tabRelativeSizing": "Tabelle fr realtive Schtzung",
                    "groupJobSize": "Arbeitsumfang (Job Size)",
                    "groupCoD": "Verzgerungskosten (CoD)",
                    "groupWsjf": "WSJF",
                    "colComplexity": "Komplexitt",
                    "colEffort": "Aufwand",
                    "colDoubt": "Unsicherheit",
                    "colJobSize": "Job Size",
                    "colBv": "BV",
                    "colTc": "TC",
                    "colRrOe": "RR/OE",
                    "colWsjf": "WSJF",
                    "highlightColumnTitle": "Spalte hervorheben",
                    "tooltipJobSizeNa": "Arbeitsumfang nicht berechenbar. Fehlende Werte: {missingValues}",
                    "tooltipCodNa": "Verzgerungskosten nicht berechenbar. Fehlende Werte: {missingValues}",
                    "tooltipWsjfNa": "WSJF nicht berechenbar. Fehlend: {missingValues}",
                    "valuesMissing": "Werte fehlen",
                    "btnResetJobSize": "Arbeitsumfang zurcksetzen",
                    "colorBv": "Geschftswert",
                    "colorTc": "Zeitkritikalitt",
                    "colorRrOe": "Risiko/Chancen",
                    "colorNumberBv": "Zahl (Geschftswert)",
                    "colorNumberTc": "Zahl (Zeitkritikalitt)",
                    "colorNumberRrOe": "Zahl (Risiko/Chancen)",
                    "tooltipComplexity": "Komplexitt",
                    "tooltipEffort": "Aufwand",
                    "tooltipDoubt": "Unsicherheit",
                    "tooltipJobSize": "Arbeitsumfang (Job Size)",
                    "tooltipBv": "(BV) Anwender- und Geschftswert",
                    "tooltipTc": "(TC) Zeitkritikalitt",
                    "tooltipRrOe": "(RR/OE) Risikoreduzierung und/oder Chancenerffnung",
                    "tooltipCoD": "Verzgerungskosten (Cost of Delay)",
                    "tooltipWsjf": "Weighted Shortest Job First (WSJF)",
                    "tooltipSetRefMin": "Als Referenz-Item Minimum setzen",
                    "tooltipSetRefMax": "Als Referenz-Item Maximum setzen",
                    "tooltipUnsetRefMin": "Referenz-Item Minimum entfernen",
                    "tooltipUnsetRefMax": "Referenz-Item Maximum entfernen",
                    "lastItemTitle": "---",
                    "confirmExit": "Es gibt nicht gespeicherte Backlog Items. Mchtest du die Seite wirklich verlassen?",
                    "tooltipWsjfRank": "WSJF Reihenfolge (Farbnderung per klick)",
                    "wsjfChartTitleOptimal": "Optimale Reihenfolge (nach WSJF)",
                    "wsjfChartLabelTotalCost": "Gesamte Verzgerungskosten:",
                    "wsjfChartNoData": "Keine gltigen WSJF-Daten zum Visualisieren vorhanden.",
                    "wsjfChartLegendLabelVertical": "Y-Achse:",
                    "wsjfChartLegendLabelHorizontal": "X-Achse:",
                    "wsjfChartLegendUnitVertical": "Verzgerungskosten (Cost of Delay)",
                    "wsjfChartLegendUnitHorizontal": "Arbeitsumfang (Job Size)",
                    "wsjfChartLabelAccumulatedCost": "Akkumulierte Verzgerungskosten",
                    "wsjfChartTitleCurrentOrderPart": "Aktuelle Reihenfolge/Sortierung",
                    "wsjfChartTooltipWaiting": "Status: Wartend",
                    "wsjfChartTooltipProcessing": "Status: In Bearbeitung",
                    "wsjfChartTooltipItem": "Item",
                    "wsjfChartTooltipJobSize": "Arbeitsumfang",
                    "wsjfChartTooltipCod": "Verzgerungskosten",
                    "wsjfChartTooltipXAxisLabel": "Kumulierter Arbeitsumfang: {value}",
                    "wsjfChartTooltipYAxisLabel": "Kumulierte Verzgerungskosten: {value}",
                    "resolutionWarning": "SizeRight wurde fr eine Bildschirmauflsung von 1920x1080 px entwickelt und bentigt eine Mindestauflsung von 1468x658 px. Bitte passen Sie das Browserfenster oder die Bildschirmauflsung an.",
                    "editorBold": "Fett",
                    "editorItalic": "Kursiv",
                    "editorUnderline": "Unterstrichen",
                    "editorStrikethrough": "Durchgestrichen",
                    "editorLink": "Link einfgen",
                    "editorClean": "Formatierung entfernen",
                    "linkPrompt": "Bitte geben Sie die URL ein:",
                    "editorColor1": "Farbe 1 (Standard)",
                    "editorColor2": "Farbe 2 (Info)",
                    "editorColor3": "Farbe 3 (Hervorhebung)",
                    "editorColor4": "Farbe 4 (Warnung)",
                    "settingsEditorColorLabel": "Editor Farben",
                    "tooltipModalPrev": "Vorheriges Item",
                    "tooltipModalNext": "Nchstes Item",
                    "navPrevItem": "Vorheriges Element",
                    "navNextItem": "Nchstes Element",
                    "navItemCount": "Backlog Element {current} von {total}",
                    "navPrevItemSave": "Speichern & Vorheriges",
                    "navNextItemSave": "Speichern & Nchstes",
                    "navRefMin": "Referenz-Item MIN",
                    "navRefMax": "Referenz-Item MAX",
                    "btnHideRefMarkers": "Marker ausblenden",
                    "btnShowRefMarkers": "Marker anzeigen",
                    "settingShowRefMarkers": "Referenzmarker auf Skalen anzeigen",
                    "btnResetAppTitle": "Anwendung zurcksetzen",
                    "modalTitleResetApp": "Vorsicht!",
                    "resetAppText": "Die gespeicherten Daten von SizeRight werden nach der Besttigung in Ihrem Browser zurckgesetzt und sind somit verloren. Exportieren Sie diese unbedingt, wenn Sie Ihre Daten behalten wollen. Sie knnen diese danach jederzeit wieder importieren.",
                    "btnResetAppExport": "Daten Exportieren",
                    "btnResetAppDelete": "Daten Lschen",
                    "btnCsvExportTitle": "Als CSV exportieren",
                    "modalTitleCsvExport": "Als CSV-Datei exportieren",
                    "csvExportText": "Backlog-Items inklusive aller Schtzungen und Notizen knnen ber diesen Dialog in eine strukturierte CSV-Datei exportiert werden. Dieses Format kann mit Tabellenkalkulationssoftware wie Microsoft Excel, Apple Numbers oder Google Sheets geffnet werden.\n\nSortierung: Standardmig wird die Sortierreihenfolge der aktuellen Ansicht bernommen. Die Sortierung fr diese Datei kann unten angepasst werden, ohne den Hauptarbeitsbereich zu beeinflussen.",
                    "btnCsvExportCancel": "Abbrechen",
                    "btnCsvExportConfirm": "CSV Exportieren",
                    "csvExportSortLabel": "Sortiert nach: {criteria} - {direction}",
                    "csvHeaderRef": "Referenz-Item",
                    "settingsModalGeneralLabel": "Allgemein",
                    "settingsLabelShowResWarning": "Auflsungswarnung anzeigen",
                    "tooltipTshirtCodView": "Die T-Shirtgre kann nur in der Ansicht \"Visualisierung Arbeitsumfang\" gesetzt werden.",
                    "documentationHtml": "<h1>SizeRight</h1>\n<p><strong>SizeRight</strong> ist ein innovatives Werkzeug fr die agile Produktentwicklung, das speziell fr Product Owner, Produktmanager und Epic Owner entwickelt wurde, um die <strong>Schtzung</strong> und Priorisierung von groen, abstrakten <strong>Backlog Items</strong> wie Features und Epics zu vereinfachen.</p>\n<p>Es lst die Herausforderung langwieriger und subjektiver <strong>Schtz-Meetings</strong> durch einen strukturierten, visuellen Prozess, der den Anspruch verkrpert: <strong>Align fast. Decide with clarity.</strong></p>\n<p>Dieses Onlinehandbuch beschreibt den integrierten Prozess, den SizeRight ermglicht, und verbindet das Wie der Werkzeugnutzung mit dem Warum der zugrundeliegenden strategischen Prinzipien.</p>\n<hr>\n<h2>Das Warum und Wie: Ein integrierter Schtz-Prozess</h2>\n<p>SizeRight ist ein gefhrter Prozess, der auf zwei Kernprinzipien der modernen agilen Produktentwicklung aufbaut: <strong>Relative Schtzung</strong> und <strong>Wirtschaftliche Priorisierung</strong>. Es hilft dabei, komplexe Entscheidungen in zwei klaren, aufeinanderfolgenden Schritten zu treffen.</p>\n<p>Dieser integrierte Ansatz kombiniert die <strong>Schtzung</strong> des <strong>Aufwandumfangs</strong> (des Arbeitsumfanges/Job Size) mit der Ermittlung des <strong>Geschftswerts</strong> (den Verzgerungskosten/Cost of Delay), um eine <strong>datengesteuerte Priorisierung</strong> mittels <strong>Weighted Shortest Job First (WSJF)</strong> zu ermglichen. Die Anwendung wurde primr fr die <strong>Schtzung</strong> von bergeordneten <strong>Backlog Items</strong> wie <strong>Features</strong> und <strong>Epics</strong> entwickelt, die oft abstrakt und schwer zu bewerten sind. Der strukturierte Prozess von SizeRight bietet in dieser frhen Phase Klarheit.</p>\n<hr>\n<h2>Schritt 1: Align fast. - Von vagen Ideen zum relativen Arbeitsumfang (Job Size)</h2>\n<h3>Warum nicht einfach Stunden verwenden?</h3>\n<p>Die erste Herausforderung in jedem Projekt ist das Verstndnis ber die zu erledigende Arbeit. Traditionell versuchen Teams, in absoluten Einheiten wie Stunden oder Tagen zu schtzen.</p>\n<p>Dieser Ansatz hat entscheidende Nachteile:</p>\n<ul>\n<li><strong>Der Trugschluss der Przision:</strong> Eine Schtzung von 40 Stunden fhlt sich przise an, ist aber hchst subjektiv. Sie ignoriert individuelle Fhigkeiten, Meetings und unvorhergesehene Probleme und erzeugt so ein falsches Gefhl von Sicherheit.</li>\n<li><strong>Kognitive Verzerrung (Cognitive Bias):</strong> Menschen sind von Natur aus schlecht in absoluter Schtzung (Wie viele Stunden wird das dauern?), aber hervorragend in vergleichender Schtzung (Ist diese Aufgabe <em>grer</em> oder <em>kleiner</em> als jene Aufgabe?).</li>\n<li><strong>Psychologischer Druck:</strong> Eine stundenbasierte Schtzung wird oft als Blutschwur oder Deadline behandelt, was zu Abstrichen bei der Qualitt fhrt.</li>\n</ul>\n<p>Das Ziel ist kein fehlerhafter, pseudo-prziser Plan, sondern ein <strong>gemeinsames Verstndnis</strong> ber die vorliegenden Arbeit.</p>\n<h3>Der Prozess: Den Arbeitsumfang (Job Size) auftrennen</h3>\n<p>SizeRight lst dies, indem es die Diskussion von absoluten Werten wie Zeit wegleitet. Der Prozess beginnt mit der Frage: Wie gro ist das Feature/Epic?</p>\n<p>Anstelle einer einzelnen Zahl leitet die Anwendung die gemeinsame Diskussion, um den <strong>Arbeitsumfang (Job Size)</strong> anhand von drei greifbaren, relativen Dimensionen zu bewerten:</p>\n<ul>\n<li><strong>Komplexitt:</strong> Wie <em>schwierig</em> ist das? (z.B.: neue Technologie, komplexe Logik)</li>\n<li><strong>Aufwand:</strong> Wie <em>viel</em> Arbeit ist das? (z.B.: hohes Volumen repetitiver Aufgaben)</li>\n<li><strong>Unsicherheit:</strong> Was wissen wir <em>nicht</em>? (z.B.: unklare Anforderungen, externe Abhngigkeiten)</li>\n</ul>\n<h3>Kategorisierung mit T-Shirt-Gren (Affinity Estimation)</h3>\n<p>Sobald der numerische <strong>Arbeitsumfang (Job Size)</strong> (z.B.:. 12) aus diesen drei Dimensionen berechnet ist, untersttzt SizeRight den letzten Schritt der Angleichung: die Kategorisierung. Es wird das Prinzipien der <strong>Affinity Estimation</strong> angewendet, bei der Items in Eimer (Buckets) hnlicher Gre gruppiert/zugeordnet werden.</p>\n<p>Anstatt sich im geringfgigen Unterschied zwischen einer 12 und einer 13 zu verlieren, ermglicht das Werkzeug die Zuweisung einer <strong>T-Shirt-Gre</strong> (z.B.: XS, S, M, L). Dieser Akt des Bucketings dient mehreren Zielen:</p>\n<ul>\n<li><strong>Reduziert falsche Przision:</strong> Es erkennt an, dass die Zahl ein Richtwert ist, keine perfekte Messung.</li>\n<li><strong>Beschleunigt die Kommunikation:</strong> Es ist schneller, ber M-groe Items zu sprechen als ber Items zwischen 11 und 15 Punkten.</li>\n<li><strong>Visuelle Gruppierung:</strong> Es ermglicht dem Team, Items hnlicher Grenordnung visuell zu gruppieren und zu verwalten.</li>\n</ul>\n<h3>Das Ergebnis: Schnelle Angleichung</h3>\n<p>Das Hauptziel dieser Schtzung ist nicht die endgltige Zahl selbst, sondern die <strong>Konversation</strong>, die sie erzeugt. Wenn eine Person die <strong>Komplexitt</strong> als 5 und eine andere als 2 einschtzt, deckt die resultierende Diskussion verborgene Annahmen auf und bringt das Team auf einen einheitlichen Stand.</p>\n<p>Das ist die Align fast-Philosophie. Die Visualisierung als Bubble-Chart (Blasendiagramm) im Werkzeug zeigt sofort, <em>warum</em> etwas wie gro ist (z.B.: hohe <strong>Komplexitt</strong>, aber geringer <strong>Aufwand</strong>), und die <strong>T-Shirt-Gre</strong> liefert eine einfache Kategorie dafr, was eine objektive Basis fr eine schnelle, gemeinsame Entscheidung schafft.</p>\n<hr>\n<h2>Schritt 2: Decide with clarity. - Vom Arbeitsumfang (Job Size) zur wirtschaftlichen Prioritt</h2>\n<h3>Ein wirtschaftlicher Standpunkt</h3>\n<p>Sobald der <strong>Arbeitsumfang (Job Size)</strong> als stabile Basis etabliert ist, verschiebt sich der Fokus von der Gre zum <strong>Geschftswert (Business Value)</strong>. Die zentrale geschftliche Frage, die sich stellt, ist, wie hoch die Kosten fr das Unternehmen sind, die es fr jede Woche oder jeden Monat zahlt, in denen die Auslieferung dieses Features <em>verzgert</em> wird.</p>\n<p>Dieses Konzept sind die <strong>Verzgerungskosten (Cost of Delay kurz CoD)</strong>.</p>\n<h3>Der Prozess: Die Verzgerungskosten (Cost of Delay) auftrennen</h3>\n<p>Der Cost of Delay-Tab (Registerkarte) in SizeRight beantwortet diese Frage, indem er die Diskussion durch drei etablierte Skalen fhrt, wie sie z.B.: im SAFe Framework definiert sind:</p>\n<ul>\n<li><strong>(BV) Anwender- und Geschftswert (User-/Business Value):</strong> Welchen Nutzen stiftet es? (z.B.: Umsatz, Marktdifferenzierung)</li>\n<li><strong>(TC) Zeitkritikalitt (Time Criticality):</strong> Wie wichtig ist der Zeitfaktor? (z.B.: eine feste Deadline, ein Marktfenster)</li>\n<li><strong>(RR/OE) Risikoreduzierung und/oder Chancenerffnung (Risk Reduction/Opportunity Enablement):</strong> Reduziert es ein Risiko oder ermglicht es eine zuknftige Chance?</li>\n</ul>\n<p>Gerade die <strong>RR/OE-Komponente</strong> ist strategisch entscheidend. Sie gibt wichtiger Infrastrukturarbeit, Sicherheitsfixes oder Enablern der Architektur eine Stimme. Ohne diese wre der Fokus mglicherweise nur auf kurzfristige, sichtbare Features. RR/OE stellt sicher, dass kritische Enabler-Aufgaben auf gleicher wirtschaftlicher Augenhhe mit neuen Features konkurrieren knnen, und balanciert so kurzfristige Lieferung mit langfristiger Produktgesundheit aus.</p>\n<h3>Das Ergebnis: Datengesteuerte Priorisierung mit WSJF</h3>\n<p>Sobald diese Werte im Dialog ermittelt wurden, berechnet SizeRight automatisch den <strong>Weighted Shortest Job First (WSJF)</strong>-Wert. Diese Formel bietet einen einfachen, rationalen Algorithmus zur Optimierung des Werteflusses.</p>\n<p>Die ursprngliche Formel lautet:\nVisualisierung WSJF= Cost of Delay / Duration</p>\n<p>Die SizeRight-Formel lautet:\nVisualisierung WSJF= Verzgerungskosten (Cost of Delay) / Arbeitsumfang (Job Size)</p>\n<p>Das Ziel ist es, die Quick Wins zu identifizieren - jene Items, die den <strong>hchsten Wert (CoD) fr den geringsten Aufwand (Arbeitsumfang/Job Size)</strong> liefern.</p>\n<p>Diese Formel fhrt oft zu kontraintuitiven, aber wirtschaftlich optimalen Entscheidungen. Ein massives Feature mit hohen <strong>Verzgerungskosten (CoD)</strong> wird mglicherweise zugunsten eines kleineren Features mit mittlerem <strong>Verzgerungskosten (CoD)</strong> depriorisiert, weil das kleinere Item seinen Wert <em>schneller</em> liefert. Diese Macht des Nenners (Power of the denominator) liefert eine klare, wirtschaftlich fundierte Empfehlung fr die Priorisierung.</p>\n<p>Entscheidungen mssen nicht lnger auf Basis von Bauchgefhl oder der lautesten Stimme getroffen werden. Prioritten werden objektiv begrndet, sodass Sie <strong>Decide with clarity</strong> (mit Klarheit entscheiden) knnen.</p>\n<hr>\n<h2>Analyse aus verschiedenen Perspektiven</h2>\n<p>Ein wesentlicher Teil der Entscheidungsfindung ist die Betrachtung der Ergebnisse aus verschiedenen Perspektiven. Um dies zu untersttzen, bietet SizeRight <strong>vier</strong> unterschiedliche Ansichten zur Analyse, die ber Tabs im Visualisierungsbereich zugnglich sind: eine <strong>Arbeitsumfang (Job Size) Visualisierung</strong> (Bubble-Chart), eine <strong>Verzgerungskosten (Cost of Delay) Visualisierung</strong> (Bubble-Chart), eine <strong>WSJF Visualisierung</strong> (Cost of Delay Chart) und eine <strong>Tabelle fr relative Schtzung</strong>-Ansicht. Diese Tabellenansicht ermglicht den direkten Vergleich und das Sortieren aller Metriken nebeneinander und vereinfacht die <strong>relative Schtzung</strong>.</p>\n<p>Benutzer knnen dynamisch zwischen diesen Ansichten wechseln und das gesamte Backlog nach verschiedenen Metriken sortieren:</p>\n<ul>\n<li><strong>Sortierung nach Arbeitsumfang (Job Size):</strong> Welche Features/Epics sind die grten Brocken?</li>\n<li><strong>Sortierung nach T-Shirt-Gre:</strong> Wie verteilen sich die von uns vergebenen Gren?</li>\n<li><strong>Sortierung nach Verzgerungskosten (Cost of Delay):</strong> Welche Items haben den hchsten <strong>Geschftswert (Business Value)</strong> oder die grte Dringlichkeit?</li>\n<li><strong>Sortierung nach WSJF:</strong> Was ist die wirtschaftlich sinnvollste Reihenfolge fr die Implementierung?</li>\n</ul>\n<p>Dieser dynamische Perspektivenwechsel ermglicht eine tiefere Analyse und hilft, Priorisierungsentscheidungen zu validieren und zu kommunizieren. Der gesamte Arbeitsablauf - von der ersten Diskussion ber die Gre bis hin zur finalen, aus verschiedenen Blickwinkeln analysierten und priorisierten Liste - findet nahtlos in einer Anwendung statt. Dieser integrierte Prozess fhrt strukturiert von einer schnellen Einigung zu einer klaren Entscheidung - <strong>Align fast. Decide with clarity</strong>.</p>\n<hr>\n<h1>Positionierung</h1>\n<h2>Was SizeRight ist</h2>\n<p>SizeRight ist ein zweckgebundenes <strong>Moderations- und Visualisierswerkzeug</strong>, das dafr entwickelt wurde, whrend <strong>interaktiver Planungssessions</strong> auf einem groen Bildschirm (Monitor oder Beamer im Besprechungsraum) angezeigt zu werden. Die primre Mission ist es, das Team dabei zu untersttzen: <strong>Align fast. Decide with clarity.</strong>, indem abstrakte Diskussionen in greifbare, <strong>datengesttzte</strong> Metriken verwandelt werden. Es dient als temporrer Arbeitsbereich, um die Brcke zwischen noch vagen/abstrakten Ideen und konkreter <strong>wirtschaftlicher Priorisierung</strong> mittels <strong>WSJF</strong> (Weighted Shortest Job First) zu schlagen.</p>\n<h2>Was SizeRight nicht ist</h2>\n<p>SizeRight ist <strong>keine Enterprise-Lsung</strong> und kein System of Record (wie Jira oder Azure DevOps). Es ist explizit <strong>nicht</strong> als langfristiges <strong>Dokumentationsarchiv</strong> oder als Datenbank fr das Verwalten des Lebenszyklus von <strong>Backlog Items</strong> konzipiert. Es ersetzt nicht Ihr ALM-Tool (Application Lifecycle Management), sondern fungiert als taktischer Vorprozessor dafr.</p>\n<p>Ebenso ist SizeRight <strong>kein Controlling-Instrument</strong>. Es verwendet <strong>relative Proxys</strong> fr die <strong>Weighted Shortest Job First (WSJF)</strong> berechnung (Stellvertreter-Metriken: <strong>Arbeitsumfang (Job Size)</strong>, bestehend aus <em>Komplexitt</em>, <em>Aufwand</em> und <em>Unsicherheit</em>, als Proxymetrik <strong>fr Dauer</strong>. Die <strong>Verzgerungskosten (Cost of Delay)</strong>, bestehend aus <em>(BV) Anwender- und Geschftswert (User-/Business Value)</em>, <em>(TC) Zeitkritikalitt (Time Criticality)</em> und <em>(RR/OE) Risikoreduzierung und/oder Chancenerffnung (Risk Reduction/Opportunity Enablement)</em>), um das eigentlich Unschtzbare quantifizierbar und vergleichbar zu machen. Diese Werte dienen der taktischen Ausrichtung und Priorisierung; sie sind <strong>nicht</strong> fr buchhalterische Zwecke, Leistungsbeurteilungen, Budgetierung oder exaktes Reporting geeignet.</p>\n<hr>\n<h1>Benutzerhandbuch: <strong>SizeRight</strong></h1>\n<p>Dies ist das Benutzerhandbuch fr SizeRight, ein Werkzeug zur Vereinfachung <strong>agiler Schtzungen</strong> und <strong>datengesteuerter Priorisierung</strong>. Dieses Handbuch beschreibt alle Funktionen, die zur Nutzung der Anwendung erforderlich sind.</p>\n<p><strong>Systemanforderung:</strong> SizeRight ist fr die Nutzung am Desktop konzipiert. Falls die Bildschirmauflsung unter dem empfohlenen Minimum liegt (z. B. auf Mobilgerten oder bei sehr kleinen Fenstern), erscheint ein Warnhinweis, um sicherzustellen, dass gengend Platz fr die Visualisierungen vorhanden ist. Das Browserfenster sollte maximiert oder ein grerer Bildschirm verwendet werden.</p>\n<h2>1. Kernkonzepte</h2>\n<p>Bevor Sie die Anwendung verwenden, ist es wichtig, die <strong>zugrundeliegenden Schtz-Konzepte</strong> sowie die <strong>drei Schlsselmetriken</strong> zu verstehen.</p>\n<h3>Absolute vs. Relative Schtzung</h3>\n<ul>\n<li><strong>Absolute Schtzung:</strong> Dieser Ansatz versucht, einen przisen, absoluten Wert fr ein Item zu bestimmen (z. B. Diese Aufgabe dauert 20 Stunden oder Das sind 8 Story Points). Diese Art der Schtzung ist oft schwierig, zeitaufwndig und subjektiv, insbesondere bei groen, abstrakten Backlog Items wie Features oder Epics.</li>\n<li><strong>Relative Schtzung:</strong> Bei diesem Ansatz werden Items nicht isoliert bewertet, sondern miteinander verglichen. Die zentrale Frage ist: Ist Feature A grer oder kleiner als Feature B? oder Wie viel grer ist A im Vergleich zu B?. Diese Methode ist fr Menschen intuitiver, schneller und fhrt zu einem besseren gemeinsamen Verstndnis (Abgleich) im Team.</li>\n</ul>\n<p><strong>SizeRight basiert grundlegend auf dem Prinzip der relativen Schtzung.</strong> Anstatt eine absolute Zahl zu raten, leitet die Applikation das Team an, Items anhand greifbarer Dimensionen (wie <strong>Komplexitt</strong>, <strong>Aufwand</strong> und <strong>Unsicherheit</strong>) zu diskutieren und sie visuell zueinander in Beziehung zu setzen (siehe Abschnitt 8.4, Tabelle fr relative Schtzung).</p>\n<h3>Die drei Schlsselmetriken</h3>\n<p>SizeRight verwendet drei Schlsselmetriken, um diesen Prozess zu strukturieren:</p>\n<ul>\n<li><strong>Arbeitsumfang (Job Size):</strong> Diese ist keine direkte Schtzung, sondern die Summe von drei Dimensionen:<ul>\n<li><strong>Komplexitt:</strong> Wie schwierig ist die Umsetzung?</li>\n<li><strong>Aufwand:</strong> Wie viel Arbeit ist erforderlich?</li>\n<li><strong>Unsicherheit:</strong> Wie viele Unbekannte gibt es?</li>\n</ul>\n</li>\n<li><strong>Verzgerungskosten (Cost of Delay):</strong> Diese Metrik quantifiziert den Geschftswert (Business Value) und die Dringlichkeit. Sie ist die Summe aus:<ul>\n<li><strong>(BV) Anwender- und Geschftswert (User-/Business Value):</strong> Der Nutzen fr Kunden oder das Unternehmen.</li>\n<li><strong>(TC) Zeitkritikalitt (Time Criticality):</strong> Verliert das Item an Wert, wenn es verzgert/aufgeschoben wird?</li>\n<li><strong>(RR/OE) Risikoreduzierung und/oder Chancenerffnung (Risk Reduction/Opportunity Enablement):</strong> Reduziert es Risiken oder erffnet es neue Mglichkeiten?</li>\n</ul>\n</li>\n<li><strong>Weighted Shortest Job First (WSJF):</strong> Der finale Priorisierungswert, der automatisch berechnet wird: <code>Visualisierung WSJF= Verzgerungskosten (Cost of Delay) / Arbeitsumfang (Job Size)</code>.</li>\n</ul>\n<h2>2. Erste Schritte: Ein Backlog Item erstellen</h2>\n<ol>\n<li>Ein Klick auf die Schaltflche <strong>Backlog Item hinzufgen</strong> startet den Prozess.</li>\n<li>Die Dialogbox <strong>Neues BI erstellen</strong> ffnet sich. Geben Sie im oberen Eingabefeld einen aussagekrftigen <strong>Titel</strong> fr das Feature/Epic ein.</li>\n<li>Fahren Sie anschlieend mit der <strong>Schtzung</strong> fort.</li>\n</ol>\n<p><strong>Laden von Demo-Daten:</strong> Wenn Sie SizeRight neu verwenden und die Liste leer ist, wird in der Hauptansicht die Option <strong>&quot;Demo-Daten laden&quot;</strong> angezeigt. Durch Klicken auf diesen Link (z.B. fr EN oder DE) wird die Anwendung mit Beispiel-Items gefllt, sodass die Funktionen und Visualisierungen sofort erkundet werden knnen.</p>\n<h2>3. Der Schtz-Prozess im Detail</h2>\n<p>Der Schtz-Prozess ist in zwei Phasen unterteilt. Die erste, grundlegende Phase ist die Bestimmung des <strong>Arbeitsumfangs (Job Size)</strong>. Dieser bildet die Diskussionsgrundlage und die anschlieende Zuweisung einer <strong>T-Shirt-Gre</strong>. Die zweite Phase, die Bestimmung der <strong>Verzgerungskosten (Cost of Delay)</strong>, ist <em>optional</em>. Sie wird nur bentigt, wenn der <strong>WSJF-Wert</strong> fr die wirtschaftliche Priorisierung berechnet werden soll, und ist fr die Zuweisung von T-Shirt-Gren nicht notwendig.</p>\n<p><strong>Dialogstruktur</strong></p>\n<p>Der Dialog <strong>BI bearbeiten</strong> hat ein erweitertes Layout. Der <strong>Titel</strong> erstreckt sich ber die gesamte Breite. Darunter ist der Dialog zweispaltig aufgebaut: Links befinden sich die Skalen fr die <strong>Schtzung</strong>, rechts ein <strong>Rich-Text-Editor</strong> fr Notizen und Annahmen.</p>\n<p><strong>Schritt A: Den Arbeitsumfang (Job Size) bestimmen</strong></p>\n<ol>\n<li>Der Tab <strong>Arbeitsumfang</strong> muss aktiv sein.</li>\n<li>Die drei Schieberegler werden bewegt, um eine gemeinsame Einschtzung fr <strong>Komplexitt</strong>, <strong>Aufwand</strong> und <strong>Unsicherheit</strong> festzulegen.<ul>\n<li><strong>Klickbare Skala:</strong> Anstatt den Regler zu ziehen, kann auch <strong>direkt auf die Zahlen</strong> unterhalb der Linie geklickt werden, um den Wert zu setzen. Die aktuell gewhlte Zahl wird durch einen <strong>schwarzen Kreis</strong> hervorgehoben.</li>\n</ul>\n</li>\n</ol>\n<p><em>Triangulation (Referenzmarker):</em></p>\n<p>Zur Untersttzung einer besseren relativen Schtzung nutzt SizeRight <strong>Triangulation</strong>. Wenn Referenz-Items (Minimum/Maximum, siehe Abschnitt 6) definiert wurden, erscheinen deren Werte als farbige <strong>Marker direkt auf den Skalen</strong> der Schieberegler. Dies ermglicht einen sofortigen Vergleich des aktuellen Items mit der Basislinie (z.B. Ist diese Komplexitt hher als unser Referenz-Maximum?).</p>\n<ul>\n<li>Marker erscheinen nur, wenn aktiv ein <strong>Minimum</strong> (Orange) oder <strong>Maximum</strong> (Blau) Referenz-Item gesetzt wurde.</li>\n<li>Diese Marker knnen ber die Schaltflche <strong>Marker anzeigen/ausblenden</strong> unterhalb der Regler ein- oder ausgeblendet werden.</li>\n<li>Diese Einstellung wird global in den Einstellungen gespeichert und beim Export bercksichtigt.</li>\n</ul>\n<p><em>Wichtige Hinweise zur <strong>Arbeitsumfang/Job Size-Schtzung</strong>:</em></p>\n<ul>\n<li><strong>Speichern:</strong> Um ein neues <strong>Backlog Item</strong> zu speichern, ist <strong>nur der Titel erforderlich</strong>. Zunchst kann eine Liste mit den Items erstellt werden, deren Schtzung dann zu einem spteren Zeitpunkt erfolgt. Ein <strong>Arbeitsumfang (Job Size)-Wert</strong> (und eine <strong>T-Shirt-Gre</strong>) wird jedoch erst berechnet, wenn alle drei Werte (Komplexitt, Aufwand, Unsicherheit) jeweils auf einen Wert grer als 0 gesetzt sind.</li>\n<li><strong>Mindestwert:</strong> Sobald ein Regler von 0 wegbewegt wurde, ist der <strong>niedrigstmgliche Wert pro Skala 1</strong>.</li>\n<li><strong>Zurcksetzen:</strong> Mit der Schaltflche <strong>Arbeitsumfang zurcksetzen</strong> knnen Sie alle drei <strong>Regler des Arbeitsumfang (Job Size)</strong> auf null zurcksetzen.</li>\n<li><strong>Skala:</strong> Standardmig verwendet das Tool die <strong>SAFe Fibonacci-Skala</strong> (1, 2, 3, 5, 8). Dies kann in den Einstellungen gendert werden (siehe Abschnitt 11).</li>\n</ul>\n<p><strong>Schritt B: Die Verzgerungskosten (Cost of Delay) fr die WSJF-Priorisierung bestimmen</strong></p>\n<ol>\n<li>Ein Klick auf den Tab <strong>Verzgerungskosten</strong> wechselt die Ansicht.</li>\n<li>Die drei Schieberegler werden bewegt, um die gemeinsame Einschtzung fr <strong>(BV) Anwender- und Geschftswert</strong>, <strong>(TC) Zeitkritikalitt</strong> und <strong>(RR/OE) Risikoreduzierung und/oder Chancenerffnung</strong> festzulegen.</li>\n<li>Sobald alle drei <strong>Werte der Verzgerungskosten (Cost of Delay)</strong> und jene des <strong>Arbeitsumfangs (Job Size)</strong> festgelegt wurden, erscheint der berechnete <strong>WSJF</strong>-Wert automatisch oben rechts oben im Dialogfeld.</li>\n<li><em>Hinweis:</em> Referenzmarker (Triangulation) sind auch auf diesen Skalen verfgbar, sofern entsprechende Referenz-Items gesetzt sind.</li>\n</ol>\n<p><em>Wichtiger Hinweis:</em></p>\n<ul>\n<li><strong>Der WSJF-Wert</strong> kann nicht ohne eine abgeschlossene &quot;Arbeitsumfang/Job Size&quot;- und &quot;Verzgerungskosten/Cost of Delay-Schtzung&quot; berechnet werden.</li>\n<li><strong>Zurcksetzen:</strong> Mit der Schaltflche <strong>Verzgerungskosten zurcksetzen</strong> knnen Sie alle drei Regler der <strong>Verzgerungskosten (Cost of Delay)</strong> auf null zurcksetzen.</li>\n</ul>\n<p><strong>Zustzliche Informationen eingeben</strong></p>\n<p>In der rechten Spalte des Dialogfelds befindet sich ein <strong>Rich-Text-Editor</strong>. Hier knnen kontextbezogene Informationen wie <strong>Annahmen, Risiken oder offene Fragen</strong> dokumentiert werden.</p>\n<ul>\n<li><strong>Formatierung:</strong> Text kann formatiert werden (fett, kursiv, unterstrichen, durchgestrichen) und <strong>Hyperlinks</strong> knnen eingefgt werden.</li>\n<li><strong>Farben:</strong> Eine von <strong>vier voreingestellten Hervorhebungsfarben</strong> (z.B. fr Warnungen oder wichtige Infos) kann auf Text angewendet werden. Diese spezifischen Farben knnen in den globalen <strong>Einstellungen</strong> angepasst werden und werden mit den Projektdaten gespeichert.</li>\n<li><strong>Bereinigung beim Einfgen:</strong> Beim Einfgen von Inhalten aus externen Quellen (Word, Webseiten) bereinigt der Editor den Text automatisch, entfernt nicht untersttzte Stile und behlt dabei die grundlegende Struktur bei.</li>\n</ul>\n<p><strong>Die Schtzung abschlieen und Navigation</strong></p>\n<ul>\n<li>Mit einem Klick auf <strong>Speichern</strong> wird das <strong>Backlog Item</strong> erstellt oder aktualisiert. Die Schaltflche ist aktiv, sobald ein <strong>Titel</strong> eingegeben wurde.</li>\n<li><strong>Schnelle Navigation:</strong> ber die Pfeiltasten im Kopfbereich des Dialogs kann direkt zum <strong>vorherigen</strong> oder <strong>nchsten</strong> Item im Backlog gewechselt werden.<ul>\n<li><strong>Auto-Save:</strong> Wenn nderungen am aktuellen Item vorgenommen wurden, ndert sich die Beschriftung der Schaltflche zu <strong>Speichern &amp; Nchstes</strong> (bzw. Speichern &amp; Vorheriges). Ein Klick darauf speichert die nderungen automatisch und ldt sofort das nchste Item, was einen sehr schnellen Arbeitsfluss ohne Schlieen des Dialogs ermglicht.</li>\n</ul>\n</li>\n<li>Mit einem Klick auf <strong>Abbrechen</strong> schliet sich der Dialog ohne zu speichern.</li>\n</ul>\n<h2>4. bersicht der Benutzeroberflche</h2>\n<p>Die Hauptansicht von SizeRight ist in zwei Hauptbereiche (Ansichten) unterteilt:</p>\n<ul>\n<li>Die <strong>Backlog Item Liste</strong> (linker Bereich), wo Items erstellt und verwaltet werden.</li>\n<li>Der <strong>Visualisierungsbereich</strong> (rechter Bereich), der in <strong>vier</strong> Tabs fr unterschiedliche Analyseperspektiven organisiert ist:<ol>\n<li><strong>Visualisierung Arbeitsumfang:</strong> Eine Bubble-Chart-Ansicht mit Fokus auf &quot;Arbeitsumfang/Job Size&quot; (Komplexitt, Aufwand, Unsicherheit).</li>\n<li><strong>Visualisierung Verzgerungskosten:</strong> Eine Bubble-Chart-Ansicht mit Fokus auf &quot;Verzgerungskosten/Cost of Delay&quot; (BV, TC, RR/OE).</li>\n<li><strong>Visualisierung WSJF:</strong> Eine Chart-Ansicht, die die wirtschaftlichen Auswirkungen (Cost of Delay) ber die Zeit fr verschiedene Sequenzen visualisiert.</li>\n<li><strong>Tabelle fr relative Schtzung:</strong> Eine leistungsstarke Tabellenansicht, die alle Items und ihre Metriken in einer sortierbaren, vergleichbaren Tabelle anzeigt.</li>\n</ol>\n</li>\n</ul>\n<p>Die Gre dieser beiden Bereiche kann durch Verschieben der <strong>Trennlinie</strong> in der Mitte mit der Maus angepasst werden, um die jeweils wichtigere Ansicht zu fokussieren.</p>\n<h2>5. Backlog Items verwalten</h2>\n<p><strong>Backlog Items</strong> knnen auf zwei Wegen bearbeitet werden:</p>\n<ul>\n<li>ber die <strong>Backlog Item Liste</strong>: Ein Klick auf die Schaltflche <strong>Bearbeiten</strong> bei einem Item ffnet den &quot;BI bearbeiten&quot;-Dialog.</li>\n<li>ber den <strong>Visualisierungsbereich</strong>: Wenn mit dem Mauszeiger ber eine Visualisierungs-Karte (<strong>Visualisierung Arbeitsumfang</strong> oder <strong>Visualisierung Verzgerungskosten</strong>) gefahren wird, erscheint oben rechts ein Bearbeiten-Symbol. Ein Klick darauf ffnet ebenfalls den &quot;BI bearbeiten&quot;-Dialog.</li>\n</ul>\n<p>Um ein Item zu entfernen, nutzen Sie die Schaltflche <strong>Lschen</strong> in der <strong>Backlog Item Liste</strong>. Es erscheint zunchst eine Besttigungsmeldung.</p>\n<h2>6. Ein Referenz-Item festlegen</h2>\n<p>Ein Kernstck der <strong>relativen Schtzung</strong> ist der Vergleich neuer Items mit einer bekannten Referenz. SizeRight ermglicht es, jedes Backlog Item als <strong>Referenz-Item</strong> festzulegen. Dieses System untersttzt zwei Arten von Referenzen, um die Schtzskala einzurahmen:</p>\n<ol>\n<li><strong>Minimum Referenz (-):</strong> Reprsentiert ein kleines oder einfaches Item (die Basislinie fr &quot;Niedrig&quot;).</li>\n<li><strong>Maximum Referenz (+):</strong> Reprsentiert ein groes oder komplexes Item (die Basislinie fr &quot;Hoch&quot;).</li>\n</ol>\n<p><strong>So wird eine Referenz festgelegt:</strong></p>\n<ul>\n<li>In der <strong>Backlog Item Liste</strong> (linker Bereich) verfgt jedes Item ber zwei kleine Symbole:<ul>\n<li>Ein Klick auf das <strong>Orange Minus (-)</strong> Symbol setzt das Item als <strong>Minimum Referenz</strong>.</li>\n<li>Ein Klick auf das <strong>Blaue Plus (+)</strong> Symbol setzt das Item als <strong>Maximum Referenz</strong>.</li>\n</ul>\n</li>\n<li>Es kann gewhlt werden, nur ein Minimum, nur ein Maximum, beides oder keines zu setzen.</li>\n</ul>\n<p><strong>Auswirkung des Setzens einer Referenz:</strong></p>\n<ol>\n<li><strong>Hervorhebung:</strong> Referenz-Items werden in der Liste hervorgehoben und <strong>an den Anfang aller Standard-Anzeigeansichten gepinnt</strong> (&quot;Visualisierung Arbeitsumfang&quot;, &quot;Visualisierung Verzgerungskosten&quot; und &quot;Tabelle fr relative Schtzung&quot;).</li>\n<li><strong>Triangulation:</strong> Das Setzen einer Referenz aktiviert die entsprechenden Marker auf den Schtzskalen im &quot;BI bearbeiten&quot;-Dialog (siehe Abschnitt 3).</li>\n</ol>\n<p><strong>Entfernen einer Referenz:</strong>\nDurch erneutes Klicken auf das hervorgehobene Minus (-) oder Plus (+) Symbol wird die Referenz aufgehoben.</p>\n<p><em>Wichtiger Hinweis zum Verhalten von Referenz-Items:</em></p>\n<ul>\n<li><strong>Standard-Ansichten:</strong> In den Ansichten &quot;Visualisierung Arbeitsumfang&quot;, &quot;Visualisierung Verzgerungskosten&quot; und &quot;Tabelle fr relative Schtzung&quot; wird das Referenz-Item physisch an den Anfang verschoben.</li>\n<li><strong>Ansicht Visualisierung WSJF:</strong> In dieser Ansicht wird das Referenz-Item <strong>nicht</strong> an den Anfang gepinnt, da die in den Diagrammen gezeigte Reihenfolge entscheidend ist.</li>\n<li><strong>Modus Benutzerdefinierte Sortierung:</strong> Wird die Benutzerdefinierte Sortierung verwendet (siehe Abschnitt 9), bleibt das Referenz-Item an seiner definierten Position in der Liste. Es wird jedoch ein <strong>nicht-interaktiver Klon</strong> des Referenz-Items an der obersten Stelle zu Vergleichszwecken angezeigt.</li>\n</ul>\n<p>Whrend ein Item als Referenz gepinnt ist, knnen seine Werte nicht direkt in der Tabelle der &quot;Tabelle fr relative Schtzung&quot;-Ansicht bearbeitet werden. Dies verhindert versehentliche nderungen an der Referenz. Zur Bearbeitung des Referenz-Items wird die Schaltflche <strong>Bearbeiten</strong> (entweder in der Liste oder der Visualisierung) verwendet, um den &quot;BI Bearbeiten&quot;-Dialog zu ffnen.</p>\n<h2>7. T-Shirt-Gren zuweisen</h2>\n<p>Sobald der <strong>Arbeitsumfang (Job Size)</strong> berechnet wurde, kann eine relative <strong>T-Shirt-Gre</strong> zugewiesen werden.</p>\n<ol>\n<li>Dies geschieht durch einen Klick entweder auf die <strong>grauen Schaltflche mit dem - darin</strong> (z. B. [ M ]) in der <strong>Backlog Item Liste</strong> oder direkt auf das entsprechende <strong>T-Shirt-Gre-Label</strong> auf der <strong>Visualisierungs-Karte</strong> im Tab <strong>Visualisierung Arbeitsumfang</strong>.</li>\n<li>Es erscheint ein Pop-up-Men, in dem die passende Gre (z. B. S, M, L, XL) ausgewhlt werden kann. Die Auswahl wird sofort gespeichert.</li>\n</ol>\n<p>Diese Zuweisung ist nicht endgltig. Die <strong>T-Shirt-Gre</strong> kann jederzeit auf dieselbe Weise wieder gendert werden, falls sich die Einschtzung im Laufe der Zeit anpasst.</p>\n<h2>8. Nutzung der Visualisierungs-Ansichten</h2>\n<p>Der <strong>Visualisierungsbereich</strong> bietet vier Tabs, um das Backlog zu analysieren.</p>\n<h3>8.1 Visualisierung Arbeitsumfang</h3>\n<p>Dieser Tab (die Standardansicht) zeigt eine <strong>grafische Darstellung jedes Backlog Items</strong> in Kartenform.</p>\n<p>Die Karten enthalten:</p>\n<ul>\n<li>Ein <strong>Blasendiagramm</strong>, dessen uerer Kreis den <strong>Arbeitsumfang (Job Size)</strong> darstellt und dessen innere Kreise die Anteile von <strong>Komplexitt</strong>, <strong>Aufwand</strong> und <strong>Unsicherheit</strong> reprsentieren.</li>\n<li>Ein <strong>T-Shirt-Gre</strong>-Label zur schnellen Einordnung (klickbar, wenn der Arbeitsumfang komplett ist).</li>\n<li>Einen <strong>WSJF-Wert-Indikator</strong>, der neben der <strong>T-Shirt-Gre</strong> angezeigt wird, sofern ein WSJF-Wert berechnet wurde.</li>\n<li>Ein <strong>Bearbeiten-Symbol</strong>, welches erscheint, wenn die Maus in die obere rechte Kartenecke bewegt wird.</li>\n</ul>\n<p>Dies ermglicht den visuellen Vergleich, <em>warum</em> ein Item wertvoll ist, getrennt von seiner Gre.</p>\n<h3>8.2 Visualisierung Verzgerungskosten</h3>\n<p>Dieser Tab zeigt eine grafische Darstellung jedes <strong>Backlog Items</strong>. Die Karten enthalten:</p>\n<ul>\n<li>Ein <strong>Blasendiagramm</strong>, dessen uerer Kreis die <strong>Verzgerungskosten (Cost of Delay)</strong> darstellt und dessen inneren Kreise die Anteile von <strong>(BV) Anwender- und Geschftswert (User-/Business Value)</strong>, <strong>(TC) Zeitkritikalitt (Time Criticality)</strong> und <strong>(RR/OE) Risikoreduzierung und/oder Chancenerffnung (Risk Reduction/Opportunity Enablement)</strong> reprsentieren.</li>\n<li>Einen <strong>WSJF-Wert-Indikator</strong>, sofern ein WSJF-Wert berechnet wurde.</li>\n<li>Ein <strong>Bearbeiten-Symbol</strong>, welches erscheint, wenn die Maus in die obere rechte Kartenecke bewegt wird.</li>\n</ul>\n<p>Dies ermglicht den visuellen Vergleich, <em>warum</em> ein Item wertvoll ist, getrennt von seiner Gre.</p>\n<h3>8.3 Visualisierung WSJF</h3>\n<p>Dieser neue Tab bietet eine leistungsstarke Mglichkeit, die wirtschaftlichen Auswirkungen verschiedener Implementierungsreihenfolgen mithilfe von <strong>Cost of Delay-Diagrammen</strong> zu visualisieren. Er zeigt zwei Diagramme nebeneinander an:</p>\n<ul>\n<li><strong>Optimale Reihenfolge (nach WSJF):</strong> Dieses Diagramm zeigt die Sequenz, die die gesamten akkumulierten Verzgerungskosten (Cost of Delay) minimiert, basierend rein auf den berechneten WSJF-Werten (hchster WSJFzuerst). Dies stellt die wirtschaftlich ideale Reihenfolge dar.<ul>\n<li>Sie knnen dieses obere Diagramm durch Klicken auf die Titelleiste <strong>einklappen oder ausklappen</strong>, um sich auf den Vergleich der aktuellen Reihenfolge zu konzentrieren.</li>\n</ul>\n</li>\n<li><strong>Aktuelle Reihenfolge/Sortierung:</strong> Dieses Diagramm zeigt die Sequenz basierend auf der <strong>aktuell ausgewhlten Sortierreihenfolge</strong> in der Filterleiste (z. B. sortiert nach Arbeitsumfang, CoD, T-Shirt-Gre oder benutzerdefinierter Reihenfolge).</li>\n</ul>\n<p><strong>Die Diagramme verstehen:</strong></p>\n<ul>\n<li><strong>X-Achse:</strong> Reprsentiert den <strong>Kumulierten Arbeitsumfang (Job Size)</strong>, whrend Items nacheinander abgeschlossen werden.</li>\n<li><strong>Y-Achse:</strong> Reprsentiert die <strong>Verzgerungskosten (Cost of Delay)</strong> (Wert pro Zeiteinheit, z. B. pro Woche). Die Hhe der Balken zeigt den CoD einzelner Items an.</li>\n<li><strong>Farbige Blcke:</strong> Reprsentieren ein Item, das <strong>bearbeitet</strong> wird. Die Zahl darin ist der <strong>WSJF-Rang</strong> des Items (1 ist der hchste WSJF). Sie knnen auf die Rangnummer in der Backlog Item Liste klicken (wenn dieser Tab aktiv ist), um die Farbe fr visuelle Gruppierungen zu ndern.</li>\n<li><strong>Graue Blcke:</strong> Reprsentieren Items, die <strong>warten</strong>, whrend ein anderes Item bearbeitet wird. Die Zahl darin zeigt die <strong>Akkumulierten Verzgerungskosten</strong>, die <em>diesem spezifischen Item</em> bis zu diesem Zeitpunkt entstanden sind.</li>\n<li><strong>Gesamte Verzgerungskosten:</strong> Diese Zahl wird ber jedem Diagramm angezeigt und stellt die Summe aller akkumulierten Verzgerungskosten fr <em>alle</em> Items in dieser spezifischen Sequenz dar. Der Vergleich der Gesamtkosten der Aktuellen Reihenfolge mit der Optimalen Reihenfolge zeigt die wirtschaftlichen Auswirkungen einer Abweichung von der reinen WSJF-Sequenz.</li>\n</ul>\n<p>Diese Ansicht hilft bei der Beantwortung von Fragen wie: Wie viel kostet es uns <em>wirtschaftlich</em>, wenn wir Items in unserer aktuell bevorzugten Reihenfolge implementieren, verglichen mit der mathematisch optimalen WSJF-Reihenfolge?</p>\n<p><strong>Anzeige des WSJF-Rangs:</strong> Wenn dieser Tab aktiv ist, wird der berechnete <strong>WSJF-Rang</strong> (basierend auf der optimalen Reihenfolge) auch als farbiges Tag neben der T-Shirt-Gre in der <strong>Backlog Item Liste</strong> angezeigt. Ein Klick auf dieses Tag wechselt durch verschiedene Hintergrundfarben, was es Ihnen ermglicht, Items basierend auf ihrem WSJF-Rang anwendungsweit visuell zu gruppieren oder hervorzuheben. Diese benutzerdefinierten Farben werden beim Export gespeichert.</p>\n<h3>8.4 Tabelle fr relative Schtzung</h3>\n<p>Die zentrale Ansicht fr die <strong>relative Schtzung</strong>. Sie bietet eine tabellarische bersicht ber alle Items und ihre Metriken.</p>\n<ul>\n<li><strong>Spalten:</strong> Zeigt alle Metriken nebeneinander (<strong>Complexity</strong>, <strong>Effort</strong>, <strong>Uncertainty</strong>, <strong>Job Size</strong>, <strong>BV</strong>, <strong>TC</strong>, <strong>RR/OE</strong>, <strong>CoD</strong> und <strong>WSJF</strong>).</li>\n<li><strong>Sortierung:</strong> Durch Klicken auf die <strong>Spaltenberschrift</strong> einer Metrik wird die gesamte Liste danach sortiert (es sei denn, Benutzerdefinierte Sortierung oder Sortierung sperren ist aktiv). Indikatoren in der Kopfzeile zeigen die aktive Sortierspalte und -richtung an.</li>\n<li><strong>Spaltenhervorhebung:</strong> Ein Klick auf das <strong>Augen-Symbol</strong> in einer berschrift hebt die Spalte dieser spezifischen Metrik hervor, was das Durchgehen von oben nach unten erleichtert.</li>\n<li><strong>Direkte Bearbeitung:</strong> Nicht berechnete Zellen (wie &quot;Komplexitt&quot;, &quot;Aufwand&quot; etc.) knnen durch Anklicken schnell ber ein Pop-up gendert werden, ohne den &quot;BI Bearbeiten&quot;-Dialog ffnen zu mssen.</li>\n<li><strong>Berechnete Werte:</strong> <strong>Job Size</strong>, <strong>CoD</strong> und <strong>WSJF</strong> werden automatisch berechnet und angezeigt. Wenn Daten fehlen, zeigt die Zelle &#39;nv&#39; (nicht verfgbar) und ein Tooltip zeigt, welche Werte noch bentigt werden.</li>\n</ul>\n<h2>9. Ansicht filtern und sortieren</h2>\n<p>ber der <strong>Backlog Item Liste</strong> befinden sich Filter zur Anpassung der Ansicht.</p>\n<ul>\n<li><strong>Sortierkriterium ndern:</strong> Ein Klick auf die Schaltflchen <strong>Arbeitsumfang</strong>, <strong>T-Shirt-Gre</strong>, <strong>Verzgerungskosten</strong> oder <strong>WSJF</strong> ndert das Sortierkriterium.</li>\n<li><strong>Sortierrichtung ndern:</strong> Die Pfeil-Schaltflchen (aufsteigend und absteigend) kehren die Reihenfolge um.</li>\n<li><strong>Benutzerdefinierte Sortierreihenfolge:</strong> Ein Klick auf die Schaltflche <strong>Benutzerdefinierte Sortierung</strong> (Person-Symbol) aktiviert den Drag &amp; Drop-Modus fr die <strong>Backlog Item Liste</strong>. Sie knnen die Items nun manuell in jede gewnschte Reihenfolge ziehen. Diese benutzerdefinierte Reihenfolge wird dann in allen Ansichten widergespiegelt.</li>\n<li><strong>Auswirkung:</strong> Die gewhlte Sortierung, Richtung <strong>oder benutzerdefinierte Reihenfolge</strong> wird <strong>global auf alle drei Anzeige-Ansichten angewendet</strong> (&quot;Visualisierung Arbeitsumfang&quot;, &quot;Visualisierung Verzgerungskosten&quot;, &quot;Visualisierung WSJF&quot; und &quot;Tabelle fr relative Schtzung&quot;).</li>\n<li><strong>Sortierung &amp; Filter zurcksetzen:</strong> Ein Klick auf die Schaltflche <strong>Filter &amp; Sortierung zurcksetzen</strong> (das runde x-Symbol) entfernt alle aktiven Sortierungen und Filter, <strong>ausgenommen einer etwaigen benutzerdefinierten Reihenfolge</strong>. Das Backlog kehrt in seine <strong>ursprngliche Erstellungsreihenfolge</strong> zurck.</li>\n<li><strong>Sortierreihenfolge sperren:</strong> Sobald eine Sortierreihenfolge (Standard oder benutzerdefiniert) zur Diskussion gefunden wurde, kann auf das <strong>Schloss-Symbol</strong> geklickt werden. Dies friert die aktuelle Reihenfolge der Items ein und verhindert versehentliche nderungen whrend der Analyse oder Bearbeitung <strong>via Sortier-Buttons oder Drag &amp; Drop</strong>. Ein erneuter Klick auf das Schloss hebt die Sperre auf.</li>\n</ul>\n<p>Die aktuell aktive Sortierung wird zur Orientierung im <strong>Visualisierungsbereichs</strong> neben der Legende angezeigt (z.B.: Sortiert nach: <strong>WSJF</strong> - Absteigend oder Sortiert nach: <strong>Benutzerdefinierte Sortierreihenfolge</strong>).</p>\n<p><strong>Sortieren aus der Tabelle:</strong> Auch in der <strong>Tabelle fr relative Schtzung</strong>-Ansicht wird durch Klicken auf die Spaltenberschrift einer Metrik sortiert (es sei denn, die benutzerdefinierte Sortierung oder die Sperrung ist aktiv).</p>\n<p><strong>Das &quot;Ausgrauen&quot; irrelevante Items:</strong> Wenn Werte fr ein Sortierkriterium fehlen (z.B.: Sortierung nach <strong>WSJF</strong>, aber die <strong>Verzgerungskosten (Cost of Delay)</strong> wurden fr ein Item nicht geschtzt), <strong>werden diese Backlog Items in allen Ansichten ausgegraut</strong>. Das bedeutet, sie werden von der aktuellen Sortierung ausgenommen, bleiben aber fr den Kontext sichtbar. Dieser visuelle Hinweis ist entscheidend: Es wird angezeigt, welche Items aufgrund fehlender Daten von der aktuellen Sortierung ausgeschlossen sind. <strong>Referenz-Items</strong> sind generell davon ausgenommen, basierend auf der Sortierungsrelevanz ausgegraut zu werden.</p>\n<h2>10. Daten importieren und exportieren</h2>\n<p>SizeRight bietet Optionen zum Speichern der Arbeit oder zum Exportieren von Daten fr die externe Verwendung.</p>\n<ul>\n<li><strong>JSON Export (Backup):</strong> Ein Klick auf das <strong>Export</strong>-Symbol (Diskette) speichert den gesamten Arbeitsstand in einer <code>.json</code>-Datei. Diese Datei enthlt <strong>alle Backlog Items</strong> sowie <strong>alle aktuellen Anwendungseinstellungen</strong> (wie <strong>Sprache</strong>, gewhlten <strong>Skalentyp</strong>, <strong>T-Shirt-Gren</strong>-Definitionen, <strong>Farbeinstellungen</strong>, definierte <strong>Editor-Farben</strong>, <strong>Triangulations/Marker-Einstellungen</strong>, die aktuellen <strong>Sortierkriterien und -richtung</strong>, eine definierte <strong>benutzerdefinierte Sortierreihenfolge</strong> und benutzerdefinierte <strong>Farben der WSJF-Rnge</strong>).</li>\n<li><strong>CSV Export (Tabelle):</strong> Ein Klick auf die Schaltflche <strong>CSV</strong> ffnet einen Dialog zum Exportieren des Backlogs als <code>.csv</code>-Datei. Dieses Format ist ideal fr das ffnen von Daten in Excel, Numbers oder Google Sheets.<ul>\n<li><strong>CSV Optionen:</strong> Vor dem Export kann die <strong>Sortierung</strong> fr die Exportdatei gewhlt werden (z.B. sortiert nach WSJF oder Arbeitsumfang).</li>\n<li><strong>Dateninhalt:</strong> Die CSV enthlt alle Metriken, berechneten Werte und die <strong>Notizen &amp; Annahmen</strong>. Textformatierungen aus dem Rich-Text-Editor (wie fett oder Listen) werden automatisch in das <strong>Markdown</strong>-Format konvertiert, um die Lesbarkeit in Textzellen zu verbessern.</li>\n</ul>\n</li>\n<li><strong>Import:</strong> Ein Klick auf das Import-Symbol (geffneter Ordner) ermglicht das Laden einer zuvor exportierten <code>.json</code>-Datei. Beim Import werden <strong>sowohl das Backlog als auch alle gespeicherten Einstellungen wiederhergestellt</strong>, sodass der komplette Arbeitsbereich mit anderen geteilt oder gesichert werden kann.</li>\n</ul>\n<h2>11. Einstellungen anpassen</h2>\n<p>ber das Regler-Symbol sind die Einstellungen erreichbar. Hier kann das Werkzeug an die jeweiligen Bedrfnisse angepasst werden:</p>\n<ul>\n<li><strong>Sprache:</strong> Es kann zwischen Deutsch und Englisch gewhlt werden.</li>\n<li><strong>Skala:</strong> Hier wird die globale Skala fr alle Schieberegler festgelegt. Es kann zwischen <strong>Arithmetisch (1-8)</strong> und <strong>SAFe Fibonacci (1, 2, 3, 5, 8)</strong> gewhlt werden.</li>\n<li><strong>Referenzmarker:</strong> Durch Aktivieren von &quot;Referenzmarker auf Skalen anzeigen&quot; wird die <strong>Triangulations</strong>-Funktion global eingeschaltet. Diese Einstellung wird gespeichert und exportiert.</li>\n<li><strong>T-Shirt-Gren</strong>: Unterschiedliche <strong>T-Shirt-Gren</strong> knnen aktiviert oder deaktiviert werden.</li>\n<li><strong>Farbeinstellungen:</strong> Ein Abschnitt ermglicht es, die Farben der Kreise inkl. Nummern fr <strong>Komplexitt</strong>, <strong>Aufwand</strong>, <strong>Unsicherheit</strong>, <strong>(BV) Anwender- und Geschftswert</strong>, <strong>(TC) Zeitkritikalitt</strong>, <strong>(RR/OE) Risikoreduzierung und/oder Chancenerffnung</strong> und den ueren Kreis der Visualisierungen ber den Farbwhler anzupassen.</li>\n<li><strong>Editor-Farben:</strong> Die vier voreingestellten Farben, die im Notizen &amp; Annahmen Rich-Text-Editor verfgbar sind, knnen angepasst werden. Auch diese werden gespeichert/exportiert.</li>\n<li><strong>Einstellungen zurcksetzen:</strong> Diese Schaltflche setzt <strong>alle</strong> Optionen in diesem Dialog auf ihre ursprnglichen Standardwerte zurck.</li>\n</ul>\n<h2>12. Anwendung zurcksetzen</h2>\n<p>Wenn alle Daten vollstndig gelscht und neu gestartet werden sollen, kann die Schaltflche <strong>&quot;Anwendung zurcksetzen&quot;</strong> (im Kopfbereich) verwendet werden.</p>\n<ul>\n<li>Diese Aktion fhrt einen <strong>Factory Reset</strong> durch: Sie lscht alle Backlog Items, entfernt alle benutzerdefinierten Einstellungen und lscht alle im Local Storage des Browsers gespeicherten Daten.</li>\n<li><strong>Warnung:</strong> Diese Aktion ist irreversibel. Die Anwendung fordert vor der Besttigung der Lschung dazu auf, die Daten als JSON-Backup zu <strong>exportieren</strong>.</li>\n</ul>\n<h2>13. Informationen und Updates</h2>\n<p>Ein Klick auf das <strong>Info-Symbol (i)</strong> zeigt Details zur Softwareversion, Kontaktinformationen und die Softwarelizenz an. Dieser Dialog enthlt auch eine <strong>Update-Prfung</strong>.\nDie Anwendung prft automatisch, ob eine neue Version verfgbar ist, und zeigt eine Benachrichtigungsleiste am oberen Browser-Rand an, wenn ein Update gefunden wird.\nEin Klick auf das <strong>Hilfe-Symbol (?)</strong> ffnet dieses Benutzerhandbuch in einem neuen Browser-Tab.</p>\n<hr>\n<h1>FAQ</h1>\n<h2>F: Warum fehlt SizeRight die API-Integration zu Enterprise-Tools?</h2>\n<p><strong>A:</strong> SizeRight ist als fokussiertes, sitzungsbasiertes Werkzeug konzipiert und nicht als integrierte Enterprise-Plattform. Der Arbeitsablauf ist beabsichtigt: Ein Moderator gibt die <strong>Backlog Items</strong> vor oder whrend der Sitzung ein. Das Tool schafft eine visuelle Umgebung, um <strong>Relative Schtzung</strong> und Diskussionen zu ermglichen. Sobald der <strong>Arbeitsumfang (Job Size)</strong> und die <strong>Verzgerungskosten (Cost of Delay)</strong> bestimmt sind und die Planungssession beendet ist, werden die Ergebnisse ber einen <strong>CSV Export</strong> exportiert. Diese Datei wird dann verwendet, um Ihr primres System of Record (Fhrendes System) zu aktualisieren.</p>\n<h2>F: Ist die Mathematik hinter der Berechnung zuverlssig?</h2>\n<p><strong>A:</strong> Die Anwendung beansprucht keine absolute mathematische Przision (z.B.: Stunden oder Tage). Stattdessen folgt sie streng den Prinzipien der <strong>Relativen Schtzung</strong>. Um die Genauigkeit innerhalb dieses relativen Rahmens zu gewhrleisten, untersttzt SizeRight die Definition von <strong>Referenz-Items</strong> (Min/Max). Dies ermglicht es dem Team, neue Items gegen bekannte Referenzwert zu <strong>triangulieren</strong>, um sicherzustellen, dass die Beziehungen zwischen den Items konsistent und fr die Priorisierung gltig sind.</p>\n<h2>F: Warum sind die Skalen auf einen Maximalwert von 8 begrenzt?</h2>\n<p><strong>A:</strong> SizeRight nutzt <strong>Relative Schtzung</strong>, was bedeutet, dass ein Wert von 8 eine Grenordnung darstellt, die <strong>8x grer</strong> ist als ein Wert von <strong>1</strong>. Da dieses Tool auf strategische <strong>Backlog Items</strong> (wie Features oder Epics) abzielt, ist es unrealistisch, dass ein einzelnes Item mehr als 8-mal grer ist als das kleinste Referenz-Item. Wenn ein Item dieses Verhltnis berschreitet, deutet dies normalerweise darauf hin, dass das Item in kleinere Teile <strong>aufgeteilt (gesplittet)</strong> werden muss. Umgekehrt, wenn diese hufig an die Obergrenze stoen, kann dies darauf hindeuten, dass das Referenzwert-Item (der Wert 1) zu granular geschnitten ist (z.B.: Schtzung von Tasks statt Features). Darber hinaus kann der kombinierte Wert fr <strong>Arbeitsumfang (Job Size)</strong> oder <strong>Verzgerungskosten (Cost of Delay)</strong> bis zu 24 Einheiten erreichen. Die Verwendung der <strong>Fibonacci-Skala</strong> (1, 2, 3, 5, 8) verhindert falsche Przision indem &quot;erzwungen&quot; wird, dass Schtzungen mit zunehmender Unsicherheit in grere Kategorien (<strong>Buckets</strong>) einsortiert werden.</p>\n<h2>F: Warum erfordert die Anwendung eine hohe Bildschirmauflsung?</h2>\n<p><strong>A:</strong> SizeRight ist fr eine Auflsung von 1920x1080 oder hher optimiert, um als <strong>Visual Radiator</strong> auf einem groen Monitor oder Beamer im Besprechungsraum zu dienen. Es ist so konzipiert, dass es das Big Picture zeigt - einschlielich <strong>Bubble-Charts</strong>, <strong>WSJF</strong>-Ranglisten und der <strong>Tabelle fr relative Schtzung</strong> nebeneinander, um Gruppendiskussionen zu erleichtern. Dies ist auch der Grund, warum die Software explizit <strong>nicht responsiv</strong> oder fr mobile Gerte optimiert ist. Der Kernnutzen des Werkezugs liegt in dieser gleichzeitigen Gegenberstellung von Daten; eine Anpassung des Layouts fr kleinere Bildschirme wrde diese Vergleichbarkeit nicht gewhrleisten und damit den primren Nutzen von SizeRight zunichtemachen.</p>\n<h2>F: Sind meine Daten sicher? Werden sie an einen Server gesendet?</h2>\n<p><strong>A:</strong> SizeRight arbeitet vollstndig als clientseitige Anwendung in Ihrem Browser. Es werden keine Daten an einen externen Server oder Cloud-Dienst bertragen. Die <strong>Backlog Items</strong> werden vorbergehend im lokalen Speicher Ihres Browsers (LocalStorage) abgelegt, ausschlielich zur Sitzungspersistenz. Sie behalten die volle Kontrolle ber Ihre Daten durch die lokale <strong>JSON/CSV Export</strong>-Funktionalitt. Da es sich zudem um <strong>Open Source</strong>-Software handelt, ist der Quellcode vollstndig transparent und kann geprft und auch modifiziert werden. Das Tool besteht aus einer einzigen, leichtgewichtigen Datei, was eine einfache Verteilung und maximale Kompatibilitt mit nahezu jedem Browser der letzten Jahre gewhrleistet. Diese Architektur eliminiert externe Abhngigkeiten und macht den Einsatz auch in Hochsicherheitsumgebungen mit strengen Compliance-Anforderungen sicher.</p>\n<h2>F: Warum Bubble-Charts statt einer einfachen Tabellenkalkulation?</h2>\n<p><strong>A:</strong> Um das Ziel <strong>Align fast</strong> zu erreichen, ist die visuelle Wahrnehmung schneller als das Verarbeiten von Zahlen. Die <strong>Bubble-Charts</strong> ermglichen es dem Team, sofort zu erkennen, <em>warum</em> ein <strong>Arbeitsumfang (Job Size)</strong> gro ist (z.B.: geringer <strong>Aufwand</strong>, aber massive <strong>Unsicherheit</strong>). Diese Visualisierung deckt versteckte Annahmen auf und treibt die Konversation effektiver voran als eine tabellarische Liste.</p>\n<h2>F: Wie priorisieren wir Arbeiten an der Architektur oder Enabler gegenber Business-Features?</h2>\n<p><strong>A:</strong> Nutzen Sie die Skala <strong>RR/OE</strong> (Risikoreduzierung und/oder Chancenerffnung) innerhalb der Schtzung der <strong>Verzgerungskosten (Cost of Delay)</strong>. Diese Komponente stellt sicher, dass technische Items, wie Infrastruktur-Updates oder Sicherheits-Fixes, einen quantifizierten wirtschaftlichen Wert erhalten. Dies ermglicht es ihnen, fair um die <strong>WSJF</strong>-Prioritt gegen Standard-Features zu konkurrieren, die auf <strong>Anwender- und Geschftswert</strong> basieren.</p>\n<h2>F: Wie werden Daten persistiert/temporr gespeichert und was passiert, wenn der Browser abstrzt?</h2>\n<p><strong>A:</strong> Die Datenpersistenz im lokalen Speicher des Browsers dient einem einzigen, sicherheitskritischen Zweck: Datenverlust im Falle einer versehentlichen Aktualisierung der Seite (Page Refresh) whrend einer Live-Sitzung zu verhindern. Sie ist <strong>nicht</strong> fr die Langzeitarchivierung oder historische Dokumentation gedacht. Zum Speichern des Fortschritts oder zum Teilen von Ergebnissen sollten Benutzer die <strong>Export</strong>-Funktionalitt (JSON/CSV) nutzen.</p>\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>SizeRight Documentation</title>\r\n    <style>\r\n        body { \r\n            font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif;\r\n            line-height: 1.4; \r\n            color: #333;\r\n            background-color: #fff;\r\n        }\r\n\r\n        #wrapper {\r\n            max-width: 900px;\r\n            margin: 0 auto;\r\n            background-color: #fbfbfb;\r\n            padding: 35px;\r\n            border-radius: 8px;\r\n            border: 1px solid #ddd;\r\n            margin-top: 35px;\r\n            margin-bottom: 35px;\r\n            box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\r\n        }\r\n\r\n        .doc-header {\r\n            display: flex;\r\n            align-items: baseline;\r\n            gap: 1em;\r\n            margin-bottom: 25px;\r\n        }\r\n        .doc-header h1 {\r\n            margin: 0;\r\n            border: none;\r\n            padding: 0;\r\n            font-size: 1.6em;\r\n        }\r\n        .doc-header p {\r\n            margin: 0;\r\n            color: #666;\r\n            font-size: 1em;\r\n        }\r\n\r\n        h1, h2, h3 { \r\n            border-bottom: 1px solid #ddd;\r\n            padding-bottom: 10px;\r\n            margin-top: 40px;\r\n        }\r\n        h1 { font-size: 1.3em; }\r\n        h2 { font-size: 1.1em; }\r\n        code { \r\n            background-color: #eee;\r\n            padding: 2px 5px;\r\n            border-radius: 4px;\r\n            font-family: \"SFMono-Regular\", Consolas, \"Liberation Mono\", Menlo, Courier, monospace;\r\n        }\r\n        ul {\r\n            padding-left: 20px;\r\n        }\r\n        li {\r\n            margin-bottom: 10px;\r\n        }\r\n        strong {\r\n            color: #111;\r\n        }\r\n        a {\r\n            color: #0366d6;\r\n            text-decoration: none;\r\n        }\r\n        a:hover {\r\n            text-decoration: underline;\r\n        }\r\n        /* Styles for the Table of Contents */\r\n        .toc {\r\n            background-color: #f6f6f6;\r\n            border: 1px solid #ddd;\r\n            border-radius: 5px;\r\n            padding: 10px 20px;\r\n        }\r\n        .toc ul {\r\n            list-style-type: none;\r\n            padding-left: 0;\r\n        }\r\n        .toc ul ul {\r\n            padding-left: 20px;\r\n        }\r\n        .toc li {\r\n            margin-bottom: 4px;\r\n        }\r\n        .toc h2 {\r\n            margin-top: 0px;\r\n        }\r\n        .toc strong{\r\n            color: #0366d6;\r\n            text-decoration: none;            \r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n    <div id=\"wrapper\"></div>\r\n</body>\r\n</html>"
                },
                "en": {
                    "btnOpenAnyway": "Open anyway",
                    "btnResetCoD": "Reset Cost of Delay",
                    "btnResetSettings": "Reset Settings",
                    "helpButtonTitle": "Help",
                    "tocTitle": "Table of Contents",
                    "pageTitle": "SizeRight",
                    "mainHeader": "SizeRight",
                    "mainClaim": "Align fast. Decide with clarity.",
                    "updateChecker": {
                        "updateNotification": "This version of the application is obsolete!",
                        "updateButtonText": "Download latest version {version}"
                    },
                    "infoVersionOutdated": "is outdated, the current version is:",
                    "infoVersionCurrent": "is up-to-date",
                    "infoAboutLabel": "About",
                    "licenseText": "MIT License\n\nCopyright  2025 Jakob Michael SPERKER\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the Software), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.",
                    "infoTabLicenseSoftware": "License of this Software",
                    "infoTabLicenseThirdParty": "Used (Third-Party) Licenses",
                    "licenseTextThirdParty": "MIT License\n\nCopyright (c) 2019 All contributors to Sortable\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.",
                    "infoLicenseDesignationSoftware": "SizeRight",
                    "infoLicenseLinkTextSoftware": "Github: SizeRight",
                    "infoLicenseDesignationThirdParty": "SortableJS",
                    "infoLicenseLinkTextThirdParty": "Github: SortableJS",
                    "infoContactLabel": "Contact:",
                    "infoContactValue": "Set name here: language.json >> infoContactValue",
                    "infoFunctionLabel": "Role:",
                    "infoFunctionValue": "Set function here: language.json >> infoFunctionValue",
                    "infoEmailLabel": "E-Mail:",
                    "infoEmailValue": "Set e-mail here: language.json >> infoEmailValue",
                    "infoDepartmentLabel": "Department:",
                    "infoDepartmentValue": "Set department here: language.json >> infoDepartmentValue",
                    "infoCompanyLabel": "Company:",
                    "infoCompanyValue": "Set company here: language.json >> infoCompanyValue",
                    "infoVersionLabel": "Version:",
                    "infoBuildLabel": "Build:",
                    "infoWeblinkLabel": "Further information",
                    "infoWeblinkSentence": "Further information such as documentation, tutorials, and release notes are available at {weblink}.",
                    "infoWeblinkText": "github - SizeRight",
                    "infoWeblinkUrl": "https://github.com/Sperker/SizeRight",
                    "btnAddPbi": "Add New Backlog Item",
                    "modalTitleEdit": "Edit BI",
                    "modalTitleNew": "Create New BI",
                    "btnCancel": "Cancel",
                    "btnSave": "Save",
                    "btnEdit": "Edit",
                    "btnDelete": "Delete",
                    "legendComplexity": "Complexity",
                    "legendEffort": "Effort",
                    "legendDoubt": "Uncertainty",
                    "modalPlaceholderTitle": "Title of the Backlog Item",
                    "modalNotesPlaceholder": "Additional information about the backlog item/estimation process",
                    "modalLabelComplexity": "Complexity",
                    "modalLabelEffort": "Effort",
                    "modalLabelDoubt": "Uncertainty",
                    "modalLabelNotes": "Notes & Assumptions",
                    "confirmDelete": "Are you sure you want to delete this Backlog Item?",
                    "btnSettingsTitle": "Settings",
                    "modalTitleSettings": "Settings",
                    "modalSortLabel": "Sort Order:",
                    "sortOptionAsc": "Ascending",
                    "sortOptionDesc": "Descending",
                    "legendSortBy": "Sorted by",
                    "tooltipSortAsc": "Sort ascending",
                    "tooltipSortDesc": "Sort descending",
                    "tooltipFilterLock": "Lock Sort Order",
                    "tooltipFilterUnlock": "Unlock Sort Order",
                    "tooltipCustomSort": "Custom Sort Order",
                    "btnResetFiltersTitle": "Reset Filters & Sort",
                    "filterJobSize": "Job Size",
                    "filterCoD": "Cost of Delay",
                    "filterWSJF": "WSJF",
                    "filterTshirtSize": "T-Shirt Size",
                    "filterCustomSort": "Custom Sort Order",
                    "tabJobSize": "Job Size",
                    "tabCoD": "Cost of Delay",
                    "modalTshirtLabel": "T-Shirt Sizes",
                    "modalScaleLabel": "Global Scale",
                    "scaleOptionMetric": "Arithmetic (1,2,3,4,5,6,7,8)",
                    "scaleOptionSAFe": "SAFe Fibonacci (1,2,3,5,8)",
                    "modalLabelCodBv": "(BV) User/Business Value",
                    "modalLabelCodTc": "(TC) Time Criticality",
                    "modalLabelCodRroe": "(RR/OE) Risk Reduction / Opportunity Enablement",
                    "jobsizeHint": "Set all three values to continue",
                    "jobsizeHintComplete": "The current Job Size is: {jobSize}",
                    "codHint": "Set all three values to get the 'Weighted Shortest Job First (WSJF)'",
                    "codHintComplete": "The current Cost of Delay is: {codSize}",
                    "modalLanguageLabel": "Language",
                    "langOptionDe": "German",
                    "langOptionEn": "English",
                    "dividerTooltip": "Drag to resize",
                    "pbiInfoJobSize": "Job Size",
                    "pbiInfoCoD": "CoD",
                    "pbiInfoWSJF": "WSJF",
                    "pbiInfoTshirtSize": "T-Shirt Size",
                    "modalTitleInfo": "Info",
                    "btnClose": "Close",
                    "btnImportTitle": "Import",
                    "btnExportTitle": "Export",
                    "confirmImport": "Are you sure you want to replace the current backlog items with the file's content? All unsaved changes will be lost.",
                    "importSuccess": "Backlog Items imported successfully.",
                    "importError": "Error importing file. Please ensure it is a valid JSON file.",
                    "emptyStateMessage": "Create backlog items under \"{btnAddPbi}\" and start your discussion about \"{modalLabelComplexity}\", \"{modalLabelEffort}\", \"{modalLabelDoubt}\" and much more. Decide on a \"{pbiInfoTshirtSize}\" and have the \"Weighted Shortest Job First (WSJF)\" calculated for efficient prioritization.",
                    "demoDataLabel": "Load Demo Data:",
                    "demoDataLinkEN": "EN",
                    "demoDataLinkDE": "DE",
                    "demoDataTooltipDisabled": "This link is disabled when running the file locally. Please use the Import button (folder icon) above to load demo data.",
                    "pbiInfoNA": "na",
                    "settingsColorLabel": "Color Settings",
                    "colorComplexity": "Complexity",
                    "colorEffort": "Effort",
                    "colorDoubt": "Uncertainty",
                    "colorTotal": "Total Size",
                    "colorNumberComplexity": "Number (Complexity)",
                    "colorNumberEffort": "Number (Effort)",
                    "colorNumberDoubt": "Number (Uncertainty)",
                    "tabJobSizeViz": "Job Size Visualization",
                    "tabCoDViz": "CoD Visualization",
                    "tabWsjfViz": "WSJF Visualization",
                    "tabRelativeSizing": "Relative Estimation Table",
                    "groupJobSize": "Job Size",
                    "groupCoD": "Cost of Delay",
                    "groupWsjf": "WSJF",
                    "colComplexity": "Complexity",
                    "colEffort": "Effort",
                    "colDoubt": "Uncertainty",
                    "colJobSize": "Job Size",
                    "colBv": "BV",
                    "colTc": "TC",
                    "colRrOe": "RR/OE",
                    "colWsjf": "WSJF",
                    "highlightColumnTitle": "Highlight Column",
                    "tooltipJobSizeNa": "Job Size cannot be calculated. Missing values: {missingValues}",
                    "tooltipCodNa": "Cost of Delay cannot be calculated. Missing values: {missingValues}",
                    "tooltipWsjfNa": "WSJF cannot be calculated. Missing: {missingValues}",
                    "valuesMissing": "Values are missing",
                    "btnResetJobSize": "Reset Job Size",
                    "colorBv": "Business Value",
                    "colorTc": "Time Criticality",
                    "colorRrOe": "Risk/Opportunity",
                    "colorNumberBv": "Number (Business Value)",
                    "colorNumberTc": "Number (Time Criticality)",
                    "colorNumberRrOe": "Number (Risk/Opportunity)",
                    "tooltipComplexity": "Complexity",
                    "tooltipEffort": "Effort",
                    "tooltipDoubt": "Uncertainty",
                    "tooltipJobSize": "Job Size",
                    "tooltipBv": "(BV) User/Business Value",
                    "tooltipTc": "(TC) Time Criticality",
                    "tooltipRrOe": "(RR/OE) Risk Reduction / Opportunity Enablement",
                    "tooltipCoD": "Cost of Delay",
                    "tooltipWsjf": "Weighted Shortest Job First (WSJF)",
                    "tooltipSetRefMin": "Set as Reference Minimum",
                    "tooltipSetRefMax": "Set as Reference Maximum",
                    "tooltipUnsetRefMin": "Unset Reference Minimum",
                    "tooltipUnsetRefMax": "Unset Reference Maximum",
                    "lastItemTitle": "---",
                    "confirmExit": "You have unsaved Backlog Items. Are you sure you want to leave?",
                    "tooltipWsjfRank": "WSJF Rank (Click to change color)",
                    "wsjfChartTitleOptimal": "Optimal Order (by WSJF)",
                    "wsjfChartLabelTotalCost": "Total Cost:",
                    "wsjfChartNoData": "No valid WSJF data available to visualize.",
                    "wsjfChartLegendLabelVertical": "Y-Axis:",
                    "wsjfChartLegendLabelHorizontal": "X-Axis:",
                    "wsjfChartLegendUnitVertical": "Cost of Delay",
                    "wsjfChartLegendUnitHorizontal": "Job Size",
                    "wsjfChartLabelAccumulatedCost": "Accumulated Cost:",
                    "wsjfChartTitleCurrentOrderPart": "Current Order/Sorting",
                    "wsjfChartTooltipWaiting": "Status: Waiting",
                    "wsjfChartTooltipProcessing": "Status: Processing",
                    "wsjfChartTooltipItem": "Item",
                    "wsjfChartTooltipJobSize": "Job Size",
                    "wsjfChartTooltipCod": "CoD",
                    "wsjfChartTooltipXAxisLabel": "Cumulative Job Size: {value}",
                    "wsjfChartTooltipYAxisLabel": "Cumulative Cost of Delay: {value}",
                    "resolutionWarning": "SizeRight was developed for a screen resolution of 1920x1080 px and requires a minimum resolution of 1468x658 px. Please adjust your browser window or screen resolution.",
                    "editorBold": "Bold",
                    "editorItalic": "Italic",
                    "editorUnderline": "Underline",
                    "editorStrikethrough": "Strikethrough",
                    "editorLink": "Insert Link",
                    "editorClean": "Remove Formatting",
                    "linkPrompt": "Please enter the URL:",
                    "settingsEditorColorLabel": "Editor Colors",
                    "editorColor1": "Color 1 (Standard)",
                    "editorColor2": "Color 2 (Info)",
                    "editorColor3": "Color 3 (Highlight)",
                    "editorColor4": "Color 4 (Warning)",
                    "tooltipModalPrev": "Previous Item",
                    "tooltipModalNext": "Next Item",
                    "navPrevItem": "Previous Item",
                    "navNextItem": "Next Item",
                    "navItemCount": "Backlog Item {current} of {total}",
                    "navPrevItemSave": "Save & Previous",
                    "navNextItemSave": "Save & Next",
                    "navRefMin": "Reference Item MIN",
                    "navRefMax": "Reference Item MAX",
                    "btnHideRefMarkers": "Hide Markers",
                    "btnShowRefMarkers": "Show Markers",
                    "settingShowRefMarkers": "Show reference markers on scales",
                    "btnResetAppTitle": "Reset Application",
                    "modalTitleResetApp": "Caution!",
                    "resetAppText": "The data stored by SizeRight will be reset in your browser after confirmation and will therefore be lost. Be sure to export this data if you want to keep it. You can then import it again at any time.",
                    "btnResetAppExport": "Export Data",
                    "btnResetAppDelete": "Delete Data",
                    "btnCsvExportTitle": "Export as CSV",
                    "modalTitleCsvExport": "Export as CSV-File",
                    "csvExportText": "Backlog items, including all estimates and notes, can be exported into a structured CSV file via this dialog. This format can be opened in spreadsheet software like Microsoft Excel, Apple Numbers, or Google Sheets\n\nSorting: By default, the sort order is adopted from the current view. The sorting for this file can be customized below without affecting the main workspace.",
                    "btnCsvExportConfirm": "Export CSV",
                    "btnCsvExportCancel": "Cancel",
                    "csvExportSortLabel": "Sorted by: {criteria} - {direction}",
                    "csvHeaderRef": "Reference Item",
                    "settingsModalGeneralLabel": "General",
                    "settingsLabelShowResWarning": "Show resolution warning",
                    "tooltipTshirtCodView": "The T-shirt size can only be set in the \"Job Size Visualization\" view.",
                    "documentationHtml": "<h1>SizeRight</h1>\n<p><strong>SizeRight</strong> is an innovative tool for agile product development, designed specifically for product owners, product managers, and epic owners to simplify the estimation and prioritization of large, abstract backlog items such as features and epics.</p>\n<p>It solves the challenge of lengthy and subjective estimation meetings with a structured, visual process that embodies the claim: <strong>Align fast. Decide with clarity.</strong></p>\n<p>This online guide outlines the integrated process that SizeRight facilitates, combining the &quot;how&quot; of using the tool with the &quot;why&quot; of its underlying strategic principles.</p>\n<hr>\n<h2>The &quot;Why&quot; and &quot;How&quot;: An Integrated Estimation Process</h2>\n<p>SizeRight is a guided process built on two core principles of modern agile product development: <strong>Relative Estimation</strong> and <strong>Economic Prioritization</strong>. It helps you make complex decisions in two clear, sequential steps.</p>\n<p>This integrated approach combines the <strong>estimation</strong> of the <strong>effort size</strong> (&quot;Job Size&quot;) with the <strong>determination</strong> of the <strong>business value</strong> (&quot;Cost of Delay&quot;) to enable <strong>data-driven prioritization</strong> via <strong>Weighted Shortest Job First (WSJF)</strong>. The application was primarily developed for estimating high-level backlog items like features and epics, which are often abstract and difficult to assess. SizeRight&#39;s structured process provides clarity in this early phase.</p>\n<hr>\n<h2>Step 1: &quot;Align fast.&quot; - From Vague Ideas to Relative Job Size</h2>\n<h3>Why Not Just Use &quot;Hours&quot;?</h3>\n<p>The first challenge in any project is understanding the work. Traditionally, teams try to estimate in absolute units like &quot;hours&quot; or &quot;days.&quot;</p>\n<p>This approach has critical flaws:</p>\n<ul>\n<li><strong>The Fallacy of Precision:</strong> An estimate of &quot;40 hours&quot; feels precise but is highly subjective. It ignores individual skills, meetings, and unforeseen issues, creating a false sense of certainty.</li>\n<li><strong>Cognitive Bias:</strong> Humans are naturally poor at absolute estimation (&quot;How many hours will this take?&quot;) but excellent at comparative estimation (&quot;Is this task <em>bigger</em> or <em>smaller</em> than that task?&quot;).</li>\n<li><strong>Psychological Pressure:</strong> An hour-based estimate is often treated as a &quot;blood oath&quot; or deadline, leading to cut corners on quality.</li>\n</ul>\n<p>The goal is not a flawed, pseudo-precise plan, but rather a <strong>shared understanding</strong> of the work at hand.</p>\n<h3>The Process: Deconstructing Job Size</h3>\n<p>SizeRight solves this by guiding the discussion away from absolute values like time. The process begins with the question: How big is the feature/epic?</p>\n<p>Instead of a single number, the application guides the joint discussion to evaluate the <strong>Job Size</strong> based on three tangible, relative dimensions:</p>\n<ul>\n<li><strong>Complexity:</strong> &quot;How <em>difficult</em> is this?&quot; (e.g., new technology, intricate logic)</li>\n<li><strong>Effort:</strong> &quot;How <em>much</em> work is this?&quot; (e.g., high volume of repetitive tasks)</li>\n<li><strong>Uncertainty:</strong> &quot;What do we <em>not</em> know?&quot; (e.g., unclear requirements, external dependencies)</li>\n</ul>\n<h3>Categorization with T-Shirt Sizes (Affinity Estimation)</h3>\n<p>Once the numerical <strong>Job Size</strong> (e.g., 12) is calculated from these three dimensions, SizeRight supports the final step of alignment: categorization. This applies the principles of <strong>Affinity Estimation</strong>, where items are grouped into &quot;buckets&quot; of similar size.</p>\n<p>Instead of getting lost in the minor difference between a &quot;12&quot; and a &quot;13,&quot; the tool allows you to assign a <strong>T-Shirt Size</strong> (e.g., XS, S, M, L). This act of &quot;bucketing&quot; serves several business needs:</p>\n<ul>\n<li><strong>Reduces False Precision:</strong> It acknowledges that the number is a guide, not a perfect measurement.</li>\n<li><strong>Speeds Up Communication:</strong> It&#39;s faster to talk about &quot;M-sized items&quot; than &quot;items between 11 and 15 points.&quot;</li>\n<li><strong>Visual Grouping:</strong> It allows the team to visually group and manage items of similar scale.</li>\n</ul>\n<h3>The Result: Rapid Alignment</h3>\n<p>The primary goal of this estimation is not the final number itself, but the <strong>conversation</strong> it creates. When one person estimates &quot;Complexity&quot; as a 5 and another as a 2, the resulting discussion reveals hidden assumptions and aligns the team.</p>\n<p>This is the &quot;Align fast&quot; philosophy. The visualization as a bubble chart in the tool immediately shows <em>why</em> something is large (e.g., high complexity but low effort), and the T-Shirt size provides a simple category for it, creating an objective basis for a rapid, joint decision.</p>\n<hr>\n<h2>Step 2: &quot;Decide with clarity.&quot; - From Job Size to Economic Priority</h2>\n<h3>An Economic Viewpoint</h3>\n<p>Once the <strong>Job Size</strong> has been established as a stable basis, the focus shifts from size to <strong>business value</strong>. The key business question is: &quot;What does it cost our business for every week or month we <em>delay</em> the delivery of this feature?&quot;</p>\n<p>This concept is the <strong>Cost of Delay (CoD)</strong>.</p>\n<h3>The Process: Deconstructing Cost of Delay (CoD)</h3>\n<p>The Cost of Delay tab in SizeRight answers this question by guiding the discussion through three established scales, as defined, for example, in the SAFe Framework:</p>\n<ul>\n<li><strong>(BV) User/Business Value:</strong> What benefits does it provide? (e.g., revenue, market differentiation)</li>\n<li><strong>(TC) Time Criticality:</strong> How important is the time factor? (e.g., a fixed deadline, a market window)</li>\n<li><strong>(RR/OE) Risk Reduction/Opportunity Enablement:</strong> Does it reduce a risk or enable a future opportunity?</li>\n</ul>\n<p>The <strong>RR/OE component</strong> in particular is strategically vital. It gives a voice to crucial infrastructure work, security fixes, or architectural enablers. Without it, the focus might be solely on short-term, visible features. RR/OE ensures that critical &quot;enabler&quot; tasks can compete on an equal economic footing with new features, balancing short-term delivery with long-term product health.</p>\n<h3>The Result: Data-Driven Prioritization with WSJF</h3>\n<p>Once these values have been determined in dialogue, SizeRight automatically calculates the <strong>Weighted Shortest Job First (WSJF)</strong> value. This formula provides a simple, rational algorithm for optimizing value flow.</p>\n<p>The original formula is:\nWSJF = Cost of Delay / Duration</p>\n<p>The SizeRight formula is:\nWSJF = Cost of Delay / Job Size</p>\n<p>The goal is to identify the &quot;Quick Wins&quot; - the items that deliver the <strong>highest value (CoD) for the least amount of effort (Job Size)</strong>.</p>\n<p>This formula often leads to counter-intuitive but economically optimal decisions. A massive feature with a high CoD may be deprioritized in favor of a smaller feature with a medium CoD, because the smaller item delivers its value <em>faster</em>. This &quot;power of the denominator&quot; provides a clear, economically sound recommendation for prioritization.</p>\n<p>Decisions no longer have to be made based on gut feeling or the &quot;loudest voice&quot;. Priorities are justified objectively, allowing you to &quot;<strong>Decide with clarity</strong>.&quot;</p>\n<hr>\n<h2>Analysis from Different Perspectives</h2>\n<p>An essential part of decision-making is considering the results from different perspectives. To support this, SizeRight provides <strong>four distinct views</strong> for analysis, accessible via tabs on the main panel: a <strong>Job Size Visualization</strong> (bubble chart), a <strong>Cost of Delay (CoD) Visualization</strong> (bubble chart), a <strong>WSJF Visualization</strong> (Cost of Delay chart), and a <strong>Relative Estimation Table</strong> view. This grid-based list view allows for direct comparison and sorting of all metrics side-by-side, and simplifies <strong>relative estimation</strong>.</p>\n<p>Users can dynamically switch between these views and sort the entire backlog by different metrics:</p>\n<ul>\n<li><strong>Sorting by &quot;Job Size&quot;:</strong> Which features/epics are the biggest chunks?</li>\n<li><strong>Sorting by &quot;T-shirt size&quot;:</strong> How are the sizes we assign distributed?</li>\n<li><strong>Sorting by &quot;Cost of Delay&quot;:</strong> Which items have the highest business value or the greatest urgency?</li>\n<li><strong>Sorting by WSJF:</strong> What is the most economically sensible order for implementation?</li>\n</ul>\n<p>This dynamic change of perspective enables a deeper analysis and helps to validate and communicate prioritization decisions. The entire workflow - from the initial discussion about size to the final list, analyzed and prioritized from different angles - takes place seamlessly in one application. This integrated process leads in a structured way from a quick agreement to a clear decision - <strong>Align fast. Decide with clarity</strong>.</p>\n<hr>\n<h1>Positioning Statement</h1>\n<h2>What SizeRight Is</h2>\n<p>SizeRight is a purpose-built <strong>facilitation and visualization tool</strong> designed to be displayed on a &quot;big screen&quot; (large meeting room monitor or projector) during interactive <strong>planning sessions</strong>. Its primary mission is to support the team to &quot;<strong>Align fast. Decide with clarity.</strong>&quot; by turning abstract discussions into tangible <strong>data-driven</strong> metrics. It serves as a temporary workspace to bridge the gap between vague ideas and concrete <strong>economic prioritization</strong> using <strong>WSJF</strong> (Weighted Shortest Job First).</p>\n<h2>What SizeRight Is Not</h2>\n<p>SizeRight is <strong>not an Enterprise Solution</strong> or a &quot;System of Record&quot; (like Jira or Azure DevOps). It is explicitly <strong>not designed</strong> to be a long-term <strong>documentation archive</strong> or a database for managing the lifecycle of <strong>Backlog Items</strong>. It does not replace your ALM (Application Lifecycle Management) tool but acts as a tactical pre-processor for it.</p>\n<p>Similarly, SizeRight is <strong>not a controlling tool</strong>. It uses <strong>relative proxies</strong> for the <strong>Weighted Shortest Job First (WSJF)</strong> calucluation (proxy metrics: <strong>Job Size</strong>, consisting of <em>Complexity</em>, <em>Effort</em>, and <em>Uncertainty</em>, as a proxy metric <strong>for Duration</strong>. <strong>Cost of Delay</strong>, consisting of <em>(BV) User/Business Value</em>, <em>(TC) Time Criticality</em>, and <em>(RR/OE) Risk Reduction and/or Opportunity Enablement</em>) to make the essentially inestimable quantifiable and comparable. These values serve tactical alignment and prioritization; they are <strong>not</strong> suitable for accounting purposes, performance reviews, budgeting, or exact reporting.</p>\n<hr>\n<h1>User manual: <strong>SizeRight</strong></h1>\n<p>This is the user guide for SizeRight, a tool for simplifying <strong>agile estimates</strong> and <strong>data-driven prioritization</strong>. This guide describes all the features needed to use the application.</p>\n<p><strong>System Requirement Note:</strong> SizeRight is designed for desktop use. If your screen resolution is below the recommended minimum (e.g., on mobile devices or very small windows), a warning overlay will appear to ensure you have the necessary space for the visualizations. Please maximize your browser window or use a larger screen.</p>\n<h2>1. Core concepts</h2>\n<p>Before using the application, it is important to <strong>understand the underlying estimation concepts</strong> as well as <strong>the three key metrics</strong>.</p>\n<h3>Absolute vs. Relative Estimation</h3>\n<ul>\n<li><strong>Absolute Estimation:</strong> This approach attempts to determine a precise, absolute value for an item (e.g., &quot;This task will take 20 hours&quot; or &quot;This is 8 story points&quot;). This type of estimation is often difficult, time-consuming, and subjective, especially for large, abstract backlog items like features or epics.</li>\n<li><strong>Relative Estimation:</strong> With this approach, items are not evaluated in isolation but are compared with one another. The central question is: &quot;Is Feature A larger or smaller than Feature B?&quot; or &quot;How much larger is A compared to B?&quot;. This method is more intuitive for people, faster, and leads to better common understanding (alignment) within the team.</li>\n</ul>\n<p><strong>SizeRight is fundamentally based on the principle of relative estimation.</strong> Instead of guessing an absolute number, the application guides the team to discuss items based on tangible dimensions (like <strong>complexity</strong>, <strong>effort</strong> and <strong>uncertainty</strong>) and to relate them to each other visually (see Section 8.4, &quot;Relative Estimation Table&quot;).</p>\n<h3>The Three Key Metrics</h3>\n<p>SizeRight uses three key metrics to structure this process:</p>\n<ul>\n<li><strong>Job Size:</strong> This is not a direct estimate, but rather the sum of three dimensions:<ul>\n<li><strong>Complexity:</strong> How difficult is the implementation?</li>\n<li><strong>Effort:</strong> How much work is required?</li>\n<li><strong>Uncertainty:</strong> How many unknowns are there?</li>\n</ul>\n</li>\n<li><strong>Cost of Delay:</strong> This metric quantifies the business value and urgency. It is the sum of:<ul>\n<li><strong>User/Business Value (BV):</strong> The benefit to customers or the company.</li>\n<li><strong>Time Criticality (TC):</strong> Does the item lose value if it is delayed/deferred?</li>\n<li><strong>Risk Reduction / Opportunity Enablement (RR/OE):</strong> Does it reduce risks or open up new opportunities?</li>\n</ul>\n</li>\n<li><strong>Weighted Shortest Job First (WSJF):</strong> The final prioritization value, which is calculated automatically: <code>WSJF = Cost of Delay / Job Size</code>.</li>\n</ul>\n<h2>2. Getting started: Creating a backlog item</h2>\n<ol>\n<li>Clicking on the <strong>&quot;Add New Backlog Item&quot;</strong> button starts the process.</li>\n<li>A dialog box <strong>Create New BI</strong> opens. Enter a meaningful <strong>title</strong> for the feature/epic in the top input field.</li>\n<li>Then proceed with the estimation.</li>\n</ol>\n<p><strong>Loading Demo Data:</strong> If you are new to SizeRight and the list is empty, you will see an option to <strong>&quot;Load Demo Data&quot;</strong> in the main view. Clicking this link (e.g., for EN or DE) will populate the application with example items, allowing you to explore the features and visualizations immediately.</p>\n<h2>3. The estimation process in detail</h2>\n<p>The estimation process is divided into two phases. The first, fundamental phase is determining the <strong>Job Size</strong>. This forms the basis for discussion and the subsequent assignment of a <strong>T-shirt size</strong>. The second phase, determining the <strong>Cost of Delay</strong>, is <em>optional</em>. It is only required if the <strong>WSJF value</strong> is to be calculated for economic prioritization and is not necessary for assigning T-shirt sizes.</p>\n<p><strong>Dialog structure</strong></p>\n<p>The <strong>&quot;Edit BI&quot;</strong> dialog has an expanded layout. The <strong>title</strong> spans the entire width. Below that, the dialog is divided into two columns: on the left are the estimation controls, and on the right is a <strong>rich text editor</strong> for notes and assumptions.</p>\n<p><strong>Step A: Determine the Job Size</strong></p>\n<ol>\n<li>The <strong>&quot;Job Size&quot;</strong> tab must be active.</li>\n<li>The three sliders are moved to determine the joint assessment for <strong>Complexity</strong>, <strong>Effort</strong>, and <strong>Uncertainty</strong>.<ul>\n<li><strong>Clickable Scale:</strong> Instead of dragging the slider, you can also <strong>click directly on the numbers</strong> below the slider line to set the value. The currently selected number is highlighted with a <strong>black circle</strong>.</li>\n</ul>\n</li>\n</ol>\n<p><em>Triangulation (Reference Markers):</em></p>\n<p>To support better relative estimation, SizeRight uses <strong>Triangulation</strong>. If you have defined Reference Items (Minimum/Maximum, see Section 6), their values will appear as colored <strong>markers directly on the scales</strong> of the sliders. This allows you to instantly see how the current item compares to your baseline (e.g., &quot;Is this complexity higher than our Reference Max?&quot;). </p>\n<ul>\n<li>Markers only appear if you have actively set a <strong>Minimum</strong> (Orange) or <strong>Maximum</strong> (Blue) reference item.</li>\n<li>You can toggle these markers on/off using the <strong>&quot;Show/Hide Markers&quot;</strong> button below the sliders.</li>\n<li>This preference is saved globally in your settings and included in exports.</li>\n</ul>\n<p><em>Important notes on &quot;Job Size&quot; estimation:</em></p>\n<ul>\n<li><strong>Saving:</strong> To save a new backlog item, <strong>only a title is required</strong>. First, a list of items can be created, which will then be estimated at a later date. However, a &quot;Job Size&quot; value (and T-Shirt size) will only be calculated once all three values (Complexity, Effort, Uncertainty) are set to a value greater than 0.</li>\n<li><strong>Minimum value:</strong> Once a slider has been moved away from 0, the <strong>lowest possible value per scale is 1</strong>.</li>\n<li><strong>Reset Button:</strong> You can use the &quot;<strong>Reset Job Size</strong>&quot; button to set all three &quot;Job Size&quot; sliders back to zero.</li>\n<li><strong>Scale:</strong> By default, the tool uses the <strong>SAFe Fibonacci scale</strong> (1, 2, 3, 5, 8). This can be changed in the settings (see section 11).</li>\n</ul>\n<p><strong>Step B: Determine the &quot;Cost of Delay&quot; for WSJF prioritization</strong></p>\n<ol>\n<li>Clicking on the &quot;<strong>Cost of Delay</strong>&quot; tab changes the view.</li>\n<li>The three sliders are moved to determine the joint assessment for <strong>User/Business Value (BV)</strong>, <strong>Time Criticality (TC)</strong> and <strong>Risk Reduction/Opportunity Enablement (RR/OE)</strong>.</li>\n<li>Once all three <strong>CoD values</strong> and the <strong>Job Size values</strong> have been set, the calculated WSJF value will automatically appear in the upper right corner of the dialog box.</li>\n<li><em>Note:</em> Reference markers (Triangulation) are also available on these scales if the corresponding reference items are set.</li>\n</ol>\n<p><em>Important note:</em> * <strong>The WSJF value</strong> cannot be calculated without a completed &quot;Job Size&quot; and &quot;Cost of Delay&quot; estimate.</p>\n<ul>\n<li><strong>Reset Button:</strong> You can use the &quot;<strong>Reset Cost of Delay</strong>&quot; button to set all three &quot;Cost of Delay&quot; sliders back to zero.</li>\n</ul>\n<p><strong>Enter additional information</strong>\nThere is a <strong>rich text editor</strong> in the right-hand column of the dialog box. Context-related information such as <strong>assumptions, risks, or open questions</strong> can be documented here.</p>\n<ul>\n<li><strong>Formatting:</strong> You can format text (bold, italic, underline, strikethrough) and <strong>insert hyperlinks</strong>.</li>\n<li><strong>Colors:</strong> You can apply one of <strong>four preset highlight colors</strong> (e.g., for warnings or important info) to text. These specific colors can be customized in the global <strong>Settings</strong> and are saved with your project data.</li>\n<li><strong>Paste Sanitization:</strong> When pasting content from external sources (Word, Websites), the editor automatically cleans up the text, removing unsupported styles while preserving the basic structure.</li>\n</ul>\n<p><strong>Completing the estimation and Navigation</strong></p>\n<ul>\n<li>Clicking &quot;<strong>Save</strong>&quot; creates or updates the backlog item. The button is active as long as a <strong>title</strong> has been entered.</li>\n<li><strong>Rapid Navigation:</strong> You can switch directly to the <strong>Previous</strong> or <strong>Next</strong> item in the backlog using the arrow buttons in the dialog header.<ul>\n<li><strong>Auto-Save:</strong> If you have made changes to the current item, the button label will change to <strong>&quot;Save &amp; Next&quot;</strong> (or &quot;Save &amp; Previous&quot;). Clicking it will automatically save your changes and immediately load the next item, allowing for a very fast workflow without closing the dialog.</li>\n</ul>\n</li>\n<li>Clicking <strong>&quot;Cancel&quot;</strong> closes the Dialog without saving.</li>\n</ul>\n<h2>4. Overview of the user interface</h2>\n<p>The main view of SizeRight is divided into two main panes:</p>\n<ul>\n<li>The <strong>&quot;Backlog Item List&quot;</strong> (left pane), where items are created and managed.</li>\n<li>The <strong>&quot;Main Display Area&quot;</strong> (right pane), which is organized into <strong>four tabs</strong> for different analysis perspectives:<ol>\n<li><strong>Job Size Visualization:</strong> A bubble-chart view focusing on &quot;Job Size&quot; (Complexity, Effort, Uncertainty).</li>\n<li><strong>CoD Visualization:</strong> A bubble-chart view focusing on &quot;Cost of Delay&quot; (BV, TC, RR/OE).</li>\n<li><strong>WSJF Visualization:</strong> A chart view visualizing the economic impact (Cost of Delay) over time for different sequences.</li>\n<li><strong>Relative Estimation Table:</strong> A powerful grid view that displays all items and their metrics in a sortable, comparable table.</li>\n</ol>\n</li>\n</ul>\n<p>The size of these two panes can be adjusted by moving the <strong>divider line</strong> in the middle with the mouse to focus on the more important view.</p>\n<h2>5. Manage backlog items</h2>\n<p>Backlog items can be edited in two ways:</p>\n<ul>\n<li>Via the <strong>Backlog Item List</strong>: Clicking on the <strong>Edit</strong> button for an item opens the &quot;Edit BI&quot;-dialog.</li>\n<li>Via the <strong>Visualization Area</strong>: When you move the mouse pointer over a visualization card (&quot;Job Size Visualization&quot; or &quot;CoD Visualization&quot;) an edit icon appears in the upper right corner. Clicking on it also opens the Edit BI dialog box.</li>\n</ul>\n<p>To remove an item, use the <strong>&quot;Delete&quot;</strong> button in the <strong>Backlog Item List</strong>. A confirmation message appears first.</p>\n<h2>6. Setting a Reference Item</h2>\n<p>A core part of <strong>relative estimation</strong> is comparing new items to a known reference item. SizeRight allows you to set any backlog item as a <strong>Reference Item</strong>. This system supports two types of references to frame your estimation scale:</p>\n<ol>\n<li><strong>Minimum Reference (-):</strong> Represents a small or simple item (your baseline for &quot;Low&quot;).</li>\n<li><strong>Maximum Reference (+):</strong> Represents a large or complex item (your baseline for &quot;High&quot;).</li>\n</ol>\n<p><strong>How to set a reference:</strong></p>\n<ul>\n<li>In the <strong>Backlog Item List</strong> (left pane), each item has two small icons:<ul>\n<li>Click the <strong>Orange Minus (-)</strong> icon to set the item as the <strong>Minimum Reference</strong>.</li>\n<li>Click the <strong>Blue Plus (+)</strong> icon to set the item as the <strong>Maximum Reference</strong>.</li>\n</ul>\n</li>\n<li>You can choose to set only a Minimum, only a Maximum, both, or neither.</li>\n</ul>\n<p><strong>Effect of setting a reference:</strong></p>\n<ol>\n<li><strong>Highlighting:</strong> Reference items are highlighted in the list and pinned to the top of all standard display views (&quot;Job Size Visualization&quot;, &quot;CoD Visualization&quot;, and &quot;Relative Estimation Table&quot;).</li>\n<li><strong>Triangulation:</strong> Setting a reference activates the corresponding markers on the estimation scales in the &quot;Edit BI&quot; dialog (see Section 3).</li>\n</ol>\n<p><strong>Removing a reference:</strong>\nSimply click the highlighted Minus (-) or Plus (+) icon again to unset the reference.</p>\n<p><em>Important Note on Reference Item Behavior:</em></p>\n<ul>\n<li><strong>Standard Views:</strong> In the Job Size, CoD, and Relative Estimation Table views, the reference item is physically moved to the top.</li>\n<li><strong>WSJF Visualization View:</strong> In this view, the reference item is <strong>not</strong> pinned to the top, as the sequence shown in the charts is crucial.</li>\n<li><strong>&quot;Custom Sort&quot; Mode:</strong> When using &quot;Custom Sort&quot; (see Section 9), the reference item remains in its defined position within the list. However, a <strong>non-interactive clone</strong> of the reference item is displayed in the top slot for comparison purposes.</li>\n</ul>\n<p>While an item is pinned as a reference (in standard views), its values cannot be edited directly in the grid of the &quot;Relative Estimation table&quot; view. This prevents accidental changes to the reference. To edit the reference item, use the <strong>Edit</strong> button (either in the list or in the visualization) to open the &quot;Edit BI&quot; dialog.</p>\n<h2>7. Assign T-shirt sizes</h2>\n<p>Once the <strong>Job Size</strong> has been calculated, a relative <strong>T-shirt size</strong> can be assigned.</p>\n<ol>\n<li><p>This is done by clicking either on the <strong>gray button with the - or size in it</strong> (e.g., [ M ]) in the <strong>backlog item list</strong> or directly on the corresponding <strong>T-shirt size label</strong> on the <strong>visualization card</strong> in the <strong>Job Size Visualization</strong> tab.</p>\n</li>\n<li><p>A pop-up menu appears in which the appropriate size (e.g., S, M, L, XL) can be selected. The selection is saved immediately.</p>\n</li>\n</ol>\n<p>This assignment is not final. The <strong>T-shirt size</strong> can be changed again at any time in the same way if the assessment is adjusted over time.</p>\n<h2>8. Using the Display Views</h2>\n<p>The main display area provides four tabs to analyze the backlog.</p>\n<h3>8.1 Job Size Visualization</h3>\n<p>This tab (the default view) displays a <strong>graphical representation of each backlog item</strong> in card form.</p>\n<p>The cards contain:</p>\n<ul>\n<li>A <strong>bubble chart</strong>, whose outer circle represents the <strong>Job Size</strong> and whose inner circles represent the proportions of <strong>Complexity</strong>, <strong>Effort</strong> and <strong>Uncertainty</strong>.</li>\n<li>A <strong>T-shirt size label</strong> for quick classification (clickable if Job Size is complete).</li>\n<li>A <strong>WSJF value indicator</strong> displayed next to the <strong>T-shirt size</strong>, provided that a WSJF value has been calculated.</li>\n<li>An <strong>edit icon</strong> that appears when the mouse is moved to the upper right corner of the map.</li>\n</ul>\n<p>This allows you to visually compare <em>how</em> an item is sized.</p>\n<h3>8.2 CoD Visualization</h3>\n<p>This tab shows a graphical representation of each backlog item. The cards contain:</p>\n<ul>\n<li>A <strong>bubble chart</strong>, whose outer circle represents the <strong>Cost of Delay</strong> and whose inner circles represent the proportions of <strong>(BV) User/Business Value</strong>, <strong>(TC) Time Criticality</strong>, and <strong>(RR/OE)Risk Reduction/Opportunity Enablement</strong>.</li>\n<li>A <strong>WSJF value indicator</strong> provided that a WSJF value has been calculated.</li>\n<li>An <strong>edit icon</strong> that appears when the mouse is moved to the upper right corner of the map.</li>\n</ul>\n<p>This allows for a visual comparison of <em>why</em> an item is valuable, separate from its size.</p>\n<h3>8.3 WSJF Visualization</h3>\n<p>This new tab provides a powerful way to visualize the economic impact of different implementation sequences using <strong>Cost of Delay charts</strong>. It displays two charts side-by-side:</p>\n<ul>\n<li><strong>Optimal Order (by WSJF):</strong> This chart shows the sequence that minimizes the total accumulated Cost of Delay, based purely on the calculated WSJF values (highest WSJF first). This represents the economically ideal order.<ul>\n<li>You can <strong>collapse or expand</strong> this top chart by clicking on its title bar to focus on the current order comparison.</li>\n</ul>\n</li>\n<li><strong>Current Order/Sorting:</strong> This chart shows the sequence based on the <strong>currently selected sort order</strong> in the filter bar (e.g., sorted by Job Size, CoD, T-Shirt Size, or Custom Order).</li>\n</ul>\n<p><strong>Understanding the Charts:</strong></p>\n<ul>\n<li><strong>X-Axis:</strong> Represents the <strong>Cumulative Job Size</strong> as items are completed in sequence.</li>\n<li><strong>Y-Axis:</strong> Represents the <strong>Cost of Delay</strong> (value per unit of time, e.g., per week). The height of the bars indicates the CoD of individual items.</li>\n<li><strong>Colored Blocks:</strong> Represent an item being <strong>processed</strong>. The number inside is the item&#39;s <strong>WSJF Rank</strong> (1 being the highest WSJF). You can click the rank number in the Backlog Item List (when this tab is active) to change its color for visual grouping.</li>\n<li><strong>Gray Blocks:</strong> Represent items <strong>waiting</strong> while another item is being processed. The number inside shows the <strong>Accumulated Cost of Delay</strong> incurred by &lt;em&gt;that specific item&lt;/em&gt; up to that point in time.</li>\n<li><strong>Total Delay Cost:</strong> Displayed above each chart, this number represents the sum of all accumulated delay costs for &lt;em&gt;all&lt;/em&gt; items in that specific sequence. Comparing the total cost of the &quot;Current Order&quot; to the &quot;Optimal Order&quot; shows the economic impact of deviating from the pure WSJF sequence.</li>\n</ul>\n<p>This view helps answer questions like: &quot;How much does it cost us &lt;em&gt;economically&lt;/em&gt; if we implement items in our current preferred order compared to the mathematically optimal WSJF order?&quot;</p>\n<p><strong>WSJF Rank Display:</strong> When this tab is active, the calculated <strong>WSJF Rank</strong> (based on the optimal order) is also displayed as a colored tag next to the T-Shirt size in the <strong>Backlog Item List</strong>. Clicking this tag cycles through different background colors, allowing you to visually group or highlight items across the application based on their WSJF rank. These custom colors are saved during export.</p>\n<h3>8.4 Relative Estimation Table</h3>\n<p>The central view for <strong>relative estimation</strong>. It provides a tabular overview of all items and their metrics.</p>\n<ul>\n<li><strong>Columns:</strong> Displays all metrics side by side (<strong>Complexity</strong>, <strong>Effort</strong>, <strong>Uncertainty</strong>, <strong>Job Size</strong>, <strong>BV</strong>, <strong>TC</strong>, <strong>RR/OE</strong>, <strong>CoD</strong>, and <strong>WSJF</strong>).</li>\n<li><strong>Sorting:</strong> Clicking on the <strong>column header</strong> of a metric sorts the entire list accordingly (unless &quot;Custom Sort&quot; or &quot;Lock Sort Order&quot; is active). Indicators in the header show the active sort column and direction.</li>\n<li><strong>Column highlighting:</strong> Clicking on the <strong>eye icon</strong> in a header highlights the column for that specific metric across all rows, making it easier to compare values vertically.</li>\n<li><strong>Direct editing:</strong> Non-calculated cells (such as Complexity, Effort, etc.) can be quickly changed via a pop-up by clicking on them without having to open the &quot;Edit BI&quot; dialog.</li>\n<li><strong>Calculated values:</strong> <strong>Job Size</strong>, <strong>CoD</strong>, and <strong>WSJF</strong> are automatically calculated and displayed. If data is missing, the cell shows na (not available) and a tooltip explains which values are still needed.</li>\n</ul>\n<h2>9. Filtering and sorting the view</h2>\n<p>Above the <strong>Backlog Item List</strong> are filters for customizing the view.</p>\n<ul>\n<li><strong>Change sorting criteria:</strong> Clicking on the <strong>Job Size</strong>, <strong>T-Shirt Size</strong>, <strong>Cost of Delay</strong>, or <strong>WSJF</strong> buttons changes the sorting criterion.</li>\n<li><strong>Change sorting direction:</strong> The arrow buttons (ascending and descending) reverse the order.</li>\n<li><strong>Custom Sort Order:</strong> Clicking the <strong>&quot;Custom Sort&quot; button</strong> (icon with people/bars) activates drag &amp; drop mode for the <strong>Backlog Item List</strong>. You can now manually rearrange the items into any desired sequence. This custom order is then reflected in all views.</li>\n<li><strong>Effect:</strong> The selected sorting, direction, or custom order is applied <strong>globally to all display views</strong> (&quot;Job Size Visualization&quot;, &quot;CoD Visualization&quot;, &quot;WSJF Visualization&quot;, and &quot;Relative Estimation Table&quot;).</li>\n<li><strong>Reset Sort &amp; Filter:</strong> Clicking the <strong>Reset Filters &amp; Sort</strong> button (the circular &quot;x&quot; icon) will remove all active sorting and filters, <strong>excluding any custom order</strong>. The backlog will revert to its <strong>original creation order</strong>.</li>\n<li><strong>Locking Sort Order:</strong> Once a sorting order (standard or custom) has been agreed upon, click on the <strong>lock icon</strong>. This will freeze the current order of the items and prevent accidental changes during analysis or editing via sorting buttons or drag &amp; drop. Clicking on the lock again will unlock the items.</li>\n</ul>\n<p>The currently active sorting is displayed for orientation in the header of the <strong>visualization area</strong> next to the legend (e.g., &quot;Sorted by: WSJF - Descending&quot; or &quot;Sorted by: Custom Sort Order&quot;).</p>\n<p><strong>Sorting from the Grid:</strong> In the <strong>Relative Estimation Table</strong> view, you can also sort by clicking on the column header of a metric (unless Custom Sort or Lock Sort is active).</p>\n<p><strong>Graying out irrelevant items:</strong> If values for a sorting criterion are missing (e.g., sorting by <strong>WSJF</strong>, but the <strong>cost of delay</strong> has not been estimated for an item), <strong>these backlog items are grayed out in all views</strong>. This means that they are excluded from the current sorting, but remain visible for context. This visual cue is vital: it shows which items are excluded from the current sorting due to missing data. Reference items are generally excluded from being grayed out based on sorting relevance.</p>\n<h2>10. Importing and exporting data</h2>\n<p>SizeRight offers options to save your work or export data for external use.</p>\n<ul>\n<li><strong>JSON Export (Backup):</strong> Clicking on the <strong>Export</strong> icon (floppy disk) saves the entire work status in a <code>.json</code> file. This file contains <strong>all backlog items</strong> as well as <strong>all current application settings</strong> (such as <strong>language</strong>, selected <strong>scale type</strong>, <strong>T-shirt size</strong> definitions, <strong>color settings</strong>, defined <strong>Editor Colors</strong>, <strong>Triangulation/Marker settings</strong>, the current <strong>sort criteria and direction</strong>, any defined <strong>custom sort order</strong>, and custom <strong>WSJF rank colors</strong>).</li>\n<li><strong>CSV Export (Table):</strong> Clicking on the <strong>CSV</strong> button opens a dialog to export your backlog as a <code>.csv</code> file. This format is ideal for opening data in Excel, Numbers, or Google Sheets.<ul>\n<li><strong>CSV Options:</strong> Before exporting, you can choose the <strong>Sorting</strong> for the export file (e.g., sort by WSJF or Job Size).</li>\n<li><strong>Data Content:</strong> The CSV includes all metrics, calculated values, and your <strong>Notes &amp; Assumptions</strong>. Note that text formatting from the rich text editor (like bold or lists) is automatically converted to <strong>Markdown</strong> format for better readability in text cells.</li>\n</ul>\n</li>\n<li><strong>Import:</strong> Clicking on the import icon (open folder) allows you to load a previously exported <code>.json</code> file. During import, <strong>both the backlog and all saved settings are restored</strong>, so that the entire workspace can be shared with others or backed up.</li>\n</ul>\n<h2>11. Adjust settings</h2>\n<p>The settings can be accessed via the gear icon, where the tool can be customized to suit your needs:</p>\n<ul>\n<li><strong>Language:</strong> A choice can be made between German and English.</li>\n<li><strong>Scale:</strong> The global scale for all sliders is set here. A choice can be made between <strong>Arithmetic (1-8)</strong> and <strong>SAFe Fibonacci (1, 2, 3, 5, 8)</strong>.</li>\n<li><strong>Reference Markers:</strong> Check &quot;Show reference markers on scales&quot; to enable the <strong>Triangulation</strong> feature globally. This preference is saved and exported.</li>\n<li><strong>T-shirt sizes:</strong> Different <strong>T-shirt sizes</strong> can be activated or deactivated.</li>\n<li><strong>Color settings:</strong> A section allows you to change the colors of the circles, including numbers for <strong>complexity</strong>, <strong>effort</strong>, <strong>uncertainty</strong>, <strong>(BV) user and business value</strong>, <strong>(TC) time criticality</strong>, <strong>(RR/OE) risk reduction and/or opportunity creation</strong>, and the outer circle of the visualizations via the color picker.</li>\n<li><strong>Editor Colors:</strong> Customize the four preset colors available in the &quot;Notes &amp; Assumptions&quot; rich text editor. These are also saved/exported.</li>\n<li><strong>Reset settings:</strong> This button resets <strong>all</strong> options in this dialog to their original default values.</li>\n</ul>\n<h2>12. Reset Application</h2>\n<p>If you wish to completely clear all data and start fresh, you can use the <strong>&quot;Reset App&quot;</strong> button (located in the header area).</p>\n<ul>\n<li>This action performs a <strong>Factory Reset</strong>: it clears all backlog items, deletes all custom settings, and removes any data stored in your browser&#39;s Local Storage.</li>\n<li><strong>Warning:</strong> This action is irreversible. The application will prompt you to <strong>Export</strong> your data as a JSON backup before confirming the deletion.</li>\n</ul>\n<h2>13. Information and updates</h2>\n<p>Clicking on the <strong>info icon (i)</strong> displays details about the software version, contact information, and the software license. This dialog also includes an <strong>update check</strong>.\nThe application automatically checks whether a new version is available and displays a notification bar at the top of the browser when an update is found.\nClicking the <strong>help icon (&quot;?&quot;)</strong> opens this user manual in a new browser tab.</p>\n<hr>\n<h1>FAQ</h1>\n<h2>Q: Why does SizeRight lack API integrations with enterprise tools</h2>\n<p><strong>A:</strong> SizeRight is designed as a focused, session-based tool, not an integrated enterprise platform. The workflow is intentional: A facilitator acts as the scribe, entering <strong>Backlog Items</strong> before or during the session. The tool creates a visual environment to enable <strong>Relative Estimation</strong> and discussion. Once the <strong>Job Size</strong> and <strong>Cost of Delay</strong> are determined and the planning session concludes, the results are exported via the standard <strong>CSV export</strong> feature. This file is then used to update your primary System of Record.</p>\n<h2>Q: Is the math behind the calculation reliable?</h2>\n<p><strong>A:</strong> The application does not claim absolute mathematical precision (e.g., hours or days). Instead, it strictly follows the principles of <strong>Relative Estimation</strong>. To ensure accuracy within this relative framework, SizeRight supports the definition of <strong>Reference Items</strong> (Min/Max). This allows the team to <strong>triangulate</strong> new items against known baselines, ensuring that the relationships between items are consistent and valid for prioritization.</p>\n<h2>Q: Why are the scales limited to a maximum value of 8?</h2>\n<p><strong>A:</strong> SizeRight utilizes <strong>Relative Estimation</strong>, meaning a value of 8 represents a magnitude <strong>8x larger</strong> than a value of <strong>1</strong>. Since this tool targets strategic <strong>Backlog Items</strong> (like Features or Epics), it is unrealistic for a single item to be more than 8 times larger than the smallest reference item. If an item exceeds this ratio, it usually indicates the need to <strong>split</strong> the item into smaller pieces. Conversely, if you frequently hit the upper limit, it may indicate that your baseline item (the value of 1) is sliced too granularly (e.g., estimating tasks instead of features). Furthermore, the combined score for <strong>Job Size</strong> or <strong>Cost of Delay</strong> can reach up to 24 units. The use of the <strong>Fibonacci scale</strong> (1, 2, 3, 5, 8) prevents &quot;false precision&quot; by forcing teams to <strong>bucket</strong> estimates into larger categories as uncertainty increases.</p>\n<h2>Q: Why does the application require a high screen resolution?</h2>\n<p><strong>A:</strong> SizeRight is optimized for 1920x1080 or higher resolution to serve as a <strong>visual radiator</strong> on a large meeting room monitor or projector. It is designed to show the &quot;Big Picture&quot;, including <strong>Bubble Charts</strong>, <strong>WSJF</strong> rankings, and the <strong>Relative Estimation Table</strong> side-by-side, to facilitate group discussion. This is also why the software is explicitly <strong>not responsive</strong> or optimized for mobile devices. The core value of the tool lies in this simultaneous juxtaposition of data; adapting the layout for smaller screens would destroy this comparability and thus nullify the software&#39;s primary benefit.</p>\n<h2>Q: Is my data secure? Is it sent to a server?</h2>\n<p><strong>A:</strong> SizeRight operates entirely as a client-side application within your browser. No data is transmitted to any external server or cloud service. The <strong>Backlog Items</strong> are stored temporarily in your browser&#39;s local storage solely for session persistence. You maintain full control over your data via the local <strong>JSON/CSV Export</strong> functionality. Additionally, as <strong>Open Source</strong> software, the source code is fully transparent and can be audited or modified. The tool consists of a single, lightweight file, ensuring easy distribution and maximum compatibility with almost any browser from the last years. This architecture eliminates external dependencies, making it safe for use even in high-security environments with strict compliance requirements.</p>\n<h2>Q: Why use &quot;Bubble Charts&quot; instead of a simple spreadsheet?</h2>\n<p><strong>A:</strong> To achieve the goal to &quot;<strong>Align fast</strong>,&quot; visual perception is faster than processing numbers. The <strong>Bubble Charts</strong> allow the team to instantly recognize <em>why</em> a <strong>Job Size</strong> is large (e.g., small <strong>Effort</strong> but massive <strong>Uncertainty</strong>). This visualization exposes hidden assumptions and drives the conversation more effectively than a tabular list.</p>\n<h2>Q: How do we prioritize architectural work or &quot;Enablers&quot; against business features?</h2>\n<p><strong>A:</strong> Use the <strong>RR/OE</strong> (Risk Reduction / Opportunity Enablement) scale within the <strong>Cost of Delay</strong> estimation. This component ensures that technical items, such as infrastructure updates or security fixes, receive a quantified economic value. This allows them to compete fairly for <strong>WSJF</strong> priority against standard features based on <strong>User/Business Value</strong>.</p>\n<h2>Q: How is data persisted, and what happens if the browser crashes?</h2>\n<p><strong>A:</strong> Data persistence in the browser&#39;s local storage serves a single, safety-critical purpose: to prevent data loss in the event of an accidental page refresh during a live session. It is <strong>not</strong> intended for long-term archiving or historical documentation. For saving progress or sharing results, users should rely on the <strong>Export</strong> (JSON/CSV) functionality.</p>\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>SizeRight Documentation</title>\r\n    <style>\r\n        body { \r\n            font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif;\r\n            line-height: 1.4; \r\n            color: #333;\r\n            background-color: #fff;\r\n        }\r\n\r\n        #wrapper {\r\n            max-width: 900px;\r\n            margin: 0 auto;\r\n            background-color: #fbfbfb;\r\n            padding: 35px;\r\n            border-radius: 8px;\r\n            border: 1px solid #ddd;\r\n            margin-top: 35px;\r\n            margin-bottom: 35px;\r\n            box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\r\n        }\r\n\r\n        .doc-header {\r\n            display: flex;\r\n            align-items: baseline;\r\n            gap: 1em;\r\n            margin-bottom: 25px;\r\n        }\r\n        .doc-header h1 {\r\n            margin: 0;\r\n            border: none;\r\n            padding: 0;\r\n            font-size: 1.6em;\r\n        }\r\n        .doc-header p {\r\n            margin: 0;\r\n            color: #666;\r\n            font-size: 1em;\r\n        }\r\n\r\n        h1, h2, h3 { \r\n            border-bottom: 1px solid #ddd;\r\n            padding-bottom: 10px;\r\n            margin-top: 40px;\r\n        }\r\n        h1 { font-size: 1.3em; }\r\n        h2 { font-size: 1.1em; }\r\n        code { \r\n            background-color: #eee;\r\n            padding: 2px 5px;\r\n            border-radius: 4px;\r\n            font-family: \"SFMono-Regular\", Consolas, \"Liberation Mono\", Menlo, Courier, monospace;\r\n        }\r\n        ul {\r\n            padding-left: 20px;\r\n        }\r\n        li {\r\n            margin-bottom: 10px;\r\n        }\r\n        strong {\r\n            color: #111;\r\n        }\r\n        a {\r\n            color: #0366d6;\r\n            text-decoration: none;\r\n        }\r\n        a:hover {\r\n            text-decoration: underline;\r\n        }\r\n        /* Styles for the Table of Contents */\r\n        .toc {\r\n            background-color: #f6f6f6;\r\n            border: 1px solid #ddd;\r\n            border-radius: 5px;\r\n            padding: 10px 20px;\r\n        }\r\n        .toc ul {\r\n            list-style-type: none;\r\n            padding-left: 0;\r\n        }\r\n        .toc ul ul {\r\n            padding-left: 20px;\r\n        }\r\n        .toc li {\r\n            margin-bottom: 4px;\r\n        }\r\n        .toc h2 {\r\n            margin-top: 0px;\r\n        }\r\n        .toc strong{\r\n            color: #0366d6;\r\n            text-decoration: none;            \r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n    <div id=\"wrapper\"></div>\r\n</body>\r\n</html>"
                }
            },
            "uiStrings": {
                "btnOpenAnyway": "Open anyway",
                "btnResetCoD": "Reset Cost of Delay",
                "btnResetSettings": "Reset Settings",
                "helpButtonTitle": "Help",
                "tocTitle": "Table of Contents",
                "pageTitle": "SizeRight",
                "mainHeader": "SizeRight",
                "mainClaim": "Align fast. Decide with clarity.",
                "updateChecker": {
                    "updateNotification": "This version of the application is obsolete!",
                    "updateButtonText": "Download latest version {version}"
                },
                "infoVersionOutdated": "is outdated, the current version is:",
                "infoVersionCurrent": "is up-to-date",
                "infoAboutLabel": "About",
                "licenseText": "MIT License\n\nCopyright  2025 Jakob Michael SPERKER\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the Software), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.",
                "infoTabLicenseSoftware": "License of this Software",
                "infoTabLicenseThirdParty": "Used (Third-Party) Licenses",
                "licenseTextThirdParty": "MIT License\n\nCopyright (c) 2019 All contributors to Sortable\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.",
                "infoLicenseDesignationSoftware": "SizeRight",
                "infoLicenseLinkTextSoftware": "Github: SizeRight",
                "infoLicenseDesignationThirdParty": "SortableJS",
                "infoLicenseLinkTextThirdParty": "Github: SortableJS",
                "infoContactLabel": "Contact:",
                "infoContactValue": "Set name here: language.json >> infoContactValue",
                "infoFunctionLabel": "Role:",
                "infoFunctionValue": "Set function here: language.json >> infoFunctionValue",
                "infoEmailLabel": "E-Mail:",
                "infoEmailValue": "Set e-mail here: language.json >> infoEmailValue",
                "infoDepartmentLabel": "Department:",
                "infoDepartmentValue": "Set department here: language.json >> infoDepartmentValue",
                "infoCompanyLabel": "Company:",
                "infoCompanyValue": "Set company here: language.json >> infoCompanyValue",
                "infoVersionLabel": "Version:",
                "infoBuildLabel": "Build:",
                "infoWeblinkLabel": "Further information",
                "infoWeblinkSentence": "Further information such as documentation, tutorials, and release notes are available at {weblink}.",
                "infoWeblinkText": "github - SizeRight",
                "infoWeblinkUrl": "https://github.com/Sperker/SizeRight",
                "btnAddPbi": "Add New Backlog Item",
                "modalTitleEdit": "Edit BI",
                "modalTitleNew": "Create New BI",
                "btnCancel": "Cancel",
                "btnSave": "Save",
                "btnEdit": "Edit",
                "btnDelete": "Delete",
                "legendComplexity": "Complexity",
                "legendEffort": "Effort",
                "legendDoubt": "Uncertainty",
                "modalPlaceholderTitle": "Title of the Backlog Item",
                "modalNotesPlaceholder": "Additional information about the backlog item/estimation process",
                "modalLabelComplexity": "Complexity",
                "modalLabelEffort": "Effort",
                "modalLabelDoubt": "Uncertainty",
                "modalLabelNotes": "Notes & Assumptions",
                "confirmDelete": "Are you sure you want to delete this Backlog Item?",
                "btnSettingsTitle": "Settings",
                "modalTitleSettings": "Settings",
                "modalSortLabel": "Sort Order:",
                "sortOptionAsc": "Ascending",
                "sortOptionDesc": "Descending",
                "legendSortBy": "Sorted by",
                "tooltipSortAsc": "Sort ascending",
                "tooltipSortDesc": "Sort descending",
                "tooltipFilterLock": "Lock Sort Order",
                "tooltipFilterUnlock": "Unlock Sort Order",
                "tooltipCustomSort": "Custom Sort Order",
                "btnResetFiltersTitle": "Reset Filters & Sort",
                "filterJobSize": "Job Size",
                "filterCoD": "Cost of Delay",
                "filterWSJF": "WSJF",
                "filterTshirtSize": "T-Shirt Size",
                "filterCustomSort": "Custom Sort Order",
                "tabJobSize": "Job Size",
                "tabCoD": "Cost of Delay",
                "modalTshirtLabel": "T-Shirt Sizes",
                "modalScaleLabel": "Global Scale",
                "scaleOptionMetric": "Arithmetic (1,2,3,4,5,6,7,8)",
                "scaleOptionSAFe": "SAFe Fibonacci (1,2,3,5,8)",
                "modalLabelCodBv": "(BV) User/Business Value",
                "modalLabelCodTc": "(TC) Time Criticality",
                "modalLabelCodRroe": "(RR/OE) Risk Reduction / Opportunity Enablement",
                "jobsizeHint": "Set all three values to continue",
                "jobsizeHintComplete": "The current Job Size is: {jobSize}",
                "codHint": "Set all three values to get the 'Weighted Shortest Job First (WSJF)'",
                "codHintComplete": "The current Cost of Delay is: {codSize}",
                "modalLanguageLabel": "Language",
                "langOptionDe": "German",
                "langOptionEn": "English",
                "dividerTooltip": "Drag to resize",
                "pbiInfoJobSize": "Job Size",
                "pbiInfoCoD": "CoD",
                "pbiInfoWSJF": "WSJF",
                "pbiInfoTshirtSize": "T-Shirt Size",
                "modalTitleInfo": "Info",
                "btnClose": "Close",
                "btnImportTitle": "Import",
                "btnExportTitle": "Export",
                "confirmImport": "Are you sure you want to replace the current backlog items with the file's content? All unsaved changes will be lost.",
                "importSuccess": "Backlog Items imported successfully.",
                "importError": "Error importing file. Please ensure it is a valid JSON file.",
                "emptyStateMessage": "Create backlog items under \"{btnAddPbi}\" and start your discussion about \"{modalLabelComplexity}\", \"{modalLabelEffort}\", \"{modalLabelDoubt}\" and much more. Decide on a \"{pbiInfoTshirtSize}\" and have the \"Weighted Shortest Job First (WSJF)\" calculated for efficient prioritization.",
                "demoDataLabel": "Load Demo Data:",
                "demoDataLinkEN": "EN",
                "demoDataLinkDE": "DE",
                "demoDataTooltipDisabled": "This link is disabled when running the file locally. Please use the Import button (folder icon) above to load demo data.",
                "pbiInfoNA": "na",
                "settingsColorLabel": "Color Settings",
                "colorComplexity": "Complexity",
                "colorEffort": "Effort",
                "colorDoubt": "Uncertainty",
                "colorTotal": "Total Size",
                "colorNumberComplexity": "Number (Complexity)",
                "colorNumberEffort": "Number (Effort)",
                "colorNumberDoubt": "Number (Uncertainty)",
                "tabJobSizeViz": "Job Size Visualization",
                "tabCoDViz": "CoD Visualization",
                "tabWsjfViz": "WSJF Visualization",
                "tabRelativeSizing": "Relative Estimation Table",
                "groupJobSize": "Job Size",
                "groupCoD": "Cost of Delay",
                "groupWsjf": "WSJF",
                "colComplexity": "Complexity",
                "colEffort": "Effort",
                "colDoubt": "Uncertainty",
                "colJobSize": "Job Size",
                "colBv": "BV",
                "colTc": "TC",
                "colRrOe": "RR/OE",
                "colWsjf": "WSJF",
                "highlightColumnTitle": "Highlight Column",
                "tooltipJobSizeNa": "Job Size cannot be calculated. Missing values: {missingValues}",
                "tooltipCodNa": "Cost of Delay cannot be calculated. Missing values: {missingValues}",
                "tooltipWsjfNa": "WSJF cannot be calculated. Missing: {missingValues}",
                "valuesMissing": "Values are missing",
                "btnResetJobSize": "Reset Job Size",
                "colorBv": "Business Value",
                "colorTc": "Time Criticality",
                "colorRrOe": "Risk/Opportunity",
                "colorNumberBv": "Number (Business Value)",
                "colorNumberTc": "Number (Time Criticality)",
                "colorNumberRrOe": "Number (Risk/Opportunity)",
                "tooltipComplexity": "Complexity",
                "tooltipEffort": "Effort",
                "tooltipDoubt": "Uncertainty",
                "tooltipJobSize": "Job Size",
                "tooltipBv": "(BV) User/Business Value",
                "tooltipTc": "(TC) Time Criticality",
                "tooltipRrOe": "(RR/OE) Risk Reduction / Opportunity Enablement",
                "tooltipCoD": "Cost of Delay",
                "tooltipWsjf": "Weighted Shortest Job First (WSJF)",
                "tooltipSetRefMin": "Set as Reference Minimum",
                "tooltipSetRefMax": "Set as Reference Maximum",
                "tooltipUnsetRefMin": "Unset Reference Minimum",
                "tooltipUnsetRefMax": "Unset Reference Maximum",
                "lastItemTitle": "---",
                "confirmExit": "You have unsaved Backlog Items. Are you sure you want to leave?",
                "tooltipWsjfRank": "WSJF Rank (Click to change color)",
                "wsjfChartTitleOptimal": "Optimal Order (by WSJF)",
                "wsjfChartLabelTotalCost": "Total Cost:",
                "wsjfChartNoData": "No valid WSJF data available to visualize.",
                "wsjfChartLegendLabelVertical": "Y-Axis:",
                "wsjfChartLegendLabelHorizontal": "X-Axis:",
                "wsjfChartLegendUnitVertical": "Cost of Delay",
                "wsjfChartLegendUnitHorizontal": "Job Size",
                "wsjfChartLabelAccumulatedCost": "Accumulated Cost:",
                "wsjfChartTitleCurrentOrderPart": "Current Order/Sorting",
                "wsjfChartTooltipWaiting": "Status: Waiting",
                "wsjfChartTooltipProcessing": "Status: Processing",
                "wsjfChartTooltipItem": "Item",
                "wsjfChartTooltipJobSize": "Job Size",
                "wsjfChartTooltipCod": "CoD",
                "wsjfChartTooltipXAxisLabel": "Cumulative Job Size: {value}",
                "wsjfChartTooltipYAxisLabel": "Cumulative Cost of Delay: {value}",
                "resolutionWarning": "SizeRight was developed for a screen resolution of 1920x1080 px and requires a minimum resolution of 1468x658 px. Please adjust your browser window or screen resolution.",
                "editorBold": "Bold",
                "editorItalic": "Italic",
                "editorUnderline": "Underline",
                "editorStrikethrough": "Strikethrough",
                "editorLink": "Insert Link",
                "editorClean": "Remove Formatting",
                "linkPrompt": "Please enter the URL:",
                "settingsEditorColorLabel": "Editor Colors",
                "editorColor1": "Color 1 (Standard)",
                "editorColor2": "Color 2 (Info)",
                "editorColor3": "Color 3 (Highlight)",
                "editorColor4": "Color 4 (Warning)",
                "tooltipModalPrev": "Previous Item",
                "tooltipModalNext": "Next Item",
                "navPrevItem": "Previous Item",
                "navNextItem": "Next Item",
                "navItemCount": "Backlog Item {current} of {total}",
                "navPrevItemSave": "Save & Previous",
                "navNextItemSave": "Save & Next",
                "navRefMin": "Reference Item MIN",
                "navRefMax": "Reference Item MAX",
                "btnHideRefMarkers": "Hide Markers",
                "btnShowRefMarkers": "Show Markers",
                "settingShowRefMarkers": "Show reference markers on scales",
                "btnResetAppTitle": "Reset Application",
                "modalTitleResetApp": "Caution!",
                "resetAppText": "The data stored by SizeRight will be reset in your browser after confirmation and will therefore be lost. Be sure to export this data if you want to keep it. You can then import it again at any time.",
                "btnResetAppExport": "Export Data",
                "btnResetAppDelete": "Delete Data",
                "btnCsvExportTitle": "Export as CSV",
                "modalTitleCsvExport": "Export as CSV-File",
                "csvExportText": "Backlog items, including all estimates and notes, can be exported into a structured CSV file via this dialog. This format can be opened in spreadsheet software like Microsoft Excel, Apple Numbers, or Google Sheets\n\nSorting: By default, the sort order is adopted from the current view. The sorting for this file can be customized below without affecting the main workspace.",
                "btnCsvExportConfirm": "Export CSV",
                "btnCsvExportCancel": "Cancel",
                "csvExportSortLabel": "Sorted by: {criteria} - {direction}",
                "csvHeaderRef": "Reference Item",
                "settingsModalGeneralLabel": "General",
                "settingsLabelShowResWarning": "Show resolution warning",
                "tooltipTshirtCodView": "The T-shirt size can only be set in the \"Job Size Visualization\" view.",
                "documentationHtml": "<h1>SizeRight</h1>\n<p><strong>SizeRight</strong> is an innovative tool for agile product development, designed specifically for product owners, product managers, and epic owners to simplify the estimation and prioritization of large, abstract backlog items such as features and epics.</p>\n<p>It solves the challenge of lengthy and subjective estimation meetings with a structured, visual process that embodies the claim: <strong>Align fast. Decide with clarity.</strong></p>\n<p>This online guide outlines the integrated process that SizeRight facilitates, combining the &quot;how&quot; of using the tool with the &quot;why&quot; of its underlying strategic principles.</p>\n<hr>\n<h2>The &quot;Why&quot; and &quot;How&quot;: An Integrated Estimation Process</h2>\n<p>SizeRight is a guided process built on two core principles of modern agile product development: <strong>Relative Estimation</strong> and <strong>Economic Prioritization</strong>. It helps you make complex decisions in two clear, sequential steps.</p>\n<p>This integrated approach combines the <strong>estimation</strong> of the <strong>effort size</strong> (&quot;Job Size&quot;) with the <strong>determination</strong> of the <strong>business value</strong> (&quot;Cost of Delay&quot;) to enable <strong>data-driven prioritization</strong> via <strong>Weighted Shortest Job First (WSJF)</strong>. The application was primarily developed for estimating high-level backlog items like features and epics, which are often abstract and difficult to assess. SizeRight&#39;s structured process provides clarity in this early phase.</p>\n<hr>\n<h2>Step 1: &quot;Align fast.&quot; - From Vague Ideas to Relative Job Size</h2>\n<h3>Why Not Just Use &quot;Hours&quot;?</h3>\n<p>The first challenge in any project is understanding the work. Traditionally, teams try to estimate in absolute units like &quot;hours&quot; or &quot;days.&quot;</p>\n<p>This approach has critical flaws:</p>\n<ul>\n<li><strong>The Fallacy of Precision:</strong> An estimate of &quot;40 hours&quot; feels precise but is highly subjective. It ignores individual skills, meetings, and unforeseen issues, creating a false sense of certainty.</li>\n<li><strong>Cognitive Bias:</strong> Humans are naturally poor at absolute estimation (&quot;How many hours will this take?&quot;) but excellent at comparative estimation (&quot;Is this task <em>bigger</em> or <em>smaller</em> than that task?&quot;).</li>\n<li><strong>Psychological Pressure:</strong> An hour-based estimate is often treated as a &quot;blood oath&quot; or deadline, leading to cut corners on quality.</li>\n</ul>\n<p>The goal is not a flawed, pseudo-precise plan, but rather a <strong>shared understanding</strong> of the work at hand.</p>\n<h3>The Process: Deconstructing Job Size</h3>\n<p>SizeRight solves this by guiding the discussion away from absolute values like time. The process begins with the question: How big is the feature/epic?</p>\n<p>Instead of a single number, the application guides the joint discussion to evaluate the <strong>Job Size</strong> based on three tangible, relative dimensions:</p>\n<ul>\n<li><strong>Complexity:</strong> &quot;How <em>difficult</em> is this?&quot; (e.g., new technology, intricate logic)</li>\n<li><strong>Effort:</strong> &quot;How <em>much</em> work is this?&quot; (e.g., high volume of repetitive tasks)</li>\n<li><strong>Uncertainty:</strong> &quot;What do we <em>not</em> know?&quot; (e.g., unclear requirements, external dependencies)</li>\n</ul>\n<h3>Categorization with T-Shirt Sizes (Affinity Estimation)</h3>\n<p>Once the numerical <strong>Job Size</strong> (e.g., 12) is calculated from these three dimensions, SizeRight supports the final step of alignment: categorization. This applies the principles of <strong>Affinity Estimation</strong>, where items are grouped into &quot;buckets&quot; of similar size.</p>\n<p>Instead of getting lost in the minor difference between a &quot;12&quot; and a &quot;13,&quot; the tool allows you to assign a <strong>T-Shirt Size</strong> (e.g., XS, S, M, L). This act of &quot;bucketing&quot; serves several business needs:</p>\n<ul>\n<li><strong>Reduces False Precision:</strong> It acknowledges that the number is a guide, not a perfect measurement.</li>\n<li><strong>Speeds Up Communication:</strong> It&#39;s faster to talk about &quot;M-sized items&quot; than &quot;items between 11 and 15 points.&quot;</li>\n<li><strong>Visual Grouping:</strong> It allows the team to visually group and manage items of similar scale.</li>\n</ul>\n<h3>The Result: Rapid Alignment</h3>\n<p>The primary goal of this estimation is not the final number itself, but the <strong>conversation</strong> it creates. When one person estimates &quot;Complexity&quot; as a 5 and another as a 2, the resulting discussion reveals hidden assumptions and aligns the team.</p>\n<p>This is the &quot;Align fast&quot; philosophy. The visualization as a bubble chart in the tool immediately shows <em>why</em> something is large (e.g., high complexity but low effort), and the T-Shirt size provides a simple category for it, creating an objective basis for a rapid, joint decision.</p>\n<hr>\n<h2>Step 2: &quot;Decide with clarity.&quot; - From Job Size to Economic Priority</h2>\n<h3>An Economic Viewpoint</h3>\n<p>Once the <strong>Job Size</strong> has been established as a stable basis, the focus shifts from size to <strong>business value</strong>. The key business question is: &quot;What does it cost our business for every week or month we <em>delay</em> the delivery of this feature?&quot;</p>\n<p>This concept is the <strong>Cost of Delay (CoD)</strong>.</p>\n<h3>The Process: Deconstructing Cost of Delay (CoD)</h3>\n<p>The Cost of Delay tab in SizeRight answers this question by guiding the discussion through three established scales, as defined, for example, in the SAFe Framework:</p>\n<ul>\n<li><strong>(BV) User/Business Value:</strong> What benefits does it provide? (e.g., revenue, market differentiation)</li>\n<li><strong>(TC) Time Criticality:</strong> How important is the time factor? (e.g., a fixed deadline, a market window)</li>\n<li><strong>(RR/OE) Risk Reduction/Opportunity Enablement:</strong> Does it reduce a risk or enable a future opportunity?</li>\n</ul>\n<p>The <strong>RR/OE component</strong> in particular is strategically vital. It gives a voice to crucial infrastructure work, security fixes, or architectural enablers. Without it, the focus might be solely on short-term, visible features. RR/OE ensures that critical &quot;enabler&quot; tasks can compete on an equal economic footing with new features, balancing short-term delivery with long-term product health.</p>\n<h3>The Result: Data-Driven Prioritization with WSJF</h3>\n<p>Once these values have been determined in dialogue, SizeRight automatically calculates the <strong>Weighted Shortest Job First (WSJF)</strong> value. This formula provides a simple, rational algorithm for optimizing value flow.</p>\n<p>The original formula is:\nWSJF = Cost of Delay / Duration</p>\n<p>The SizeRight formula is:\nWSJF = Cost of Delay / Job Size</p>\n<p>The goal is to identify the &quot;Quick Wins&quot; - the items that deliver the <strong>highest value (CoD) for the least amount of effort (Job Size)</strong>.</p>\n<p>This formula often leads to counter-intuitive but economically optimal decisions. A massive feature with a high CoD may be deprioritized in favor of a smaller feature with a medium CoD, because the smaller item delivers its value <em>faster</em>. This &quot;power of the denominator&quot; provides a clear, economically sound recommendation for prioritization.</p>\n<p>Decisions no longer have to be made based on gut feeling or the &quot;loudest voice&quot;. Priorities are justified objectively, allowing you to &quot;<strong>Decide with clarity</strong>.&quot;</p>\n<hr>\n<h2>Analysis from Different Perspectives</h2>\n<p>An essential part of decision-making is considering the results from different perspectives. To support this, SizeRight provides <strong>four distinct views</strong> for analysis, accessible via tabs on the main panel: a <strong>Job Size Visualization</strong> (bubble chart), a <strong>Cost of Delay (CoD) Visualization</strong> (bubble chart), a <strong>WSJF Visualization</strong> (Cost of Delay chart), and a <strong>Relative Estimation Table</strong> view. This grid-based list view allows for direct comparison and sorting of all metrics side-by-side, and simplifies <strong>relative estimation</strong>.</p>\n<p>Users can dynamically switch between these views and sort the entire backlog by different metrics:</p>\n<ul>\n<li><strong>Sorting by &quot;Job Size&quot;:</strong> Which features/epics are the biggest chunks?</li>\n<li><strong>Sorting by &quot;T-shirt size&quot;:</strong> How are the sizes we assign distributed?</li>\n<li><strong>Sorting by &quot;Cost of Delay&quot;:</strong> Which items have the highest business value or the greatest urgency?</li>\n<li><strong>Sorting by WSJF:</strong> What is the most economically sensible order for implementation?</li>\n</ul>\n<p>This dynamic change of perspective enables a deeper analysis and helps to validate and communicate prioritization decisions. The entire workflow - from the initial discussion about size to the final list, analyzed and prioritized from different angles - takes place seamlessly in one application. This integrated process leads in a structured way from a quick agreement to a clear decision - <strong>Align fast. Decide with clarity</strong>.</p>\n<hr>\n<h1>Positioning Statement</h1>\n<h2>What SizeRight Is</h2>\n<p>SizeRight is a purpose-built <strong>facilitation and visualization tool</strong> designed to be displayed on a &quot;big screen&quot; (large meeting room monitor or projector) during interactive <strong>planning sessions</strong>. Its primary mission is to support the team to &quot;<strong>Align fast. Decide with clarity.</strong>&quot; by turning abstract discussions into tangible <strong>data-driven</strong> metrics. It serves as a temporary workspace to bridge the gap between vague ideas and concrete <strong>economic prioritization</strong> using <strong>WSJF</strong> (Weighted Shortest Job First).</p>\n<h2>What SizeRight Is Not</h2>\n<p>SizeRight is <strong>not an Enterprise Solution</strong> or a &quot;System of Record&quot; (like Jira or Azure DevOps). It is explicitly <strong>not designed</strong> to be a long-term <strong>documentation archive</strong> or a database for managing the lifecycle of <strong>Backlog Items</strong>. It does not replace your ALM (Application Lifecycle Management) tool but acts as a tactical pre-processor for it.</p>\n<p>Similarly, SizeRight is <strong>not a controlling tool</strong>. It uses <strong>relative proxies</strong> for the <strong>Weighted Shortest Job First (WSJF)</strong> calucluation (proxy metrics: <strong>Job Size</strong>, consisting of <em>Complexity</em>, <em>Effort</em>, and <em>Uncertainty</em>, as a proxy metric <strong>for Duration</strong>. <strong>Cost of Delay</strong>, consisting of <em>(BV) User/Business Value</em>, <em>(TC) Time Criticality</em>, and <em>(RR/OE) Risk Reduction and/or Opportunity Enablement</em>) to make the essentially inestimable quantifiable and comparable. These values serve tactical alignment and prioritization; they are <strong>not</strong> suitable for accounting purposes, performance reviews, budgeting, or exact reporting.</p>\n<hr>\n<h1>User manual: <strong>SizeRight</strong></h1>\n<p>This is the user guide for SizeRight, a tool for simplifying <strong>agile estimates</strong> and <strong>data-driven prioritization</strong>. This guide describes all the features needed to use the application.</p>\n<p><strong>System Requirement Note:</strong> SizeRight is designed for desktop use. If your screen resolution is below the recommended minimum (e.g., on mobile devices or very small windows), a warning overlay will appear to ensure you have the necessary space for the visualizations. Please maximize your browser window or use a larger screen.</p>\n<h2>1. Core concepts</h2>\n<p>Before using the application, it is important to <strong>understand the underlying estimation concepts</strong> as well as <strong>the three key metrics</strong>.</p>\n<h3>Absolute vs. Relative Estimation</h3>\n<ul>\n<li><strong>Absolute Estimation:</strong> This approach attempts to determine a precise, absolute value for an item (e.g., &quot;This task will take 20 hours&quot; or &quot;This is 8 story points&quot;). This type of estimation is often difficult, time-consuming, and subjective, especially for large, abstract backlog items like features or epics.</li>\n<li><strong>Relative Estimation:</strong> With this approach, items are not evaluated in isolation but are compared with one another. The central question is: &quot;Is Feature A larger or smaller than Feature B?&quot; or &quot;How much larger is A compared to B?&quot;. This method is more intuitive for people, faster, and leads to better common understanding (alignment) within the team.</li>\n</ul>\n<p><strong>SizeRight is fundamentally based on the principle of relative estimation.</strong> Instead of guessing an absolute number, the application guides the team to discuss items based on tangible dimensions (like <strong>complexity</strong>, <strong>effort</strong> and <strong>uncertainty</strong>) and to relate them to each other visually (see Section 8.4, &quot;Relative Estimation Table&quot;).</p>\n<h3>The Three Key Metrics</h3>\n<p>SizeRight uses three key metrics to structure this process:</p>\n<ul>\n<li><strong>Job Size:</strong> This is not a direct estimate, but rather the sum of three dimensions:<ul>\n<li><strong>Complexity:</strong> How difficult is the implementation?</li>\n<li><strong>Effort:</strong> How much work is required?</li>\n<li><strong>Uncertainty:</strong> How many unknowns are there?</li>\n</ul>\n</li>\n<li><strong>Cost of Delay:</strong> This metric quantifies the business value and urgency. It is the sum of:<ul>\n<li><strong>User/Business Value (BV):</strong> The benefit to customers or the company.</li>\n<li><strong>Time Criticality (TC):</strong> Does the item lose value if it is delayed/deferred?</li>\n<li><strong>Risk Reduction / Opportunity Enablement (RR/OE):</strong> Does it reduce risks or open up new opportunities?</li>\n</ul>\n</li>\n<li><strong>Weighted Shortest Job First (WSJF):</strong> The final prioritization value, which is calculated automatically: <code>WSJF = Cost of Delay / Job Size</code>.</li>\n</ul>\n<h2>2. Getting started: Creating a backlog item</h2>\n<ol>\n<li>Clicking on the <strong>&quot;Add New Backlog Item&quot;</strong> button starts the process.</li>\n<li>A dialog box <strong>Create New BI</strong> opens. Enter a meaningful <strong>title</strong> for the feature/epic in the top input field.</li>\n<li>Then proceed with the estimation.</li>\n</ol>\n<p><strong>Loading Demo Data:</strong> If you are new to SizeRight and the list is empty, you will see an option to <strong>&quot;Load Demo Data&quot;</strong> in the main view. Clicking this link (e.g., for EN or DE) will populate the application with example items, allowing you to explore the features and visualizations immediately.</p>\n<h2>3. The estimation process in detail</h2>\n<p>The estimation process is divided into two phases. The first, fundamental phase is determining the <strong>Job Size</strong>. This forms the basis for discussion and the subsequent assignment of a <strong>T-shirt size</strong>. The second phase, determining the <strong>Cost of Delay</strong>, is <em>optional</em>. It is only required if the <strong>WSJF value</strong> is to be calculated for economic prioritization and is not necessary for assigning T-shirt sizes.</p>\n<p><strong>Dialog structure</strong></p>\n<p>The <strong>&quot;Edit BI&quot;</strong> dialog has an expanded layout. The <strong>title</strong> spans the entire width. Below that, the dialog is divided into two columns: on the left are the estimation controls, and on the right is a <strong>rich text editor</strong> for notes and assumptions.</p>\n<p><strong>Step A: Determine the Job Size</strong></p>\n<ol>\n<li>The <strong>&quot;Job Size&quot;</strong> tab must be active.</li>\n<li>The three sliders are moved to determine the joint assessment for <strong>Complexity</strong>, <strong>Effort</strong>, and <strong>Uncertainty</strong>.<ul>\n<li><strong>Clickable Scale:</strong> Instead of dragging the slider, you can also <strong>click directly on the numbers</strong> below the slider line to set the value. The currently selected number is highlighted with a <strong>black circle</strong>.</li>\n</ul>\n</li>\n</ol>\n<p><em>Triangulation (Reference Markers):</em></p>\n<p>To support better relative estimation, SizeRight uses <strong>Triangulation</strong>. If you have defined Reference Items (Minimum/Maximum, see Section 6), their values will appear as colored <strong>markers directly on the scales</strong> of the sliders. This allows you to instantly see how the current item compares to your baseline (e.g., &quot;Is this complexity higher than our Reference Max?&quot;). </p>\n<ul>\n<li>Markers only appear if you have actively set a <strong>Minimum</strong> (Orange) or <strong>Maximum</strong> (Blue) reference item.</li>\n<li>You can toggle these markers on/off using the <strong>&quot;Show/Hide Markers&quot;</strong> button below the sliders.</li>\n<li>This preference is saved globally in your settings and included in exports.</li>\n</ul>\n<p><em>Important notes on &quot;Job Size&quot; estimation:</em></p>\n<ul>\n<li><strong>Saving:</strong> To save a new backlog item, <strong>only a title is required</strong>. First, a list of items can be created, which will then be estimated at a later date. However, a &quot;Job Size&quot; value (and T-Shirt size) will only be calculated once all three values (Complexity, Effort, Uncertainty) are set to a value greater than 0.</li>\n<li><strong>Minimum value:</strong> Once a slider has been moved away from 0, the <strong>lowest possible value per scale is 1</strong>.</li>\n<li><strong>Reset Button:</strong> You can use the &quot;<strong>Reset Job Size</strong>&quot; button to set all three &quot;Job Size&quot; sliders back to zero.</li>\n<li><strong>Scale:</strong> By default, the tool uses the <strong>SAFe Fibonacci scale</strong> (1, 2, 3, 5, 8). This can be changed in the settings (see section 11).</li>\n</ul>\n<p><strong>Step B: Determine the &quot;Cost of Delay&quot; for WSJF prioritization</strong></p>\n<ol>\n<li>Clicking on the &quot;<strong>Cost of Delay</strong>&quot; tab changes the view.</li>\n<li>The three sliders are moved to determine the joint assessment for <strong>User/Business Value (BV)</strong>, <strong>Time Criticality (TC)</strong> and <strong>Risk Reduction/Opportunity Enablement (RR/OE)</strong>.</li>\n<li>Once all three <strong>CoD values</strong> and the <strong>Job Size values</strong> have been set, the calculated WSJF value will automatically appear in the upper right corner of the dialog box.</li>\n<li><em>Note:</em> Reference markers (Triangulation) are also available on these scales if the corresponding reference items are set.</li>\n</ol>\n<p><em>Important note:</em> * <strong>The WSJF value</strong> cannot be calculated without a completed &quot;Job Size&quot; and &quot;Cost of Delay&quot; estimate.</p>\n<ul>\n<li><strong>Reset Button:</strong> You can use the &quot;<strong>Reset Cost of Delay</strong>&quot; button to set all three &quot;Cost of Delay&quot; sliders back to zero.</li>\n</ul>\n<p><strong>Enter additional information</strong>\nThere is a <strong>rich text editor</strong> in the right-hand column of the dialog box. Context-related information such as <strong>assumptions, risks, or open questions</strong> can be documented here.</p>\n<ul>\n<li><strong>Formatting:</strong> You can format text (bold, italic, underline, strikethrough) and <strong>insert hyperlinks</strong>.</li>\n<li><strong>Colors:</strong> You can apply one of <strong>four preset highlight colors</strong> (e.g., for warnings or important info) to text. These specific colors can be customized in the global <strong>Settings</strong> and are saved with your project data.</li>\n<li><strong>Paste Sanitization:</strong> When pasting content from external sources (Word, Websites), the editor automatically cleans up the text, removing unsupported styles while preserving the basic structure.</li>\n</ul>\n<p><strong>Completing the estimation and Navigation</strong></p>\n<ul>\n<li>Clicking &quot;<strong>Save</strong>&quot; creates or updates the backlog item. The button is active as long as a <strong>title</strong> has been entered.</li>\n<li><strong>Rapid Navigation:</strong> You can switch directly to the <strong>Previous</strong> or <strong>Next</strong> item in the backlog using the arrow buttons in the dialog header.<ul>\n<li><strong>Auto-Save:</strong> If you have made changes to the current item, the button label will change to <strong>&quot;Save &amp; Next&quot;</strong> (or &quot;Save &amp; Previous&quot;). Clicking it will automatically save your changes and immediately load the next item, allowing for a very fast workflow without closing the dialog.</li>\n</ul>\n</li>\n<li>Clicking <strong>&quot;Cancel&quot;</strong> closes the Dialog without saving.</li>\n</ul>\n<h2>4. Overview of the user interface</h2>\n<p>The main view of SizeRight is divided into two main panes:</p>\n<ul>\n<li>The <strong>&quot;Backlog Item List&quot;</strong> (left pane), where items are created and managed.</li>\n<li>The <strong>&quot;Main Display Area&quot;</strong> (right pane), which is organized into <strong>four tabs</strong> for different analysis perspectives:<ol>\n<li><strong>Job Size Visualization:</strong> A bubble-chart view focusing on &quot;Job Size&quot; (Complexity, Effort, Uncertainty).</li>\n<li><strong>CoD Visualization:</strong> A bubble-chart view focusing on &quot;Cost of Delay&quot; (BV, TC, RR/OE).</li>\n<li><strong>WSJF Visualization:</strong> A chart view visualizing the economic impact (Cost of Delay) over time for different sequences.</li>\n<li><strong>Relative Estimation Table:</strong> A powerful grid view that displays all items and their metrics in a sortable, comparable table.</li>\n</ol>\n</li>\n</ul>\n<p>The size of these two panes can be adjusted by moving the <strong>divider line</strong> in the middle with the mouse to focus on the more important view.</p>\n<h2>5. Manage backlog items</h2>\n<p>Backlog items can be edited in two ways:</p>\n<ul>\n<li>Via the <strong>Backlog Item List</strong>: Clicking on the <strong>Edit</strong> button for an item opens the &quot;Edit BI&quot;-dialog.</li>\n<li>Via the <strong>Visualization Area</strong>: When you move the mouse pointer over a visualization card (&quot;Job Size Visualization&quot; or &quot;CoD Visualization&quot;) an edit icon appears in the upper right corner. Clicking on it also opens the Edit BI dialog box.</li>\n</ul>\n<p>To remove an item, use the <strong>&quot;Delete&quot;</strong> button in the <strong>Backlog Item List</strong>. A confirmation message appears first.</p>\n<h2>6. Setting a Reference Item</h2>\n<p>A core part of <strong>relative estimation</strong> is comparing new items to a known reference item. SizeRight allows you to set any backlog item as a <strong>Reference Item</strong>. This system supports two types of references to frame your estimation scale:</p>\n<ol>\n<li><strong>Minimum Reference (-):</strong> Represents a small or simple item (your baseline for &quot;Low&quot;).</li>\n<li><strong>Maximum Reference (+):</strong> Represents a large or complex item (your baseline for &quot;High&quot;).</li>\n</ol>\n<p><strong>How to set a reference:</strong></p>\n<ul>\n<li>In the <strong>Backlog Item List</strong> (left pane), each item has two small icons:<ul>\n<li>Click the <strong>Orange Minus (-)</strong> icon to set the item as the <strong>Minimum Reference</strong>.</li>\n<li>Click the <strong>Blue Plus (+)</strong> icon to set the item as the <strong>Maximum Reference</strong>.</li>\n</ul>\n</li>\n<li>You can choose to set only a Minimum, only a Maximum, both, or neither.</li>\n</ul>\n<p><strong>Effect of setting a reference:</strong></p>\n<ol>\n<li><strong>Highlighting:</strong> Reference items are highlighted in the list and pinned to the top of all standard display views (&quot;Job Size Visualization&quot;, &quot;CoD Visualization&quot;, and &quot;Relative Estimation Table&quot;).</li>\n<li><strong>Triangulation:</strong> Setting a reference activates the corresponding markers on the estimation scales in the &quot;Edit BI&quot; dialog (see Section 3).</li>\n</ol>\n<p><strong>Removing a reference:</strong>\nSimply click the highlighted Minus (-) or Plus (+) icon again to unset the reference.</p>\n<p><em>Important Note on Reference Item Behavior:</em></p>\n<ul>\n<li><strong>Standard Views:</strong> In the Job Size, CoD, and Relative Estimation Table views, the reference item is physically moved to the top.</li>\n<li><strong>WSJF Visualization View:</strong> In this view, the reference item is <strong>not</strong> pinned to the top, as the sequence shown in the charts is crucial.</li>\n<li><strong>&quot;Custom Sort&quot; Mode:</strong> When using &quot;Custom Sort&quot; (see Section 9), the reference item remains in its defined position within the list. However, a <strong>non-interactive clone</strong> of the reference item is displayed in the top slot for comparison purposes.</li>\n</ul>\n<p>While an item is pinned as a reference (in standard views), its values cannot be edited directly in the grid of the &quot;Relative Estimation table&quot; view. This prevents accidental changes to the reference. To edit the reference item, use the <strong>Edit</strong> button (either in the list or in the visualization) to open the &quot;Edit BI&quot; dialog.</p>\n<h2>7. Assign T-shirt sizes</h2>\n<p>Once the <strong>Job Size</strong> has been calculated, a relative <strong>T-shirt size</strong> can be assigned.</p>\n<ol>\n<li><p>This is done by clicking either on the <strong>gray button with the - or size in it</strong> (e.g., [ M ]) in the <strong>backlog item list</strong> or directly on the corresponding <strong>T-shirt size label</strong> on the <strong>visualization card</strong> in the <strong>Job Size Visualization</strong> tab.</p>\n</li>\n<li><p>A pop-up menu appears in which the appropriate size (e.g., S, M, L, XL) can be selected. The selection is saved immediately.</p>\n</li>\n</ol>\n<p>This assignment is not final. The <strong>T-shirt size</strong> can be changed again at any time in the same way if the assessment is adjusted over time.</p>\n<h2>8. Using the Display Views</h2>\n<p>The main display area provides four tabs to analyze the backlog.</p>\n<h3>8.1 Job Size Visualization</h3>\n<p>This tab (the default view) displays a <strong>graphical representation of each backlog item</strong> in card form.</p>\n<p>The cards contain:</p>\n<ul>\n<li>A <strong>bubble chart</strong>, whose outer circle represents the <strong>Job Size</strong> and whose inner circles represent the proportions of <strong>Complexity</strong>, <strong>Effort</strong> and <strong>Uncertainty</strong>.</li>\n<li>A <strong>T-shirt size label</strong> for quick classification (clickable if Job Size is complete).</li>\n<li>A <strong>WSJF value indicator</strong> displayed next to the <strong>T-shirt size</strong>, provided that a WSJF value has been calculated.</li>\n<li>An <strong>edit icon</strong> that appears when the mouse is moved to the upper right corner of the map.</li>\n</ul>\n<p>This allows you to visually compare <em>how</em> an item is sized.</p>\n<h3>8.2 CoD Visualization</h3>\n<p>This tab shows a graphical representation of each backlog item. The cards contain:</p>\n<ul>\n<li>A <strong>bubble chart</strong>, whose outer circle represents the <strong>Cost of Delay</strong> and whose inner circles represent the proportions of <strong>(BV) User/Business Value</strong>, <strong>(TC) Time Criticality</strong>, and <strong>(RR/OE)Risk Reduction/Opportunity Enablement</strong>.</li>\n<li>A <strong>WSJF value indicator</strong> provided that a WSJF value has been calculated.</li>\n<li>An <strong>edit icon</strong> that appears when the mouse is moved to the upper right corner of the map.</li>\n</ul>\n<p>This allows for a visual comparison of <em>why</em> an item is valuable, separate from its size.</p>\n<h3>8.3 WSJF Visualization</h3>\n<p>This new tab provides a powerful way to visualize the economic impact of different implementation sequences using <strong>Cost of Delay charts</strong>. It displays two charts side-by-side:</p>\n<ul>\n<li><strong>Optimal Order (by WSJF):</strong> This chart shows the sequence that minimizes the total accumulated Cost of Delay, based purely on the calculated WSJF values (highest WSJF first). This represents the economically ideal order.<ul>\n<li>You can <strong>collapse or expand</strong> this top chart by clicking on its title bar to focus on the current order comparison.</li>\n</ul>\n</li>\n<li><strong>Current Order/Sorting:</strong> This chart shows the sequence based on the <strong>currently selected sort order</strong> in the filter bar (e.g., sorted by Job Size, CoD, T-Shirt Size, or Custom Order).</li>\n</ul>\n<p><strong>Understanding the Charts:</strong></p>\n<ul>\n<li><strong>X-Axis:</strong> Represents the <strong>Cumulative Job Size</strong> as items are completed in sequence.</li>\n<li><strong>Y-Axis:</strong> Represents the <strong>Cost of Delay</strong> (value per unit of time, e.g., per week). The height of the bars indicates the CoD of individual items.</li>\n<li><strong>Colored Blocks:</strong> Represent an item being <strong>processed</strong>. The number inside is the item&#39;s <strong>WSJF Rank</strong> (1 being the highest WSJF). You can click the rank number in the Backlog Item List (when this tab is active) to change its color for visual grouping.</li>\n<li><strong>Gray Blocks:</strong> Represent items <strong>waiting</strong> while another item is being processed. The number inside shows the <strong>Accumulated Cost of Delay</strong> incurred by &lt;em&gt;that specific item&lt;/em&gt; up to that point in time.</li>\n<li><strong>Total Delay Cost:</strong> Displayed above each chart, this number represents the sum of all accumulated delay costs for &lt;em&gt;all&lt;/em&gt; items in that specific sequence. Comparing the total cost of the &quot;Current Order&quot; to the &quot;Optimal Order&quot; shows the economic impact of deviating from the pure WSJF sequence.</li>\n</ul>\n<p>This view helps answer questions like: &quot;How much does it cost us &lt;em&gt;economically&lt;/em&gt; if we implement items in our current preferred order compared to the mathematically optimal WSJF order?&quot;</p>\n<p><strong>WSJF Rank Display:</strong> When this tab is active, the calculated <strong>WSJF Rank</strong> (based on the optimal order) is also displayed as a colored tag next to the T-Shirt size in the <strong>Backlog Item List</strong>. Clicking this tag cycles through different background colors, allowing you to visually group or highlight items across the application based on their WSJF rank. These custom colors are saved during export.</p>\n<h3>8.4 Relative Estimation Table</h3>\n<p>The central view for <strong>relative estimation</strong>. It provides a tabular overview of all items and their metrics.</p>\n<ul>\n<li><strong>Columns:</strong> Displays all metrics side by side (<strong>Complexity</strong>, <strong>Effort</strong>, <strong>Uncertainty</strong>, <strong>Job Size</strong>, <strong>BV</strong>, <strong>TC</strong>, <strong>RR/OE</strong>, <strong>CoD</strong>, and <strong>WSJF</strong>).</li>\n<li><strong>Sorting:</strong> Clicking on the <strong>column header</strong> of a metric sorts the entire list accordingly (unless &quot;Custom Sort&quot; or &quot;Lock Sort Order&quot; is active). Indicators in the header show the active sort column and direction.</li>\n<li><strong>Column highlighting:</strong> Clicking on the <strong>eye icon</strong> in a header highlights the column for that specific metric across all rows, making it easier to compare values vertically.</li>\n<li><strong>Direct editing:</strong> Non-calculated cells (such as Complexity, Effort, etc.) can be quickly changed via a pop-up by clicking on them without having to open the &quot;Edit BI&quot; dialog.</li>\n<li><strong>Calculated values:</strong> <strong>Job Size</strong>, <strong>CoD</strong>, and <strong>WSJF</strong> are automatically calculated and displayed. If data is missing, the cell shows na (not available) and a tooltip explains which values are still needed.</li>\n</ul>\n<h2>9. Filtering and sorting the view</h2>\n<p>Above the <strong>Backlog Item List</strong> are filters for customizing the view.</p>\n<ul>\n<li><strong>Change sorting criteria:</strong> Clicking on the <strong>Job Size</strong>, <strong>T-Shirt Size</strong>, <strong>Cost of Delay</strong>, or <strong>WSJF</strong> buttons changes the sorting criterion.</li>\n<li><strong>Change sorting direction:</strong> The arrow buttons (ascending and descending) reverse the order.</li>\n<li><strong>Custom Sort Order:</strong> Clicking the <strong>&quot;Custom Sort&quot; button</strong> (icon with people/bars) activates drag &amp; drop mode for the <strong>Backlog Item List</strong>. You can now manually rearrange the items into any desired sequence. This custom order is then reflected in all views.</li>\n<li><strong>Effect:</strong> The selected sorting, direction, or custom order is applied <strong>globally to all display views</strong> (&quot;Job Size Visualization&quot;, &quot;CoD Visualization&quot;, &quot;WSJF Visualization&quot;, and &quot;Relative Estimation Table&quot;).</li>\n<li><strong>Reset Sort &amp; Filter:</strong> Clicking the <strong>Reset Filters &amp; Sort</strong> button (the circular &quot;x&quot; icon) will remove all active sorting and filters, <strong>excluding any custom order</strong>. The backlog will revert to its <strong>original creation order</strong>.</li>\n<li><strong>Locking Sort Order:</strong> Once a sorting order (standard or custom) has been agreed upon, click on the <strong>lock icon</strong>. This will freeze the current order of the items and prevent accidental changes during analysis or editing via sorting buttons or drag &amp; drop. Clicking on the lock again will unlock the items.</li>\n</ul>\n<p>The currently active sorting is displayed for orientation in the header of the <strong>visualization area</strong> next to the legend (e.g., &quot;Sorted by: WSJF - Descending&quot; or &quot;Sorted by: Custom Sort Order&quot;).</p>\n<p><strong>Sorting from the Grid:</strong> In the <strong>Relative Estimation Table</strong> view, you can also sort by clicking on the column header of a metric (unless Custom Sort or Lock Sort is active).</p>\n<p><strong>Graying out irrelevant items:</strong> If values for a sorting criterion are missing (e.g., sorting by <strong>WSJF</strong>, but the <strong>cost of delay</strong> has not been estimated for an item), <strong>these backlog items are grayed out in all views</strong>. This means that they are excluded from the current sorting, but remain visible for context. This visual cue is vital: it shows which items are excluded from the current sorting due to missing data. Reference items are generally excluded from being grayed out based on sorting relevance.</p>\n<h2>10. Importing and exporting data</h2>\n<p>SizeRight offers options to save your work or export data for external use.</p>\n<ul>\n<li><strong>JSON Export (Backup):</strong> Clicking on the <strong>Export</strong> icon (floppy disk) saves the entire work status in a <code>.json</code> file. This file contains <strong>all backlog items</strong> as well as <strong>all current application settings</strong> (such as <strong>language</strong>, selected <strong>scale type</strong>, <strong>T-shirt size</strong> definitions, <strong>color settings</strong>, defined <strong>Editor Colors</strong>, <strong>Triangulation/Marker settings</strong>, the current <strong>sort criteria and direction</strong>, any defined <strong>custom sort order</strong>, and custom <strong>WSJF rank colors</strong>).</li>\n<li><strong>CSV Export (Table):</strong> Clicking on the <strong>CSV</strong> button opens a dialog to export your backlog as a <code>.csv</code> file. This format is ideal for opening data in Excel, Numbers, or Google Sheets.<ul>\n<li><strong>CSV Options:</strong> Before exporting, you can choose the <strong>Sorting</strong> for the export file (e.g., sort by WSJF or Job Size).</li>\n<li><strong>Data Content:</strong> The CSV includes all metrics, calculated values, and your <strong>Notes &amp; Assumptions</strong>. Note that text formatting from the rich text editor (like bold or lists) is automatically converted to <strong>Markdown</strong> format for better readability in text cells.</li>\n</ul>\n</li>\n<li><strong>Import:</strong> Clicking on the import icon (open folder) allows you to load a previously exported <code>.json</code> file. During import, <strong>both the backlog and all saved settings are restored</strong>, so that the entire workspace can be shared with others or backed up.</li>\n</ul>\n<h2>11. Adjust settings</h2>\n<p>The settings can be accessed via the gear icon, where the tool can be customized to suit your needs:</p>\n<ul>\n<li><strong>Language:</strong> A choice can be made between German and English.</li>\n<li><strong>Scale:</strong> The global scale for all sliders is set here. A choice can be made between <strong>Arithmetic (1-8)</strong> and <strong>SAFe Fibonacci (1, 2, 3, 5, 8)</strong>.</li>\n<li><strong>Reference Markers:</strong> Check &quot;Show reference markers on scales&quot; to enable the <strong>Triangulation</strong> feature globally. This preference is saved and exported.</li>\n<li><strong>T-shirt sizes:</strong> Different <strong>T-shirt sizes</strong> can be activated or deactivated.</li>\n<li><strong>Color settings:</strong> A section allows you to change the colors of the circles, including numbers for <strong>complexity</strong>, <strong>effort</strong>, <strong>uncertainty</strong>, <strong>(BV) user and business value</strong>, <strong>(TC) time criticality</strong>, <strong>(RR/OE) risk reduction and/or opportunity creation</strong>, and the outer circle of the visualizations via the color picker.</li>\n<li><strong>Editor Colors:</strong> Customize the four preset colors available in the &quot;Notes &amp; Assumptions&quot; rich text editor. These are also saved/exported.</li>\n<li><strong>Reset settings:</strong> This button resets <strong>all</strong> options in this dialog to their original default values.</li>\n</ul>\n<h2>12. Reset Application</h2>\n<p>If you wish to completely clear all data and start fresh, you can use the <strong>&quot;Reset App&quot;</strong> button (located in the header area).</p>\n<ul>\n<li>This action performs a <strong>Factory Reset</strong>: it clears all backlog items, deletes all custom settings, and removes any data stored in your browser&#39;s Local Storage.</li>\n<li><strong>Warning:</strong> This action is irreversible. The application will prompt you to <strong>Export</strong> your data as a JSON backup before confirming the deletion.</li>\n</ul>\n<h2>13. Information and updates</h2>\n<p>Clicking on the <strong>info icon (i)</strong> displays details about the software version, contact information, and the software license. This dialog also includes an <strong>update check</strong>.\nThe application automatically checks whether a new version is available and displays a notification bar at the top of the browser when an update is found.\nClicking the <strong>help icon (&quot;?&quot;)</strong> opens this user manual in a new browser tab.</p>\n<hr>\n<h1>FAQ</h1>\n<h2>Q: Why does SizeRight lack API integrations with enterprise tools</h2>\n<p><strong>A:</strong> SizeRight is designed as a focused, session-based tool, not an integrated enterprise platform. The workflow is intentional: A facilitator acts as the scribe, entering <strong>Backlog Items</strong> before or during the session. The tool creates a visual environment to enable <strong>Relative Estimation</strong> and discussion. Once the <strong>Job Size</strong> and <strong>Cost of Delay</strong> are determined and the planning session concludes, the results are exported via the standard <strong>CSV export</strong> feature. This file is then used to update your primary System of Record.</p>\n<h2>Q: Is the math behind the calculation reliable?</h2>\n<p><strong>A:</strong> The application does not claim absolute mathematical precision (e.g., hours or days). Instead, it strictly follows the principles of <strong>Relative Estimation</strong>. To ensure accuracy within this relative framework, SizeRight supports the definition of <strong>Reference Items</strong> (Min/Max). This allows the team to <strong>triangulate</strong> new items against known baselines, ensuring that the relationships between items are consistent and valid for prioritization.</p>\n<h2>Q: Why are the scales limited to a maximum value of 8?</h2>\n<p><strong>A:</strong> SizeRight utilizes <strong>Relative Estimation</strong>, meaning a value of 8 represents a magnitude <strong>8x larger</strong> than a value of <strong>1</strong>. Since this tool targets strategic <strong>Backlog Items</strong> (like Features or Epics), it is unrealistic for a single item to be more than 8 times larger than the smallest reference item. If an item exceeds this ratio, it usually indicates the need to <strong>split</strong> the item into smaller pieces. Conversely, if you frequently hit the upper limit, it may indicate that your baseline item (the value of 1) is sliced too granularly (e.g., estimating tasks instead of features). Furthermore, the combined score for <strong>Job Size</strong> or <strong>Cost of Delay</strong> can reach up to 24 units. The use of the <strong>Fibonacci scale</strong> (1, 2, 3, 5, 8) prevents &quot;false precision&quot; by forcing teams to <strong>bucket</strong> estimates into larger categories as uncertainty increases.</p>\n<h2>Q: Why does the application require a high screen resolution?</h2>\n<p><strong>A:</strong> SizeRight is optimized for 1920x1080 or higher resolution to serve as a <strong>visual radiator</strong> on a large meeting room monitor or projector. It is designed to show the &quot;Big Picture&quot;, including <strong>Bubble Charts</strong>, <strong>WSJF</strong> rankings, and the <strong>Relative Estimation Table</strong> side-by-side, to facilitate group discussion. This is also why the software is explicitly <strong>not responsive</strong> or optimized for mobile devices. The core value of the tool lies in this simultaneous juxtaposition of data; adapting the layout for smaller screens would destroy this comparability and thus nullify the software&#39;s primary benefit.</p>\n<h2>Q: Is my data secure? Is it sent to a server?</h2>\n<p><strong>A:</strong> SizeRight operates entirely as a client-side application within your browser. No data is transmitted to any external server or cloud service. The <strong>Backlog Items</strong> are stored temporarily in your browser&#39;s local storage solely for session persistence. You maintain full control over your data via the local <strong>JSON/CSV Export</strong> functionality. Additionally, as <strong>Open Source</strong> software, the source code is fully transparent and can be audited or modified. The tool consists of a single, lightweight file, ensuring easy distribution and maximum compatibility with almost any browser from the last years. This architecture eliminates external dependencies, making it safe for use even in high-security environments with strict compliance requirements.</p>\n<h2>Q: Why use &quot;Bubble Charts&quot; instead of a simple spreadsheet?</h2>\n<p><strong>A:</strong> To achieve the goal to &quot;<strong>Align fast</strong>,&quot; visual perception is faster than processing numbers. The <strong>Bubble Charts</strong> allow the team to instantly recognize <em>why</em> a <strong>Job Size</strong> is large (e.g., small <strong>Effort</strong> but massive <strong>Uncertainty</strong>). This visualization exposes hidden assumptions and drives the conversation more effectively than a tabular list.</p>\n<h2>Q: How do we prioritize architectural work or &quot;Enablers&quot; against business features?</h2>\n<p><strong>A:</strong> Use the <strong>RR/OE</strong> (Risk Reduction / Opportunity Enablement) scale within the <strong>Cost of Delay</strong> estimation. This component ensures that technical items, such as infrastructure updates or security fixes, receive a quantified economic value. This allows them to compete fairly for <strong>WSJF</strong> priority against standard features based on <strong>User/Business Value</strong>.</p>\n<h2>Q: How is data persisted, and what happens if the browser crashes?</h2>\n<p><strong>A:</strong> Data persistence in the browser&#39;s local storage serves a single, safety-critical purpose: to prevent data loss in the event of an accidental page refresh during a live session. It is <strong>not</strong> intended for long-term archiving or historical documentation. For saving progress or sharing results, users should rely on the <strong>Export</strong> (JSON/CSV) functionality.</p>\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>SizeRight Documentation</title>\r\n    <style>\r\n        body { \r\n            font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif;\r\n            line-height: 1.4; \r\n            color: #333;\r\n            background-color: #fff;\r\n        }\r\n\r\n        #wrapper {\r\n            max-width: 900px;\r\n            margin: 0 auto;\r\n            background-color: #fbfbfb;\r\n            padding: 35px;\r\n            border-radius: 8px;\r\n            border: 1px solid #ddd;\r\n            margin-top: 35px;\r\n            margin-bottom: 35px;\r\n            box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\r\n        }\r\n\r\n        .doc-header {\r\n            display: flex;\r\n            align-items: baseline;\r\n            gap: 1em;\r\n            margin-bottom: 25px;\r\n        }\r\n        .doc-header h1 {\r\n            margin: 0;\r\n            border: none;\r\n            padding: 0;\r\n            font-size: 1.6em;\r\n        }\r\n        .doc-header p {\r\n            margin: 0;\r\n            color: #666;\r\n            font-size: 1em;\r\n        }\r\n\r\n        h1, h2, h3 { \r\n            border-bottom: 1px solid #ddd;\r\n            padding-bottom: 10px;\r\n            margin-top: 40px;\r\n        }\r\n        h1 { font-size: 1.3em; }\r\n        h2 { font-size: 1.1em; }\r\n        code { \r\n            background-color: #eee;\r\n            padding: 2px 5px;\r\n            border-radius: 4px;\r\n            font-family: \"SFMono-Regular\", Consolas, \"Liberation Mono\", Menlo, Courier, monospace;\r\n        }\r\n        ul {\r\n            padding-left: 20px;\r\n        }\r\n        li {\r\n            margin-bottom: 10px;\r\n        }\r\n        strong {\r\n            color: #111;\r\n        }\r\n        a {\r\n            color: #0366d6;\r\n            text-decoration: none;\r\n        }\r\n        a:hover {\r\n            text-decoration: underline;\r\n        }\r\n        /* Styles for the Table of Contents */\r\n        .toc {\r\n            background-color: #f6f6f6;\r\n            border: 1px solid #ddd;\r\n            border-radius: 5px;\r\n            padding: 10px 20px;\r\n        }\r\n        .toc ul {\r\n            list-style-type: none;\r\n            padding-left: 0;\r\n        }\r\n        .toc ul ul {\r\n            padding-left: 20px;\r\n        }\r\n        .toc li {\r\n            margin-bottom: 4px;\r\n        }\r\n        .toc h2 {\r\n            margin-top: 0px;\r\n        }\r\n        .toc strong{\r\n            color: #0366d6;\r\n            text-decoration: none;            \r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n    <div id=\"wrapper\"></div>\r\n</body>\r\n</html>"
            },
            "buildNumber": null
        }
    </script>
    <script>
        /*! Sortable 1.15.6 - MIT | git://github.com/SortableJS/Sortable.git */ ! function(t, e) {
            "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : (t = t || self).Sortable = e()
        }(this, function() {
            "use strict";

            function e(e, t) {
                var n, o = Object.keys(e);
                return Object.getOwnPropertySymbols && (n = Object.getOwnPropertySymbols(e), t && (n = n.filter(function(t) {
                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                })), o.push.apply(o, n)), o
            }

            function I(o) {
                for (var t = 1; t < arguments.length; t++) {
                    var i = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? e(Object(i), !0).forEach(function(t) {
                        var e, n;
                        e = o, t = i[n = t], n in e ? Object.defineProperty(e, n, {
                            value: t,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : e[n] = t
                    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(o, Object.getOwnPropertyDescriptors(i)) : e(Object(i)).forEach(function(t) {
                        Object.defineProperty(o, t, Object.getOwnPropertyDescriptor(i, t))
                    })
                }
                return o
            }

            function o(t) {
                return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                    return typeof t
                } : function(t) {
                    return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
                })(t)
            }

            function a() {
                return (a = Object.assign || function(t) {
                    for (var e = 1; e < arguments.length; e++) {
                        var n, o = arguments[e];
                        for (n in o) Object.prototype.hasOwnProperty.call(o, n) && (t[n] = o[n])
                    }
                    return t
                }).apply(this, arguments)
            }

            function i(t, e) {
                if (null == t) return {};
                var n, o = function(t, e) {
                    if (null == t) return {};
                    for (var n, o = {}, i = Object.keys(t), r = 0; r < i.length; r++) n = i[r], 0 <= e.indexOf(n) || (o[n] = t[n]);
                    return o
                }(t, e);
                if (Object.getOwnPropertySymbols)
                    for (var i = Object.getOwnPropertySymbols(t), r = 0; r < i.length; r++) n = i[r], 0 <= e.indexOf(n) || Object.prototype.propertyIsEnumerable.call(t, n) && (o[n] = t[n]);
                return o
            }

            function r(t) {
                return function(t) {
                    if (Array.isArray(t)) return l(t)
                }(t) || function(t) {
                    if ("undefined" != typeof Symbol && null != t[Symbol.iterator] || null != t["@@iterator"]) return Array.from(t)
                }(t) || function(t, e) {
                    if (t) {
                        if ("string" == typeof t) return l(t, e);
                        var n = Object.prototype.toString.call(t).slice(8, -1);
                        return "Map" === (n = "Object" === n && t.constructor ? t.constructor.name : n) || "Set" === n ? Array.from(t) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? l(t, e) : void 0
                    }
                }(t) || function() {
                    throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                }()
            }

            function l(t, e) {
                (null == e || e > t.length) && (e = t.length);
                for (var n = 0, o = new Array(e); n < e; n++) o[n] = t[n];
                return o
            }

            function t(t) {
                if ("undefined" != typeof window && window.navigator) return !!navigator.userAgent.match(t)
            }
            var y = t(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),
                w = t(/Edge/i),
                s = t(/firefox/i),
                u = t(/safari/i) && !t(/chrome/i) && !t(/android/i),
                c = t(/iP(ad|od|hone)/i),
                n = t(/chrome/i) && t(/android/i),
                d = {
                    capture: !1,
                    passive: !1
                };

            function h(t, e, n) {
                t.addEventListener(e, n, !y && d)
            }

            function p(t, e, n) {
                t.removeEventListener(e, n, !y && d)
            }

            function f(t, e) {
                if (e && (">" === e[0] && (e = e.substring(1)), t)) try {
                    if (t.matches) return t.matches(e);
                    if (t.msMatchesSelector) return t.msMatchesSelector(e);
                    if (t.webkitMatchesSelector) return t.webkitMatchesSelector(e)
                } catch (t) {
                    return
                }
            }

            function g(t) {
                return t.host && t !== document && t.host.nodeType ? t.host : t.parentNode
            }

            function P(t, e, n, o) {
                if (t) {
                    n = n || document;
                    do {
                        if (null != e && (">" !== e[0] || t.parentNode === n) && f(t, e) || o && t === n) return t
                    } while (t !== n && (t = g(t)))
                }
                return null
            }
            var m, v = /\s+/g;

            function k(t, e, n) {
                var o;
                t && e && (t.classList ? t.classList[n ? "add" : "remove"](e) : (o = (" " + t.className + " ").replace(v, " ").replace(" " + e + " ", " "), t.className = (o + (n ? " " + e : "")).replace(v, " ")))
            }

            function R(t, e, n) {
                var o = t && t.style;
                if (o) {
                    if (void 0 === n) return document.defaultView && document.defaultView.getComputedStyle ? n = document.defaultView.getComputedStyle(t, "") : t.currentStyle && (n = t.currentStyle), void 0 === e ? n : n[e];
                    o[e = !(e in o || -1 !== e.indexOf("webkit")) ? "-webkit-" + e : e] = n + ("string" == typeof n ? "" : "px")
                }
            }

            function b(t, e) {
                var n = "";
                if ("string" == typeof t) n = t;
                else
                    do {
                        var o = R(t, "transform")
                    } while (o && "none" !== o && (n = o + " " + n), !e && (t = t.parentNode));
                var i = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;
                return i && new i(n)
            }

            function D(t, e, n) {
                if (t) {
                    var o = t.getElementsByTagName(e),
                        i = 0,
                        r = o.length;
                    if (n)
                        for (; i < r; i++) n(o[i], i);
                    return o
                }
                return []
            }

            function O() {
                var t = document.scrollingElement;
                return t || document.documentElement
            }

            function X(t, e, n, o, i) {
                if (t.getBoundingClientRect || t === window) {
                    var r, a, l, s, c, u, d = t !== window && t.parentNode && t !== O() ? (a = (r = t.getBoundingClientRect()).top, l = r.left, s = r.bottom, c = r.right, u = r.height, r.width) : (l = a = 0, s = window.innerHeight, c = window.innerWidth, u = window.innerHeight, window.innerWidth);
                    if ((e || n) && t !== window && (i = i || t.parentNode, !y))
                        do {
                            if (i && i.getBoundingClientRect && ("none" !== R(i, "transform") || n && "static" !== R(i, "position"))) {
                                var h = i.getBoundingClientRect();
                                a -= h.top + parseInt(R(i, "border-top-width")), l -= h.left + parseInt(R(i, "border-left-width")), s = a + r.height, c = l + r.width;
                                break
                            }
                        } while (i = i.parentNode);
                    return o && t !== window && (o = (e = b(i || t)) && e.a, t = e && e.d, e && (s = (a /= t) + (u /= t), c = (l /= o) + (d /= o))), {
                        top: a,
                        left: l,
                        bottom: s,
                        right: c,
                        width: d,
                        height: u
                    }
                }
            }

            function Y(t, e, n) {
                for (var o = M(t, !0), i = X(t)[e]; o;) {
                    var r = X(o)[n];
                    if (!("top" === n || "left" === n ? r <= i : i <= r)) return o;
                    if (o === O()) break;
                    o = M(o, !1)
                }
                return !1
            }

            function B(t, e, n, o) {
                for (var i = 0, r = 0, a = t.children; r < a.length;) {
                    if ("none" !== a[r].style.display && a[r] !== jt.ghost && (o || a[r] !== jt.dragged) && P(a[r], n.draggable, t, !1)) {
                        if (i === e) return a[r];
                        i++
                    }
                    r++
                }
                return null
            }

            function F(t, e) {
                for (var n = t.lastElementChild; n && (n === jt.ghost || "none" === R(n, "display") || e && !f(n, e));) n = n.previousElementSibling;
                return n || null
            }

            function j(t, e) {
                var n = 0;
                if (!t || !t.parentNode) return -1;
                for (; t = t.previousElementSibling;) "TEMPLATE" === t.nodeName.toUpperCase() || t === jt.clone || e && !f(t, e) || n++;
                return n
            }

            function E(t) {
                var e = 0,
                    n = 0,
                    o = O();
                if (t)
                    do {
                        var i = b(t),
                            r = i.a,
                            i = i.d
                    } while (e += t.scrollLeft * r, n += t.scrollTop * i, t !== o && (t = t.parentNode));
                return [e, n]
            }

            function M(t, e) {
                if (!t || !t.getBoundingClientRect) return O();
                var n = t,
                    o = !1;
                do {
                    if (n.clientWidth < n.scrollWidth || n.clientHeight < n.scrollHeight) {
                        var i = R(n);
                        if (n.clientWidth < n.scrollWidth && ("auto" == i.overflowX || "scroll" == i.overflowX) || n.clientHeight < n.scrollHeight && ("auto" == i.overflowY || "scroll" == i.overflowY)) {
                            if (!n.getBoundingClientRect || n === document.body) return O();
                            if (o || e) return n;
                            o = !0
                        }
                    }
                } while (n = n.parentNode);
                return O()
            }

            function S(t, e) {
                return Math.round(t.top) === Math.round(e.top) && Math.round(t.left) === Math.round(e.left) && Math.round(t.height) === Math.round(e.height) && Math.round(t.width) === Math.round(e.width)
            }

            function _(e, n) {
                return function() {
                    var t;
                    m || (1 === (t = arguments).length ? e.call(this, t[0]) : e.apply(this, t), m = setTimeout(function() {
                        m = void 0
                    }, n))
                }
            }

            function H(t, e, n) {
                t.scrollLeft += e, t.scrollTop += n
            }

            function C(t) {
                var e = window.Polymer,
                    n = window.jQuery || window.Zepto;
                return e && e.dom ? e.dom(t).cloneNode(!0) : n ? n(t).clone(!0)[0] : t.cloneNode(!0)
            }

            function T(t, e) {
                R(t, "position", "absolute"), R(t, "top", e.top), R(t, "left", e.left), R(t, "width", e.width), R(t, "height", e.height)
            }

            function x(t) {
                R(t, "position", ""), R(t, "top", ""), R(t, "left", ""), R(t, "width", ""), R(t, "height", "")
            }

            function L(n, o, i) {
                var r = {};
                return Array.from(n.children).forEach(function(t) {
                    var e;
                    P(t, o.draggable, n, !1) && !t.animated && t !== i && (e = X(t), r.left = Math.min(null !== (t = r.left) && void 0 !== t ? t : 1 / 0, e.left), r.top = Math.min(null !== (t = r.top) && void 0 !== t ? t : 1 / 0, e.top), r.right = Math.max(null !== (t = r.right) && void 0 !== t ? t : -1 / 0, e.right), r.bottom = Math.max(null !== (t = r.bottom) && void 0 !== t ? t : -1 / 0, e.bottom))
                }), r.width = r.right - r.left, r.height = r.bottom - r.top, r.x = r.left, r.y = r.top, r
            }
            var K = "Sortable" + (new Date).getTime();

            function A() {
                var e, o = [];
                return {
                    captureAnimationState: function() {
                        o = [], this.options.animation && [].slice.call(this.el.children).forEach(function(t) {
                            var e, n;
                            "none" !== R(t, "display") && t !== jt.ghost && (o.push({
                                target: t,
                                rect: X(t)
                            }), e = I({}, o[o.length - 1].rect), !t.thisAnimationDuration || (n = b(t, !0)) && (e.top -= n.f, e.left -= n.e), t.fromRect = e)
                        })
                    },
                    addAnimationState: function(t) {
                        o.push(t)
                    },
                    removeAnimationState: function(t) {
                        o.splice(function(t, e) {
                            for (var n in t)
                                if (t.hasOwnProperty(n))
                                    for (var o in e)
                                        if (e.hasOwnProperty(o) && e[o] === t[n][o]) return Number(n);
                            return -1
                        }(o, {
                            target: t
                        }), 1)
                    },
                    animateAll: function(t) {
                        var c = this;
                        if (!this.options.animation) return clearTimeout(e), void("function" == typeof t && t());
                        var u = !1,
                            d = 0;
                        o.forEach(function(t) {
                            var e = 0,
                                n = t.target,
                                o = n.fromRect,
                                i = X(n),
                                r = n.prevFromRect,
                                a = n.prevToRect,
                                l = t.rect,
                                s = b(n, !0);
                            s && (i.top -= s.f, i.left -= s.e), n.toRect = i, n.thisAnimationDuration && S(r, i) && !S(o, i) && (l.top - i.top) / (l.left - i.left) == (o.top - i.top) / (o.left - i.left) && (t = l, s = r, r = a, a = c.options, e = Math.sqrt(Math.pow(s.top - t.top, 2) + Math.pow(s.left - t.left, 2)) / Math.sqrt(Math.pow(s.top - r.top, 2) + Math.pow(s.left - r.left, 2)) * a.animation), S(i, o) || (n.prevFromRect = o, n.prevToRect = i, e = e || c.options.animation, c.animate(n, l, i, e)), e && (u = !0, d = Math.max(d, e), clearTimeout(n.animationResetTimer), n.animationResetTimer = setTimeout(function() {
                                n.animationTime = 0, n.prevFromRect = null, n.fromRect = null, n.prevToRect = null, n.thisAnimationDuration = null
                            }, e), n.thisAnimationDuration = e)
                        }), clearTimeout(e), u ? e = setTimeout(function() {
                            "function" == typeof t && t()
                        }, d) : "function" == typeof t && t(), o = []
                    },
                    animate: function(t, e, n, o) {
                        var i, r;
                        o && (R(t, "transition", ""), R(t, "transform", ""), i = (r = b(this.el)) && r.a, r = r && r.d, i = (e.left - n.left) / (i || 1), r = (e.top - n.top) / (r || 1), t.animatingX = !!i, t.animatingY = !!r, R(t, "transform", "translate3d(" + i + "px," + r + "px,0)"), this.forRepaintDummy = t.offsetWidth, R(t, "transition", "transform " + o + "ms" + (this.options.easing ? " " + this.options.easing : "")), R(t, "transform", "translate3d(0,0,0)"), "number" == typeof t.animated && clearTimeout(t.animated), t.animated = setTimeout(function() {
                            R(t, "transition", ""), R(t, "transform", ""), t.animated = !1, t.animatingX = !1, t.animatingY = !1
                        }, o))
                    }
                }
            }
            var N = [],
                W = {
                    initializeByDefault: !0
                },
                z = {
                    mount: function(e) {
                        for (var t in W) !W.hasOwnProperty(t) || t in e || (e[t] = W[t]);
                        N.forEach(function(t) {
                            if (t.pluginName === e.pluginName) throw "Sortable: Cannot mount plugin ".concat(e.pluginName, " more than once")
                        }), N.push(e)
                    },
                    pluginEvent: function(e, n, o) {
                        var t = this;
                        this.eventCanceled = !1, o.cancel = function() {
                            t.eventCanceled = !0
                        };
                        var i = e + "Global";
                        N.forEach(function(t) {
                            n[t.pluginName] && (n[t.pluginName][i] && n[t.pluginName][i](I({
                                sortable: n
                            }, o)), n.options[t.pluginName] && n[t.pluginName][e] && n[t.pluginName][e](I({
                                sortable: n
                            }, o)))
                        })
                    },
                    initializePlugins: function(n, o, i, t) {
                        for (var e in N.forEach(function(t) {
                                var e = t.pluginName;
                                (n.options[e] || t.initializeByDefault) && ((t = new t(n, o, n.options)).sortable = n, t.options = n.options, n[e] = t, a(i, t.defaults))
                            }), n.options) {
                            var r;
                            n.options.hasOwnProperty(e) && (void 0 !== (r = this.modifyOption(n, e, n.options[e])) && (n.options[e] = r))
                        }
                    },
                    getEventProperties: function(e, n) {
                        var o = {};
                        return N.forEach(function(t) {
                            "function" == typeof t.eventProperties && a(o, t.eventProperties.call(n[t.pluginName], e))
                        }), o
                    },
                    modifyOption: function(e, n, o) {
                        var i;
                        return N.forEach(function(t) {
                            e[t.pluginName] && t.optionListeners && "function" == typeof t.optionListeners[n] && (i = t.optionListeners[n].call(e[t.pluginName], o))
                        }), i
                    }
                };

            function G(t) {
                var e = t.sortable,
                    n = t.rootEl,
                    o = t.name,
                    i = t.targetEl,
                    r = t.cloneEl,
                    a = t.toEl,
                    l = t.fromEl,
                    s = t.oldIndex,
                    c = t.newIndex,
                    u = t.oldDraggableIndex,
                    d = t.newDraggableIndex,
                    h = t.originalEvent,
                    p = t.putSortable,
                    f = t.extraEventProperties;
                if (e = e || n && n[K]) {
                    var g, m = e.options,
                        t = "on" + o.charAt(0).toUpperCase() + o.substr(1);
                    !window.CustomEvent || y || w ? (g = document.createEvent("Event")).initEvent(o, !0, !0) : g = new CustomEvent(o, {
                        bubbles: !0,
                        cancelable: !0
                    }), g.to = a || n, g.from = l || n, g.item = i || n, g.clone = r, g.oldIndex = s, g.newIndex = c, g.oldDraggableIndex = u, g.newDraggableIndex = d, g.originalEvent = h, g.pullMode = p ? p.lastPutMode : void 0;
                    var v, b = I(I({}, f), z.getEventProperties(o, e));
                    for (v in b) g[v] = b[v];
                    n && n.dispatchEvent(g), m[t] && m[t].call(e, g)
                }
            }

            function U(t, e) {
                var n = (o = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : {}).evt,
                    o = i(o, q);
                z.pluginEvent.bind(jt)(t, e, I({
                    dragEl: Z,
                    parentEl: $,
                    ghostEl: Q,
                    rootEl: J,
                    nextEl: tt,
                    lastDownEl: et,
                    cloneEl: nt,
                    cloneHidden: ot,
                    dragStarted: mt,
                    putSortable: ct,
                    activeSortable: jt.active,
                    originalEvent: n,
                    oldIndex: it,
                    oldDraggableIndex: at,
                    newIndex: rt,
                    newDraggableIndex: lt,
                    hideGhostForTarget: Xt,
                    unhideGhostForTarget: Yt,
                    cloneNowHidden: function() {
                        ot = !0
                    },
                    cloneNowShown: function() {
                        ot = !1
                    },
                    dispatchSortableEvent: function(t) {
                        V({
                            sortable: e,
                            name: t,
                            originalEvent: n
                        })
                    }
                }, o))
            }
            var q = ["evt"];

            function V(t) {
                G(I({
                    putSortable: ct,
                    cloneEl: nt,
                    targetEl: Z,
                    rootEl: J,
                    oldIndex: it,
                    oldDraggableIndex: at,
                    newIndex: rt,
                    newDraggableIndex: lt
                }, t))
            }
            var Z, $, Q, J, tt, et, nt, ot, it, rt, at, lt, st, ct, ut, dt, ht, pt, ft, gt, mt, vt, bt, yt, wt, Dt = !1,
                Et = !1,
                St = [],
                _t = !1,
                Ct = !1,
                Tt = [],
                xt = !1,
                Ot = [],
                Mt = "undefined" != typeof document,
                At = c,
                Nt = w || y ? "cssFloat" : "float",
                It = Mt && !n && !c && "draggable" in document.createElement("div"),
                Pt = function() {
                    if (Mt) {
                        if (y) return !1;
                        var t = document.createElement("x");
                        return t.style.cssText = "pointer-events:auto", "auto" === t.style.pointerEvents
                    }
                }(),
                kt = function(t, e) {
                    var n = R(t),
                        o = parseInt(n.width) - parseInt(n.paddingLeft) - parseInt(n.paddingRight) - parseInt(n.borderLeftWidth) - parseInt(n.borderRightWidth),
                        i = B(t, 0, e),
                        r = B(t, 1, e),
                        a = i && R(i),
                        l = r && R(r),
                        s = a && parseInt(a.marginLeft) + parseInt(a.marginRight) + X(i).width,
                        t = l && parseInt(l.marginLeft) + parseInt(l.marginRight) + X(r).width;
                    if ("flex" === n.display) return "column" === n.flexDirection || "column-reverse" === n.flexDirection ? "vertical" : "horizontal";
                    if ("grid" === n.display) return n.gridTemplateColumns.split(" ").length <= 1 ? "vertical" : "horizontal";
                    if (i && a.float && "none" !== a.float) {
                        e = "left" === a.float ? "left" : "right";
                        return !r || "both" !== l.clear && l.clear !== e ? "horizontal" : "vertical"
                    }
                    return i && ("block" === a.display || "flex" === a.display || "table" === a.display || "grid" === a.display || o <= s && "none" === n[Nt] || r && "none" === n[Nt] && o < s + t) ? "vertical" : "horizontal"
                },
                Rt = function(t) {
                    function l(r, a) {
                        return function(t, e, n, o) {
                            var i = t.options.group.name && e.options.group.name && t.options.group.name === e.options.group.name;
                            if (null == r && (a || i)) return !0;
                            if (null == r || !1 === r) return !1;
                            if (a && "clone" === r) return r;
                            if ("function" == typeof r) return l(r(t, e, n, o), a)(t, e, n, o);
                            e = (a ? t : e).options.group.name;
                            return !0 === r || "string" == typeof r && r === e || r.join && -1 < r.indexOf(e)
                        }
                    }
                    var e = {},
                        n = t.group;
                    n && "object" == o(n) || (n = {
                        name: n
                    }), e.name = n.name, e.checkPull = l(n.pull, !0), e.checkPut = l(n.put), e.revertClone = n.revertClone, t.group = e
                },
                Xt = function() {
                    !Pt && Q && R(Q, "display", "none")
                },
                Yt = function() {
                    !Pt && Q && R(Q, "display", "")
                };
            Mt && !n && document.addEventListener("click", function(t) {
                if (Et) return t.preventDefault(), t.stopPropagation && t.stopPropagation(), t.stopImmediatePropagation && t.stopImmediatePropagation(), Et = !1
            }, !0);

            function Bt(t) {
                if (Z) {
                    t = t.touches ? t.touches[0] : t;
                    var e = (i = t.clientX, r = t.clientY, St.some(function(t) {
                        var e = t[K].options.emptyInsertThreshold;
                        if (e && !F(t)) {
                            var n = X(t),
                                o = i >= n.left - e && i <= n.right + e,
                                e = r >= n.top - e && r <= n.bottom + e;
                            return o && e ? a = t : void 0
                        }
                    }), a);
                    if (e) {
                        var n, o = {};
                        for (n in t) t.hasOwnProperty(n) && (o[n] = t[n]);
                        o.target = o.rootEl = e, o.preventDefault = void 0, o.stopPropagation = void 0, e[K]._onDragOver(o)
                    }
                }
                var i, r, a
            }

            function Ft(t) {
                Z && Z.parentNode[K]._isOutsideThisEl(t.target)
            }

            function jt(t, e) {
                if (!t || !t.nodeType || 1 !== t.nodeType) throw "Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));
                this.el = t, this.options = e = a({}, e), t[K] = this;
                var n, o, i = {
                    group: null,
                    sort: !0,
                    disabled: !1,
                    store: null,
                    handle: null,
                    draggable: /^[uo]l$/i.test(t.nodeName) ? ">li" : ">*",
                    swapThreshold: 1,
                    invertSwap: !1,
                    invertedSwapThreshold: null,
                    removeCloneOnHide: !0,
                    direction: function() {
                        return kt(t, this.options)
                    },
                    ghostClass: "sortable-ghost",
                    chosenClass: "sortable-chosen",
                    dragClass: "sortable-drag",
                    ignore: "a, img",
                    filter: null,
                    preventOnFilter: !0,
                    animation: 0,
                    easing: null,
                    setData: function(t, e) {
                        t.setData("Text", e.textContent)
                    },
                    dropBubble: !1,
                    dragoverBubble: !1,
                    dataIdAttr: "data-id",
                    delay: 0,
                    delayOnTouchOnly: !1,
                    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,
                    forceFallback: !1,
                    fallbackClass: "sortable-fallback",
                    fallbackOnBody: !1,
                    fallbackTolerance: 0,
                    fallbackOffset: {
                        x: 0,
                        y: 0
                    },
                    supportPointer: !1 !== jt.supportPointer && "PointerEvent" in window && (!u || c),
                    emptyInsertThreshold: 5
                };
                for (n in z.initializePlugins(this, t, i), i) n in e || (e[n] = i[n]);
                for (o in Rt(e), this) "_" === o.charAt(0) && "function" == typeof this[o] && (this[o] = this[o].bind(this));
                this.nativeDraggable = !e.forceFallback && It, this.nativeDraggable && (this.options.touchStartThreshold = 1), e.supportPointer ? h(t, "pointerdown", this._onTapStart) : (h(t, "mousedown", this._onTapStart), h(t, "touchstart", this._onTapStart)), this.nativeDraggable && (h(t, "dragover", this), h(t, "dragenter", this)), St.push(this.el), e.store && e.store.get && this.sort(e.store.get(this) || []), a(this, A())
            }

            function Ht(t, e, n, o, i, r, a, l) {
                var s, c, u = t[K],
                    d = u.options.onMove;
                return !window.CustomEvent || y || w ? (s = document.createEvent("Event")).initEvent("move", !0, !0) : s = new CustomEvent("move", {
                    bubbles: !0,
                    cancelable: !0
                }), s.to = e, s.from = t, s.dragged = n, s.draggedRect = o, s.related = i || e, s.relatedRect = r || X(e), s.willInsertAfter = l, s.originalEvent = a, t.dispatchEvent(s), c = d ? d.call(u, s, a) : c
            }

            function Lt(t) {
                t.draggable = !1
            }

            function Kt() {
                xt = !1
            }

            function Wt(t) {
                return setTimeout(t, 0)
            }

            function zt(t) {
                return clearTimeout(t)
            }
            jt.prototype = {
                constructor: jt,
                _isOutsideThisEl: function(t) {
                    this.el.contains(t) || t === this.el || (vt = null)
                },
                _getDirection: function(t, e) {
                    return "function" == typeof this.options.direction ? this.options.direction.call(this, t, e, Z) : this.options.direction
                },
                _onTapStart: function(e) {
                    if (e.cancelable) {
                        var n = this,
                            o = this.el,
                            t = this.options,
                            i = t.preventOnFilter,
                            r = e.type,
                            a = e.touches && e.touches[0] || e.pointerType && "touch" === e.pointerType && e,
                            l = (a || e).target,
                            s = e.target.shadowRoot && (e.path && e.path[0] || e.composedPath && e.composedPath()[0]) || l,
                            c = t.filter;
                        if (! function(t) {
                                Ot.length = 0;
                                var e = t.getElementsByTagName("input"),
                                    n = e.length;
                                for (; n--;) {
                                    var o = e[n];
                                    o.checked && Ot.push(o)
                                }
                            }(o), !Z && !(/mousedown|pointerdown/.test(r) && 0 !== e.button || t.disabled) && !s.isContentEditable && (this.nativeDraggable || !u || !l || "SELECT" !== l.tagName.toUpperCase()) && !((l = P(l, t.draggable, o, !1)) && l.animated || et === l)) {
                            if (it = j(l), at = j(l, t.draggable), "function" == typeof c) {
                                if (c.call(this, e, l, this)) return V({
                                    sortable: n,
                                    rootEl: s,
                                    name: "filter",
                                    targetEl: l,
                                    toEl: o,
                                    fromEl: o
                                }), U("filter", n, {
                                    evt: e
                                }), void(i && e.preventDefault())
                            } else if (c = c && c.split(",").some(function(t) {
                                    if (t = P(s, t.trim(), o, !1)) return V({
                                        sortable: n,
                                        rootEl: t,
                                        name: "filter",
                                        targetEl: l,
                                        fromEl: o,
                                        toEl: o
                                    }), U("filter", n, {
                                        evt: e
                                    }), !0
                                })) return void(i && e.preventDefault());
                            t.handle && !P(s, t.handle, o, !1) || this._prepareDragStart(e, a, l)
                        }
                    }
                },
                _prepareDragStart: function(t, e, n) {
                    var o, i = this,
                        r = i.el,
                        a = i.options,
                        l = r.ownerDocument;
                    n && !Z && n.parentNode === r && (o = X(n), J = r, $ = (Z = n).parentNode, tt = Z.nextSibling, et = n, st = a.group, ut = {
                        target: jt.dragged = Z,
                        clientX: (e || t).clientX,
                        clientY: (e || t).clientY
                    }, ft = ut.clientX - o.left, gt = ut.clientY - o.top, this._lastX = (e || t).clientX, this._lastY = (e || t).clientY, Z.style["will-change"] = "all", o = function() {
                        U("delayEnded", i, {
                            evt: t
                        }), jt.eventCanceled ? i._onDrop() : (i._disableDelayedDragEvents(), !s && i.nativeDraggable && (Z.draggable = !0), i._triggerDragStart(t, e), V({
                            sortable: i,
                            name: "choose",
                            originalEvent: t
                        }), k(Z, a.chosenClass, !0))
                    }, a.ignore.split(",").forEach(function(t) {
                        D(Z, t.trim(), Lt)
                    }), h(l, "dragover", Bt), h(l, "mousemove", Bt), h(l, "touchmove", Bt), a.supportPointer ? (h(l, "pointerup", i._onDrop), this.nativeDraggable || h(l, "pointercancel", i._onDrop)) : (h(l, "mouseup", i._onDrop), h(l, "touchend", i._onDrop), h(l, "touchcancel", i._onDrop)), s && this.nativeDraggable && (this.options.touchStartThreshold = 4, Z.draggable = !0), U("delayStart", this, {
                        evt: t
                    }), !a.delay || a.delayOnTouchOnly && !e || this.nativeDraggable && (w || y) ? o() : jt.eventCanceled ? this._onDrop() : (a.supportPointer ? (h(l, "pointerup", i._disableDelayedDrag), h(l, "pointercancel", i._disableDelayedDrag)) : (h(l, "mouseup", i._disableDelayedDrag), h(l, "touchend", i._disableDelayedDrag), h(l, "touchcancel", i._disableDelayedDrag)), h(l, "mousemove", i._delayedDragTouchMoveHandler), h(l, "touchmove", i._delayedDragTouchMoveHandler), a.supportPointer && h(l, "pointermove", i._delayedDragTouchMoveHandler), i._dragStartTimer = setTimeout(o, a.delay)))
                },
                _delayedDragTouchMoveHandler: function(t) {
                    t = t.touches ? t.touches[0] : t;
                    Math.max(Math.abs(t.clientX - this._lastX), Math.abs(t.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1)) && this._disableDelayedDrag()
                },
                _disableDelayedDrag: function() {
                    Z && Lt(Z), clearTimeout(this._dragStartTimer), this._disableDelayedDragEvents()
                },
                _disableDelayedDragEvents: function() {
                    var t = this.el.ownerDocument;
                    p(t, "mouseup", this._disableDelayedDrag), p(t, "touchend", this._disableDelayedDrag), p(t, "touchcancel", this._disableDelayedDrag), p(t, "pointerup", this._disableDelayedDrag), p(t, "pointercancel", this._disableDelayedDrag), p(t, "mousemove", this._delayedDragTouchMoveHandler), p(t, "touchmove", this._delayedDragTouchMoveHandler), p(t, "pointermove", this._delayedDragTouchMoveHandler)
                },
                _triggerDragStart: function(t, e) {
                    e = e || "touch" == t.pointerType && t, !this.nativeDraggable || e ? this.options.supportPointer ? h(document, "pointermove", this._onTouchMove) : h(document, e ? "touchmove" : "mousemove", this._onTouchMove) : (h(Z, "dragend", this), h(J, "dragstart", this._onDragStart));
                    try {
                        document.selection ? Wt(function() {
                            document.selection.empty()
                        }) : window.getSelection().removeAllRanges()
                    } catch (t) {}
                },
                _dragStarted: function(t, e) {
                    var n;
                    Dt = !1, J && Z ? (U("dragStarted", this, {
                        evt: e
                    }), this.nativeDraggable && h(document, "dragover", Ft), n = this.options, t || k(Z, n.dragClass, !1), k(Z, n.ghostClass, !0), jt.active = this, t && this._appendGhost(), V({
                        sortable: this,
                        name: "start",
                        originalEvent: e
                    })) : this._nulling()
                },
                _emulateDragOver: function() {
                    if (dt) {
                        this._lastX = dt.clientX, this._lastY = dt.clientY, Xt();
                        for (var t = document.elementFromPoint(dt.clientX, dt.clientY), e = t; t && t.shadowRoot && (t = t.shadowRoot.elementFromPoint(dt.clientX, dt.clientY)) !== e;) e = t;
                        if (Z.parentNode[K]._isOutsideThisEl(t), e)
                            do {
                                if (e[K])
                                    if (e[K]._onDragOver({
                                            clientX: dt.clientX,
                                            clientY: dt.clientY,
                                            target: t,
                                            rootEl: e
                                        }) && !this.options.dragoverBubble) break
                            } while (e = g(t = e));
                        Yt()
                    }
                },
                _onTouchMove: function(t) {
                    if (ut) {
                        var e = this.options,
                            n = e.fallbackTolerance,
                            o = e.fallbackOffset,
                            i = t.touches ? t.touches[0] : t,
                            r = Q && b(Q, !0),
                            a = Q && r && r.a,
                            l = Q && r && r.d,
                            e = At && wt && E(wt),
                            a = (i.clientX - ut.clientX + o.x) / (a || 1) + (e ? e[0] - Tt[0] : 0) / (a || 1),
                            l = (i.clientY - ut.clientY + o.y) / (l || 1) + (e ? e[1] - Tt[1] : 0) / (l || 1);
                        if (!jt.active && !Dt) {
                            if (n && Math.max(Math.abs(i.clientX - this._lastX), Math.abs(i.clientY - this._lastY)) < n) return;
                            this._onDragStart(t, !0)
                        }
                        Q && (r ? (r.e += a - (ht || 0), r.f += l - (pt || 0)) : r = {
                            a: 1,
                            b: 0,
                            c: 0,
                            d: 1,
                            e: a,
                            f: l
                        }, r = "matrix(".concat(r.a, ",").concat(r.b, ",").concat(r.c, ",").concat(r.d, ",").concat(r.e, ",").concat(r.f, ")"), R(Q, "webkitTransform", r), R(Q, "mozTransform", r), R(Q, "msTransform", r), R(Q, "transform", r), ht = a, pt = l, dt = i), t.cancelable && t.preventDefault()
                    }
                },
                _appendGhost: function() {
                    if (!Q) {
                        var t = this.options.fallbackOnBody ? document.body : J,
                            e = X(Z, !0, At, !0, t),
                            n = this.options;
                        if (At) {
                            for (wt = t;
                                "static" === R(wt, "position") && "none" === R(wt, "transform") && wt !== document;) wt = wt.parentNode;
                            wt !== document.body && wt !== document.documentElement ? (wt === document && (wt = O()), e.top += wt.scrollTop, e.left += wt.scrollLeft) : wt = O(), Tt = E(wt)
                        }
                        k(Q = Z.cloneNode(!0), n.ghostClass, !1), k(Q, n.fallbackClass, !0), k(Q, n.dragClass, !0), R(Q, "transition", ""), R(Q, "transform", ""), R(Q, "box-sizing", "border-box"), R(Q, "margin", 0), R(Q, "top", e.top), R(Q, "left", e.left), R(Q, "width", e.width), R(Q, "height", e.height), R(Q, "opacity", "0.8"), R(Q, "position", At ? "absolute" : "fixed"), R(Q, "zIndex", "100000"), R(Q, "pointerEvents", "none"), jt.ghost = Q, t.appendChild(Q), R(Q, "transform-origin", ft / parseInt(Q.style.width) * 100 + "% " + gt / parseInt(Q.style.height) * 100 + "%")
                    }
                },
                _onDragStart: function(t, e) {
                    var n = this,
                        o = t.dataTransfer,
                        i = n.options;
                    U("dragStart", this, {
                        evt: t
                    }), jt.eventCanceled ? this._onDrop() : (U("setupClone", this), jt.eventCanceled || ((nt = C(Z)).removeAttribute("id"), nt.draggable = !1, nt.style["will-change"] = "", this._hideClone(), k(nt, this.options.chosenClass, !1), jt.clone = nt), n.cloneId = Wt(function() {
                        U("clone", n), jt.eventCanceled || (n.options.removeCloneOnHide || J.insertBefore(nt, Z), n._hideClone(), V({
                            sortable: n,
                            name: "clone"
                        }))
                    }), e || k(Z, i.dragClass, !0), e ? (Et = !0, n._loopId = setInterval(n._emulateDragOver, 50)) : (p(document, "mouseup", n._onDrop), p(document, "touchend", n._onDrop), p(document, "touchcancel", n._onDrop), o && (o.effectAllowed = "move", i.setData && i.setData.call(n, o, Z)), h(document, "drop", n), R(Z, "transform", "translateZ(0)")), Dt = !0, n._dragStartId = Wt(n._dragStarted.bind(n, e, t)), h(document, "selectstart", n), mt = !0, window.getSelection().removeAllRanges(), u && R(document.body, "user-select", "none"))
                },
                _onDragOver: function(n) {
                    var o, i, r, t, e, a = this.el,
                        l = n.target,
                        s = this.options,
                        c = s.group,
                        u = jt.active,
                        d = st === c,
                        h = s.sort,
                        p = ct || u,
                        f = this,
                        g = !1;
                    if (!xt) {
                        if (void 0 !== n.preventDefault && n.cancelable && n.preventDefault(), l = P(l, s.draggable, a, !0), O("dragOver"), jt.eventCanceled) return g;
                        if (Z.contains(n.target) || l.animated && l.animatingX && l.animatingY || f._ignoreWhileAnimating === l) return A(!1);
                        if (Et = !1, u && !s.disabled && (d ? h || (i = $ !== J) : ct === this || (this.lastPutMode = st.checkPull(this, u, Z, n)) && c.checkPut(this, u, Z, n))) {
                            if (r = "vertical" === this._getDirection(n, l), o = X(Z), O("dragOverValid"), jt.eventCanceled) return g;
                            if (i) return $ = J, M(), this._hideClone(), O("revert"), jt.eventCanceled || (tt ? J.insertBefore(Z, tt) : J.appendChild(Z)), A(!0);
                            var m = F(a, s.draggable);
                            if (m && (S = n, c = r, x = X(F((E = this).el, E.options.draggable)), E = L(E.el, E.options, Q), !(c ? S.clientX > E.right + 10 || S.clientY > x.bottom && S.clientX > x.left : S.clientY > E.bottom + 10 || S.clientX > x.right && S.clientY > x.top) || m.animated)) {
                                if (m && (t = n, e = r, C = X(B((_ = this).el, 0, _.options, !0)), _ = L(_.el, _.options, Q), e ? t.clientX < _.left - 10 || t.clientY < C.top && t.clientX < C.right : t.clientY < _.top - 10 || t.clientY < C.bottom && t.clientX < C.left)) {
                                    var v = B(a, 0, s, !0);
                                    if (v === Z) return A(!1);
                                    if (D = X(l = v), !1 !== Ht(J, a, Z, o, l, D, n, !1)) return M(), a.insertBefore(Z, v), $ = a, N(), A(!0)
                                } else if (l.parentNode === a) {
                                    var b, y, w, D = X(l),
                                        E = Z.parentNode !== a,
                                        S = (S = Z.animated && Z.toRect || o, x = l.animated && l.toRect || D, _ = (e = r) ? S.left : S.top, t = e ? S.right : S.bottom, C = e ? S.width : S.height, v = e ? x.left : x.top, S = e ? x.right : x.bottom, x = e ? x.width : x.height, !(_ === v || t === S || _ + C / 2 === v + x / 2)),
                                        _ = r ? "top" : "left",
                                        C = Y(l, "top", "top") || Y(Z, "top", "top"),
                                        v = C ? C.scrollTop : void 0;
                                    if (vt !== l && (y = D[_], _t = !1, Ct = !S && s.invertSwap || E), 0 !== (b = function(t, e, n, o, i, r, a, l) {
                                            var s = o ? t.clientY : t.clientX,
                                                c = o ? n.height : n.width,
                                                t = o ? n.top : n.left,
                                                o = o ? n.bottom : n.right,
                                                n = !1;
                                            if (!a)
                                                if (l && yt < c * i) {
                                                    if (_t = !_t && (1 === bt ? t + c * r / 2 < s : s < o - c * r / 2) ? !0 : _t) n = !0;
                                                    else if (1 === bt ? s < t + yt : o - yt < s) return -bt
                                                } else if (t + c * (1 - i) / 2 < s && s < o - c * (1 - i) / 2) return function(t) {
                                                return j(Z) < j(t) ? 1 : -1
                                            }(e);
                                            if ((n = n || a) && (s < t + c * r / 2 || o - c * r / 2 < s)) return t + c / 2 < s ? 1 : -1;
                                            return 0
                                        }(n, l, D, r, S ? 1 : s.swapThreshold, null == s.invertedSwapThreshold ? s.swapThreshold : s.invertedSwapThreshold, Ct, vt === l)))
                                        for (var T = j(Z);
                                            (w = $.children[T -= b]) && ("none" === R(w, "display") || w === Q););
                                    if (0 === b || w === l) return A(!1);
                                    bt = b;
                                    var x = (vt = l).nextElementSibling,
                                        E = !1,
                                        S = Ht(J, a, Z, o, l, D, n, E = 1 === b);
                                    if (!1 !== S) return 1 !== S && -1 !== S || (E = 1 === S), xt = !0, setTimeout(Kt, 30), M(), E && !x ? a.appendChild(Z) : l.parentNode.insertBefore(Z, E ? x : l), C && H(C, 0, v - C.scrollTop), $ = Z.parentNode, void 0 === y || Ct || (yt = Math.abs(y - X(l)[_])), N(), A(!0)
                                }
                            } else {
                                if (m === Z) return A(!1);
                                if ((l = m && a === n.target ? m : l) && (D = X(l)), !1 !== Ht(J, a, Z, o, l, D, n, !!l)) return M(), m && m.nextSibling ? a.insertBefore(Z, m.nextSibling) : a.appendChild(Z), $ = a, N(), A(!0)
                            }
                            if (a.contains(Z)) return A(!1)
                        }
                        return !1
                    }

                    function O(t, e) {
                        U(t, f, I({
                            evt: n,
                            isOwner: d,
                            axis: r ? "vertical" : "horizontal",
                            revert: i,
                            dragRect: o,
                            targetRect: D,
                            canSort: h,
                            fromSortable: p,
                            target: l,
                            completed: A,
                            onMove: function(t, e) {
                                return Ht(J, a, Z, o, t, X(t), n, e)
                            },
                            changed: N
                        }, e))
                    }

                    function M() {
                        O("dragOverAnimationCapture"), f.captureAnimationState(), f !== p && p.captureAnimationState()
                    }

                    function A(t) {
                        return O("dragOverCompleted", {
                            insertion: t
                        }), t && (d ? u._hideClone() : u._showClone(f), f !== p && (k(Z, (ct || u).options.ghostClass, !1), k(Z, s.ghostClass, !0)), ct !== f && f !== jt.active ? ct = f : f === jt.active && ct && (ct = null), p === f && (f._ignoreWhileAnimating = l), f.animateAll(function() {
                            O("dragOverAnimationComplete"), f._ignoreWhileAnimating = null
                        }), f !== p && (p.animateAll(), p._ignoreWhileAnimating = null)), (l === Z && !Z.animated || l === a && !l.animated) && (vt = null), s.dragoverBubble || n.rootEl || l === document || (Z.parentNode[K]._isOutsideThisEl(n.target), t || Bt(n)), !s.dragoverBubble && n.stopPropagation && n.stopPropagation(), g = !0
                    }

                    function N() {
                        rt = j(Z), lt = j(Z, s.draggable), V({
                            sortable: f,
                            name: "change",
                            toEl: a,
                            newIndex: rt,
                            newDraggableIndex: lt,
                            originalEvent: n
                        })
                    }
                },
                _ignoreWhileAnimating: null,
                _offMoveEvents: function() {
                    p(document, "mousemove", this._onTouchMove), p(document, "touchmove", this._onTouchMove), p(document, "pointermove", this._onTouchMove), p(document, "dragover", Bt), p(document, "mousemove", Bt), p(document, "touchmove", Bt)
                },
                _offUpEvents: function() {
                    var t = this.el.ownerDocument;
                    p(t, "mouseup", this._onDrop), p(t, "touchend", this._onDrop), p(t, "pointerup", this._onDrop), p(t, "pointercancel", this._onDrop), p(t, "touchcancel", this._onDrop), p(document, "selectstart", this)
                },
                _onDrop: function(t) {
                    var e = this.el,
                        n = this.options;
                    rt = j(Z), lt = j(Z, n.draggable), U("drop", this, {
                        evt: t
                    }), $ = Z && Z.parentNode, rt = j(Z), lt = j(Z, n.draggable), jt.eventCanceled || (_t = Ct = Dt = !1, clearInterval(this._loopId), clearTimeout(this._dragStartTimer), zt(this.cloneId), zt(this._dragStartId), this.nativeDraggable && (p(document, "drop", this), p(e, "dragstart", this._onDragStart)), this._offMoveEvents(), this._offUpEvents(), u && R(document.body, "user-select", ""), R(Z, "transform", ""), t && (mt && (t.cancelable && t.preventDefault(), n.dropBubble || t.stopPropagation()), Q && Q.parentNode && Q.parentNode.removeChild(Q), (J === $ || ct && "clone" !== ct.lastPutMode) && nt && nt.parentNode && nt.parentNode.removeChild(nt), Z && (this.nativeDraggable && p(Z, "dragend", this), Lt(Z), Z.style["will-change"] = "", mt && !Dt && k(Z, (ct || this).options.ghostClass, !1), k(Z, this.options.chosenClass, !1), V({
                        sortable: this,
                        name: "unchoose",
                        toEl: $,
                        newIndex: null,
                        newDraggableIndex: null,
                        originalEvent: t
                    }), J !== $ ? (0 <= rt && (V({
                        rootEl: $,
                        name: "add",
                        toEl: $,
                        fromEl: J,
                        originalEvent: t
                    }), V({
                        sortable: this,
                        name: "remove",
                        toEl: $,
                        originalEvent: t
                    }), V({
                        rootEl: $,
                        name: "sort",
                        toEl: $,
                        fromEl: J,
                        originalEvent: t
                    }), V({
                        sortable: this,
                        name: "sort",
                        toEl: $,
                        originalEvent: t
                    })), ct && ct.save()) : rt !== it && 0 <= rt && (V({
                        sortable: this,
                        name: "update",
                        toEl: $,
                        originalEvent: t
                    }), V({
                        sortable: this,
                        name: "sort",
                        toEl: $,
                        originalEvent: t
                    })), jt.active && (null != rt && -1 !== rt || (rt = it, lt = at), V({
                        sortable: this,
                        name: "end",
                        toEl: $,
                        originalEvent: t
                    }), this.save())))), this._nulling()
                },
                _nulling: function() {
                    U("nulling", this), J = Z = $ = Q = tt = nt = et = ot = ut = dt = mt = rt = lt = it = at = vt = bt = ct = st = jt.dragged = jt.ghost = jt.clone = jt.active = null, Ot.forEach(function(t) {
                        t.checked = !0
                    }), Ot.length = ht = pt = 0
                },
                handleEvent: function(t) {
                    switch (t.type) {
                        case "drop":
                        case "dragend":
                            this._onDrop(t);
                            break;
                        case "dragenter":
                        case "dragover":
                            Z && (this._onDragOver(t), function(t) {
                                t.dataTransfer && (t.dataTransfer.dropEffect = "move");
                                t.cancelable && t.preventDefault()
                            }(t));
                            break;
                        case "selectstart":
                            t.preventDefault()
                    }
                },
                toArray: function() {
                    for (var t, e = [], n = this.el.children, o = 0, i = n.length, r = this.options; o < i; o++) P(t = n[o], r.draggable, this.el, !1) && e.push(t.getAttribute(r.dataIdAttr) || function(t) {
                        var e = t.tagName + t.className + t.src + t.href + t.textContent,
                            n = e.length,
                            o = 0;
                        for (; n--;) o += e.charCodeAt(n);
                        return o.toString(36)
                    }(t));
                    return e
                },
                sort: function(t, e) {
                    var n = {},
                        o = this.el;
                    this.toArray().forEach(function(t, e) {
                        e = o.children[e];
                        P(e, this.options.draggable, o, !1) && (n[t] = e)
                    }, this), e && this.captureAnimationState(), t.forEach(function(t) {
                        n[t] && (o.removeChild(n[t]), o.appendChild(n[t]))
                    }), e && this.animateAll()
                },
                save: function() {
                    var t = this.options.store;
                    t && t.set && t.set(this)
                },
                closest: function(t, e) {
                    return P(t, e || this.options.draggable, this.el, !1)
                },
                option: function(t, e) {
                    var n = this.options;
                    if (void 0 === e) return n[t];
                    var o = z.modifyOption(this, t, e);
                    n[t] = void 0 !== o ? o : e, "group" === t && Rt(n)
                },
                destroy: function() {
                    U("destroy", this);
                    var t = this.el;
                    t[K] = null, p(t, "mousedown", this._onTapStart), p(t, "touchstart", this._onTapStart), p(t, "pointerdown", this._onTapStart), this.nativeDraggable && (p(t, "dragover", this), p(t, "dragenter", this)), Array.prototype.forEach.call(t.querySelectorAll("[draggable]"), function(t) {
                        t.removeAttribute("draggable")
                    }), this._onDrop(), this._disableDelayedDragEvents(), St.splice(St.indexOf(this.el), 1), this.el = t = null
                },
                _hideClone: function() {
                    ot || (U("hideClone", this), jt.eventCanceled || (R(nt, "display", "none"), this.options.removeCloneOnHide && nt.parentNode && nt.parentNode.removeChild(nt), ot = !0))
                },
                _showClone: function(t) {
                    "clone" === t.lastPutMode ? ot && (U("showClone", this), jt.eventCanceled || (Z.parentNode != J || this.options.group.revertClone ? tt ? J.insertBefore(nt, tt) : J.appendChild(nt) : J.insertBefore(nt, Z), this.options.group.revertClone && this.animate(Z, nt), R(nt, "display", ""), ot = !1)) : this._hideClone()
                }
            }, Mt && h(document, "touchmove", function(t) {
                (jt.active || Dt) && t.cancelable && t.preventDefault()
            }), jt.utils = {
                on: h,
                off: p,
                css: R,
                find: D,
                is: function(t, e) {
                    return !!P(t, e, t, !1)
                },
                extend: function(t, e) {
                    if (t && e)
                        for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);
                    return t
                },
                throttle: _,
                closest: P,
                toggleClass: k,
                clone: C,
                index: j,
                nextTick: Wt,
                cancelNextTick: zt,
                detectDirection: kt,
                getChild: B,
                expando: K
            }, jt.get = function(t) {
                return t[K]
            }, jt.mount = function() {
                for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++) e[n] = arguments[n];
                (e = e[0].constructor === Array ? e[0] : e).forEach(function(t) {
                    if (!t.prototype || !t.prototype.constructor) throw "Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));
                    t.utils && (jt.utils = I(I({}, jt.utils), t.utils)), z.mount(t)
                })
            }, jt.create = function(t, e) {
                return new jt(t, e)
            };
            var Gt, Ut, qt, Vt, Zt, $t, Qt = [],
                Jt = !(jt.version = "1.15.6");

            function te() {
                Qt.forEach(function(t) {
                    clearInterval(t.pid)
                }), Qt = []
            }

            function ee() {
                clearInterval($t)
            }
            var ne, oe = _(function(n, t, e, o) {
                    if (t.scroll) {
                        var i, r = (n.touches ? n.touches[0] : n).clientX,
                            a = (n.touches ? n.touches[0] : n).clientY,
                            l = t.scrollSensitivity,
                            s = t.scrollSpeed,
                            c = O(),
                            u = !1;
                        Ut !== e && (Ut = e, te(), Gt = t.scroll, i = t.scrollFn, !0 === Gt && (Gt = M(e, !0)));
                        var d = 0,
                            h = Gt;
                        do {
                            var p = h,
                                f = X(p),
                                g = f.top,
                                m = f.bottom,
                                v = f.left,
                                b = f.right,
                                y = f.width,
                                w = f.height,
                                D = void 0,
                                E = void 0,
                                S = p.scrollWidth,
                                _ = p.scrollHeight,
                                C = R(p),
                                T = p.scrollLeft,
                                f = p.scrollTop,
                                E = p === c ? (D = y < S && ("auto" === C.overflowX || "scroll" === C.overflowX || "visible" === C.overflowX), w < _ && ("auto" === C.overflowY || "scroll" === C.overflowY || "visible" === C.overflowY)) : (D = y < S && ("auto" === C.overflowX || "scroll" === C.overflowX), w < _ && ("auto" === C.overflowY || "scroll" === C.overflowY)),
                                T = D && (Math.abs(b - r) <= l && T + y < S) - (Math.abs(v - r) <= l && !!T),
                                f = E && (Math.abs(m - a) <= l && f + w < _) - (Math.abs(g - a) <= l && !!f);
                            if (!Qt[d])
                                for (var x = 0; x <= d; x++) Qt[x] || (Qt[x] = {});
                            Qt[d].vx == T && Qt[d].vy == f && Qt[d].el === p || (Qt[d].el = p, Qt[d].vx = T, Qt[d].vy = f, clearInterval(Qt[d].pid), 0 == T && 0 == f || (u = !0, Qt[d].pid = setInterval(function() {
                                o && 0 === this.layer && jt.active._onTouchMove(Zt);
                                var t = Qt[this.layer].vy ? Qt[this.layer].vy * s : 0,
                                    e = Qt[this.layer].vx ? Qt[this.layer].vx * s : 0;
                                "function" == typeof i && "continue" !== i.call(jt.dragged.parentNode[K], e, t, n, Zt, Qt[this.layer].el) || H(Qt[this.layer].el, e, t)
                            }.bind({
                                layer: d
                            }), 24))), d++
                        } while (t.bubbleScroll && h !== c && (h = M(h, !1)));
                        Jt = u
                    }
                }, 30),
                n = function(t) {
                    var e = t.originalEvent,
                        n = t.putSortable,
                        o = t.dragEl,
                        i = t.activeSortable,
                        r = t.dispatchSortableEvent,
                        a = t.hideGhostForTarget,
                        t = t.unhideGhostForTarget;
                    e && (i = n || i, a(), e = e.changedTouches && e.changedTouches.length ? e.changedTouches[0] : e, e = document.elementFromPoint(e.clientX, e.clientY), t(), i && !i.el.contains(e) && (r("spill"), this.onSpill({
                        dragEl: o,
                        putSortable: n
                    })))
                };

            function ie() {}

            function re() {}
            ie.prototype = {
                startIndex: null,
                dragStart: function(t) {
                    t = t.oldDraggableIndex;
                    this.startIndex = t
                },
                onSpill: function(t) {
                    var e = t.dragEl,
                        n = t.putSortable;
                    this.sortable.captureAnimationState(), n && n.captureAnimationState();
                    t = B(this.sortable.el, this.startIndex, this.options);
                    t ? this.sortable.el.insertBefore(e, t) : this.sortable.el.appendChild(e), this.sortable.animateAll(), n && n.animateAll()
                },
                drop: n
            }, a(ie, {
                pluginName: "revertOnSpill"
            }), re.prototype = {
                onSpill: function(t) {
                    var e = t.dragEl,
                        t = t.putSortable || this.sortable;
                    t.captureAnimationState(), e.parentNode && e.parentNode.removeChild(e), t.animateAll()
                },
                drop: n
            }, a(re, {
                pluginName: "removeOnSpill"
            });
            var ae, le, se, ce, ue, de = [],
                he = [],
                pe = !1,
                fe = !1,
                ge = !1;

            function me(n, o) {
                he.forEach(function(t, e) {
                    e = o.children[t.sortableIndex + (n ? Number(e) : 0)];
                    e ? o.insertBefore(t, e) : o.appendChild(t)
                })
            }

            function ve() {
                de.forEach(function(t) {
                    t !== se && t.parentNode && t.parentNode.removeChild(t)
                })
            }
            return jt.mount(new function() {
                function t() {
                    for (var t in this.defaults = {
                            scroll: !0,
                            forceAutoScrollFallback: !1,
                            scrollSensitivity: 30,
                            scrollSpeed: 10,
                            bubbleScroll: !0
                        }, this) "_" === t.charAt(0) && "function" == typeof this[t] && (this[t] = this[t].bind(this))
                }
                return t.prototype = {
                    dragStarted: function(t) {
                        t = t.originalEvent;
                        this.sortable.nativeDraggable ? h(document, "dragover", this._handleAutoScroll) : this.options.supportPointer ? h(document, "pointermove", this._handleFallbackAutoScroll) : t.touches ? h(document, "touchmove", this._handleFallbackAutoScroll) : h(document, "mousemove", this._handleFallbackAutoScroll)
                    },
                    dragOverCompleted: function(t) {
                        t = t.originalEvent;
                        this.options.dragOverBubble || t.rootEl || this._handleAutoScroll(t)
                    },
                    drop: function() {
                        this.sortable.nativeDraggable ? p(document, "dragover", this._handleAutoScroll) : (p(document, "pointermove", this._handleFallbackAutoScroll), p(document, "touchmove", this._handleFallbackAutoScroll), p(document, "mousemove", this._handleFallbackAutoScroll)), ee(), te(), clearTimeout(m), m = void 0
                    },
                    nulling: function() {
                        Zt = Ut = Gt = Jt = $t = qt = Vt = null, Qt.length = 0
                    },
                    _handleFallbackAutoScroll: function(t) {
                        this._handleAutoScroll(t, !0)
                    },
                    _handleAutoScroll: function(e, n) {
                        var o, i = this,
                            r = (e.touches ? e.touches[0] : e).clientX,
                            a = (e.touches ? e.touches[0] : e).clientY,
                            t = document.elementFromPoint(r, a);
                        Zt = e, n || this.options.forceAutoScrollFallback || w || y || u ? (oe(e, this.options, t, n), o = M(t, !0), !Jt || $t && r === qt && a === Vt || ($t && ee(), $t = setInterval(function() {
                            var t = M(document.elementFromPoint(r, a), !0);
                            t !== o && (o = t, te()), oe(e, i.options, t, n)
                        }, 10), qt = r, Vt = a)) : this.options.bubbleScroll && M(t, !0) !== O() ? oe(e, this.options, M(t, !1), !1) : te()
                    }
                }, a(t, {
                    pluginName: "scroll",
                    initializeByDefault: !0
                })
            }), jt.mount(re, ie), jt.mount(new function() {
                function t() {
                    this.defaults = {
                        swapClass: "sortable-swap-highlight"
                    }
                }
                return t.prototype = {
                    dragStart: function(t) {
                        t = t.dragEl;
                        ne = t
                    },
                    dragOverValid: function(t) {
                        var e = t.completed,
                            n = t.target,
                            o = t.onMove,
                            i = t.activeSortable,
                            r = t.changed,
                            a = t.cancel;
                        i.options.swap && (t = this.sortable.el, i = this.options, n && n !== t && (t = ne, ne = !1 !== o(n) ? (k(n, i.swapClass, !0), n) : null, t && t !== ne && k(t, i.swapClass, !1)), r(), e(!0), a())
                    },
                    drop: function(t) {
                        var e, n, o = t.activeSortable,
                            i = t.putSortable,
                            r = t.dragEl,
                            a = i || this.sortable,
                            l = this.options;
                        ne && k(ne, l.swapClass, !1), ne && (l.swap || i && i.options.swap) && r !== ne && (a.captureAnimationState(), a !== o && o.captureAnimationState(), n = ne, t = (e = r).parentNode, l = n.parentNode, t && l && !t.isEqualNode(n) && !l.isEqualNode(e) && (i = j(e), r = j(n), t.isEqualNode(l) && i < r && r++, t.insertBefore(n, t.children[i]), l.insertBefore(e, l.children[r])), a.animateAll(), a !== o && o.animateAll())
                    },
                    nulling: function() {
                        ne = null
                    }
                }, a(t, {
                    pluginName: "swap",
                    eventProperties: function() {
                        return {
                            swapItem: ne
                        }
                    }
                })
            }), jt.mount(new function() {
                function t(o) {
                    for (var t in this) "_" === t.charAt(0) && "function" == typeof this[t] && (this[t] = this[t].bind(this));
                    o.options.avoidImplicitDeselect || (o.options.supportPointer ? h(document, "pointerup", this._deselectMultiDrag) : (h(document, "mouseup", this._deselectMultiDrag), h(document, "touchend", this._deselectMultiDrag))), h(document, "keydown", this._checkKeyDown), h(document, "keyup", this._checkKeyUp), this.defaults = {
                        selectedClass: "sortable-selected",
                        multiDragKey: null,
                        avoidImplicitDeselect: !1,
                        setData: function(t, e) {
                            var n = "";
                            de.length && le === o ? de.forEach(function(t, e) {
                                n += (e ? ", " : "") + t.textContent
                            }) : n = e.textContent, t.setData("Text", n)
                        }
                    }
                }
                return t.prototype = {
                    multiDragKeyDown: !1,
                    isMultiDrag: !1,
                    delayStartGlobal: function(t) {
                        t = t.dragEl;
                        se = t
                    },
                    delayEnded: function() {
                        this.isMultiDrag = ~de.indexOf(se)
                    },
                    setupClone: function(t) {
                        var e = t.sortable,
                            t = t.cancel;
                        if (this.isMultiDrag) {
                            for (var n = 0; n < de.length; n++) he.push(C(de[n])), he[n].sortableIndex = de[n].sortableIndex, he[n].draggable = !1, he[n].style["will-change"] = "", k(he[n], this.options.selectedClass, !1), de[n] === se && k(he[n], this.options.chosenClass, !1);
                            e._hideClone(), t()
                        }
                    },
                    clone: function(t) {
                        var e = t.sortable,
                            n = t.rootEl,
                            o = t.dispatchSortableEvent,
                            t = t.cancel;
                        this.isMultiDrag && (this.options.removeCloneOnHide || de.length && le === e && (me(!0, n), o("clone"), t()))
                    },
                    showClone: function(t) {
                        var e = t.cloneNowShown,
                            n = t.rootEl,
                            t = t.cancel;
                        this.isMultiDrag && (me(!1, n), he.forEach(function(t) {
                            R(t, "display", "")
                        }), e(), ue = !1, t())
                    },
                    hideClone: function(t) {
                        var e = this,
                            n = (t.sortable, t.cloneNowHidden),
                            t = t.cancel;
                        this.isMultiDrag && (he.forEach(function(t) {
                            R(t, "display", "none"), e.options.removeCloneOnHide && t.parentNode && t.parentNode.removeChild(t)
                        }), n(), ue = !0, t())
                    },
                    dragStartGlobal: function(t) {
                        t.sortable;
                        !this.isMultiDrag && le && le.multiDrag._deselectMultiDrag(), de.forEach(function(t) {
                            t.sortableIndex = j(t)
                        }), de = de.sort(function(t, e) {
                            return t.sortableIndex - e.sortableIndex
                        }), ge = !0
                    },
                    dragStarted: function(t) {
                        var e, n = this,
                            t = t.sortable;
                        this.isMultiDrag && (this.options.sort && (t.captureAnimationState(), this.options.animation && (de.forEach(function(t) {
                            t !== se && R(t, "position", "absolute")
                        }), e = X(se, !1, !0, !0), de.forEach(function(t) {
                            t !== se && T(t, e)
                        }), pe = fe = !0)), t.animateAll(function() {
                            pe = fe = !1, n.options.animation && de.forEach(function(t) {
                                x(t)
                            }), n.options.sort && ve()
                        }))
                    },
                    dragOver: function(t) {
                        var e = t.target,
                            n = t.completed,
                            t = t.cancel;
                        fe && ~de.indexOf(e) && (n(!1), t())
                    },
                    revert: function(t) {
                        var n, o, e = t.fromSortable,
                            i = t.rootEl,
                            r = t.sortable,
                            a = t.dragRect;
                        1 < de.length && (de.forEach(function(t) {
                            r.addAnimationState({
                                target: t,
                                rect: fe ? X(t) : a
                            }), x(t), t.fromRect = a, e.removeAnimationState(t)
                        }), fe = !1, n = !this.options.removeCloneOnHide, o = i, de.forEach(function(t, e) {
                            e = o.children[t.sortableIndex + (n ? Number(e) : 0)];
                            e ? o.insertBefore(t, e) : o.appendChild(t)
                        }))
                    },
                    dragOverCompleted: function(t) {
                        var e, n = t.sortable,
                            o = t.isOwner,
                            i = t.insertion,
                            r = t.activeSortable,
                            a = t.parentEl,
                            l = t.putSortable,
                            t = this.options;
                        i && (o && r._hideClone(), pe = !1, t.animation && 1 < de.length && (fe || !o && !r.options.sort && !l) && (e = X(se, !1, !0, !0), de.forEach(function(t) {
                            t !== se && (T(t, e), a.appendChild(t))
                        }), fe = !0), o || (fe || ve(), 1 < de.length ? (o = ue, r._showClone(n), r.options.animation && !ue && o && he.forEach(function(t) {
                            r.addAnimationState({
                                target: t,
                                rect: ce
                            }), t.fromRect = ce, t.thisAnimationDuration = null
                        })) : r._showClone(n)))
                    },
                    dragOverAnimationCapture: function(t) {
                        var e = t.dragRect,
                            n = t.isOwner,
                            t = t.activeSortable;
                        de.forEach(function(t) {
                            t.thisAnimationDuration = null
                        }), t.options.animation && !n && t.multiDrag.isMultiDrag && (ce = a({}, e), e = b(se, !0), ce.top -= e.f, ce.left -= e.e)
                    },
                    dragOverAnimationComplete: function() {
                        fe && (fe = !1, ve())
                    },
                    drop: function(t) {
                        var o, i, r, a, n, e, l, s = t.originalEvent,
                            c = t.rootEl,
                            u = t.parentEl,
                            d = t.sortable,
                            h = t.dispatchSortableEvent,
                            p = t.oldIndex,
                            t = t.putSortable,
                            f = t || this.sortable;
                        s && (o = this.options, i = u.children, ge || (o.multiDragKey && !this.multiDragKeyDown && this._deselectMultiDrag(), k(se, o.selectedClass, !~de.indexOf(se)), ~de.indexOf(se) ? (de.splice(de.indexOf(se), 1), ae = null, G({
                            sortable: d,
                            rootEl: c,
                            name: "deselect",
                            targetEl: se,
                            originalEvent: s
                        })) : (de.push(se), G({
                            sortable: d,
                            rootEl: c,
                            name: "select",
                            targetEl: se,
                            originalEvent: s
                        }), s.shiftKey && ae && d.el.contains(ae) ? (r = j(ae), a = j(se), ~r && ~a && r !== a && function() {
                            for (var e, t = r < a ? (e = r, a) : (e = a, r + 1), n = o.filter; e < t; e++) ~de.indexOf(i[e]) || P(i[e], o.draggable, u, !1) && (n && ("function" == typeof n ? n.call(d, s, i[e], d) : n.split(",").some(function(t) {
                                return P(i[e], t.trim(), u, !1)
                            })) || (k(i[e], o.selectedClass, !0), de.push(i[e]), G({
                                sortable: d,
                                rootEl: c,
                                name: "select",
                                targetEl: i[e],
                                originalEvent: s
                            })))
                        }()) : ae = se, le = f)), ge && this.isMultiDrag && (fe = !1, (u[K].options.sort || u !== c) && 1 < de.length && (n = X(se), e = j(se, ":not(." + this.options.selectedClass + ")"), !pe && o.animation && (se.thisAnimationDuration = null), f.captureAnimationState(), pe || (o.animation && (se.fromRect = n, de.forEach(function(t) {
                            var e;
                            t.thisAnimationDuration = null, t !== se && (e = fe ? X(t) : n, t.fromRect = e, f.addAnimationState({
                                target: t,
                                rect: e
                            }))
                        })), ve(), de.forEach(function(t) {
                            i[e] ? u.insertBefore(t, i[e]) : u.appendChild(t), e++
                        }), p === j(se) && (l = !1, de.forEach(function(t) {
                            t.sortableIndex !== j(t) && (l = !0)
                        }), l && (h("update"), h("sort")))), de.forEach(function(t) {
                            x(t)
                        }), f.animateAll()), le = f), (c === u || t && "clone" !== t.lastPutMode) && he.forEach(function(t) {
                            t.parentNode && t.parentNode.removeChild(t)
                        }))
                    },
                    nullingGlobal: function() {
                        this.isMultiDrag = ge = !1, he.length = 0
                    },
                    destroyGlobal: function() {
                        this._deselectMultiDrag(), p(document, "pointerup", this._deselectMultiDrag), p(document, "mouseup", this._deselectMultiDrag), p(document, "touchend", this._deselectMultiDrag), p(document, "keydown", this._checkKeyDown), p(document, "keyup", this._checkKeyUp)
                    },
                    _deselectMultiDrag: function(t) {
                        if (!(void 0 !== ge && ge || le !== this.sortable || t && P(t.target, this.options.draggable, this.sortable.el, !1) || t && 0 !== t.button))
                            for (; de.length;) {
                                var e = de[0];
                                k(e, this.options.selectedClass, !1), de.shift(), G({
                                    sortable: this.sortable,
                                    rootEl: this.sortable.el,
                                    name: "deselect",
                                    targetEl: e,
                                    originalEvent: t
                                })
                            }
                    },
                    _checkKeyDown: function(t) {
                        t.key === this.options.multiDragKey && (this.multiDragKeyDown = !0)
                    },
                    _checkKeyUp: function(t) {
                        t.key === this.options.multiDragKey && (this.multiDragKeyDown = !1)
                    }
                }, a(t, {
                    pluginName: "multiDrag",
                    utils: {
                        select: function(t) {
                            var e = t.parentNode[K];
                            e && e.options.multiDrag && !~de.indexOf(t) && (le && le !== e && (le.multiDrag._deselectMultiDrag(), le = e), k(t, e.options.selectedClass, !0), de.push(t))
                        },
                        deselect: function(t) {
                            var e = t.parentNode[K],
                                n = de.indexOf(t);
                            e && e.options.multiDrag && ~n && (k(t, e.options.selectedClass, !1), de.splice(n, 1))
                        }
                    },
                    eventProperties: function() {
                        var n = this,
                            o = [],
                            i = [];
                        return de.forEach(function(t) {
                            var e;
                            o.push({
                                multiDragElement: t,
                                index: t.sortableIndex
                            }), e = fe && t !== se ? -1 : fe ? j(t, ":not(." + n.options.selectedClass + ")") : j(t), i.push({
                                multiDragElement: t,
                                index: e
                            })
                        }), {
                            items: r(de),
                            clones: [].concat(he),
                            oldIndicies: o,
                            newIndicies: i
                        }
                    },
                    optionListeners: {
                        multiDragKey: function(t) {
                            return "ctrl" === (t = t.toLowerCase()) ? t = "Control" : 1 < t.length && (t = t.charAt(0).toUpperCase() + t.substr(1)), t
                        }
                    }
                })
            }), jt
        });
        let config, SCALES, currentLanguage, currentScale, pbis = [],
            currentEditingId = null,
            currentSortCriteria = "jobSize",
            currentSortDirection = "asc",
            lastImportedFileName = null,
            currentHighlightedColumn = null,
            lastEditedPbiId = null,
            activePopupPbiId = null,
            isFilterLocked = !1,
            lockedPbiOrder = [],
            preLockSortCriteria = "jobSize",
            preLockSortDirection = "asc",
            initialCustomOrderSet = !1,
            pbiIdToCustomColor = {},
            isOptimalChartCollapsed = !0,
            exportSortCriteria = "jobSize",
            exportSortDirection = "asc";

        function ensureLastItemExists(e) {
            e || (e = []);
            for (var t = [], i = [], o = 0; o < e.length; o++) e[o] && (-1 === e[o].id || !0 === e[o].isLastItem ? 0 === t.length && t.push(e[o]) : i.push(e[o]));
            var n = i,
                r = {
                    id: -1,
                    isLastItem: !0,
                    isReference: !1,
                    referenceType: null,
                    title: config && config.uiStrings ? config.uiStrings.lastItemTitle : "---",
                    complexity: 0,
                    effort: 0,
                    doubt: 0,
                    jobSize: null,
                    cod_bv: 0,
                    cod_tc: 0,
                    cod_rroe: 0,
                    cod: null,
                    tshirtSize: null
                };
            return n.push(r), n
        }

        function processConfig(e) {
            let t = e;
            t.defaultSettings || (t.defaultSettings = {}), "boolean" != typeof t.defaultSettings.confirmOnExit && (t.defaultSettings.confirmOnExit = !1), "undefined" != typeof window && ("boolean" == typeof t.defaultSettings.showReferenceMarkers ? window.showReferenceMarkers = t.defaultSettings.showReferenceMarkers : window.showReferenceMarkers = !0), t.defaultColors || (t.defaultColors = {
                complexity: "#cacde6",
                effort: "#A9E0E7",
                doubt: "#FFA6BE",
                total: "#efefef",
                numberComplexity: "#666666",
                numberEffort: "#666666",
                numberDoubt: "#666666",
                bv: "#FFD700",
                tc: "#87CEEB",
                rroe: "#98FB98",
                numberBv: "#666666",
                numberTc: "#666666",
                numberRrOe: "#666666"
            }), t.colors || (t.colors = JSON.parse(JSON.stringify(t.defaultColors))), t.defaultEditorColors || (t.defaultEditorColors = {
                1: "#279745",
                2: "#2560d1",
                3: "#937404",
                4: "#c90000"
            }), t.editorColors || (t.editorColors = JSON.parse(JSON.stringify(t.defaultEditorColors)));
            let i = t.defaultSettings.language;
            if ("undefined" != typeof window && window.location) {
                var o = window.location.search.substring(1),
                    n = null;
                if ("undefined" != typeof URLSearchParams) n = new URLSearchParams(o).get("lang");
                if (!n && o) {
                    var r = o.split("&");
                    if (r.length > 0) {
                        var a = r[0];
                        t.languages && t.languages[a] && (n = a)
                    }
                }
                n && t.languages && t.languages[n] && (i = n)
            }
            t.languages && t.languages[i] && (t.uiStrings = t.languages[i]);
            const l = Array.isArray(t.initialPbis) ? t.initialPbis : [];
            return {
                config: t,
                SCALES: t.scales,
                pbis: l,
                currentLanguage: i,
                currentScale: t.defaultSettings.scale
            }
        }

        function loadConfigAndInit() {
            const e = document.getElementById("size-right-config");
            if (e) {
                const t = processConfig(JSON.parse(e.textContent));
                config = t.config, SCALES = t.SCALES, pbis = t.pbis, currentLanguage = t.currentLanguage, currentScale = t.currentScale, applyUiStrings(), pbis = ensureLastItemExists(pbis)
            } else console.error("Configuration script tag not found!")
        }

        function applyColorSettings(e) {
            var t = "dynamic-color-settings",
                i = document.getElementById(t);
            i && i.remove();
            var o = config && config.editorColors || config && config.defaultEditorColors || {
                    1: "#4ba663",
                    2: "#ee6969",
                    3: "#4e71f0",
                    4: "#937404"
                },
                n = ":root {--color-complexity: " + e.complexity + ";--color-effort: " + e.effort + ";--color-doubt: " + e.doubt + ";--color-total: " + e.total + ";--circle-number-color-complexity: " + e.numberComplexity + ";--circle-number-color-effort: " + e.numberEffort + ";--circle-number-color-doubt: " + e.numberDoubt + ";--color-bv: " + e.bv + ";--color-tc: " + e.tc + ";--color-rroe: " + e.rroe + ";--circle-number-color-bv: " + e.numberBv + ";--circle-number-color-tc: " + e.numberTc + ";--circle-number-color-rroe: " + e.numberRrOe + ";--color-editor-1: " + o[1] + ";--color-editor-2: " + o[2] + ";--color-editor-3: " + o[3] + ";--color-editor-4: " + o[4] + ";}",
                r = document.createElement("style");
            r.id = t, r.type = "text/css", r.styleSheet ? r.styleSheet.cssText = n : r.appendChild(document.createTextNode(n)), document.head.appendChild(r)
        }

        function displayVersionInfo() {
            const e = document.querySelector('meta[name="version"]'),
                t = document.getElementById("info-version-value");
            e && t && (t.textContent = e.getAttribute("content"));
            const i = document.getElementById("info-build-value");
            config && config.buildNumber && i && (i.textContent = config.buildNumber)
        }

        function applyUiStrings() {
            const e = config.uiStrings;
            var t, i;

            function o(e, t) {
                (i = document.getElementById(e)) ? i.textContent = t || "": console.warn('applyUiStrings: Element with ID "' + e + '" not found.')
            }

            function n(e, t) {
                (i = document.getElementById(e)) ? i.title = t || "": console.warn('applyUiStrings: Element with ID "' + e + '" not found.')
            }

            function r(e, t) {
                (i = document.getElementById(e)) ? i.placeholder = t || "": console.warn('applyUiStrings: Element with ID "' + e + '" not found.')
            }

            function a(e, t) {
                (i = document.getElementById(e)) ? i.value = t || "": console.warn('applyUiStrings: Element with ID "' + e + '" not found.')
            }

            function l(e, t) {
                (i = document.querySelector(e)) ? i.textContent = t || "": console.warn('applyUiStrings: Element with selector "' + e + '" not found.')
            }

            function c(e, t, i, o, n) {
                var r = document.getElementById(e);
                if (!r) return !1;
                var a = document.getElementById(t),
                    l = document.getElementById(i);
                return n && "" !== n.trim() ? (r.style.display = "", a && (a.textContent = o || ""), l && (l.textContent = n || ""), !1) : (r.style.display = "none", !0)
            }
            if (document.title = e.pageTitle, document.documentElement ? document.documentElement.lang = currentLanguage : console.warn("applyUiStrings: document.documentElement not found."), o("main-header", e.mainHeader), o("main-claim", e.mainClaim), o("add-pbi-btn", e.btnAddPbi), n("import-btn", e.btnImportTitle), n("export-btn", e.btnExportTitle), n("help-btn", e.helpButtonTitle), o("legend-complexity", e.legendComplexity), o("legend-effort", e.legendEffort), o("legend-doubt", e.legendDoubt), o("legend-cod-bv", e.modalLabelCodBv), o("legend-cod-tc", e.modalLabelCodTc), o("legend-cod-rroe", e.modalLabelCodRroe), r("pbi-title", e.modalPlaceholderTitle), r("pbi-notes", e.modalNotesPlaceholder), o("cancel-btn", e.btnCancel), o("save-btn", e.btnSave), n("settings-btn", e.btnSettingsTitle), n("reset-app-btn", e.btnResetAppTitle), o("settings-modal-title", e.modalTitleSettings), o("settings-modal-language-label", e.modalLanguageLabel), o("settings-lang-option-de", e.langOptionDe), o("settings-lang-option-en", e.langOptionEn), o("settings-cancel-btn", e.btnCancel), o("settings-save-btn", e.btnSave), n("modal-prev-btn", e.tooltipModalPrev), n("modal-next-btn", e.tooltipModalNext), o("filter-job-size-btn", e.filterJobSize), o("filter-cod-btn", e.filterCoD), o("filter-wsjf-btn", e.filterWSJF), o("filter-tshirt-size-btn", e.filterTshirtSize), n("custom-sort-btn", e.filterCustomSort), o("tab-btn-jobsize", e.tabJobSize), o("tab-btn-cod", e.tabCoD), o("settings-modal-scale-label", e.modalScaleLabel), o("settings-modal-tshirt-label", e.modalTshirtLabel), o("settings-modal-general-label", e.settingsModalGeneralLabel), o("settings-label-show-res-warning", e.settingsLabelShowResWarning), o("settings-scale-option-metric", e.scaleOptionMetric), o("settings-scale-option-safe", e.scaleOptionSAFe), n("sort-asc-btn", e.tooltipSortAsc), n("sort-desc-btn", e.tooltipSortDesc), n("filter-lock-btn", isFilterLocked ? e.tooltipFilterUnlock : e.tooltipFilterLock), n("reset-filters-btn", e.btnResetFiltersTitle), l("#modal-complexity-label .label-text", e.modalLabelComplexity), l("#modal-effort-label .label-text", e.modalLabelEffort), l("#modal-doubt-label .label-text", e.modalLabelDoubt), l("#modal-cod-bv-label .label-text", e.modalLabelCodBv), l("#modal-cod-tc-label .label-text", e.modalLabelCodTc), l("#modal-cod-rroe-label .label-text", e.modalLabelCodRroe), o("modal-notes-label", e.modalLabelNotes), o("reset-cod-btn", e.btnResetCoD), o("reset-job-size-btn", e.btnResetJobSize), n("split-divider", e.dividerTooltip), o("info-modal-title", e.modalTitleInfo), o("info-weblink-label", e.infoWeblinkLabel), o("reset-app-modal-title", e.modalTitleResetApp), o("reset-app-text", e.resetAppText), o("reset-app-export-btn", e.btnResetAppExport), o("reset-app-confirm-btn", e.btnResetAppDelete), o("reset-app-cancel-btn", e.btnCancel), n("btn-editor-bold", e.editorBold), n("btn-editor-italic", e.editorItalic), n("btn-editor-underline", e.editorUnderline), n("btn-editor-strike", e.editorStrikethrough), n("btn-editor-link", e.editorLink), n("btn-editor-clean", e.editorClean), n("btn-editor-c1", e.editorColor1), n("btn-editor-c2", e.editorColor2), n("btn-editor-c3", e.editorColor3), n("btn-editor-c4", e.editorColor4), n("btn-csv-export", e.btnCsvExportTitle), o("csv-export-modal-title", e.modalTitleCsvExport), o("csv-export-text", e.csvExportText), o("btn-csv-export-cancel", e.btnCsvExportCancel), o("btn-csv-export-confirm", e.btnCsvExportConfirm), o("settings-modal-editor-color-label", e.settingsEditorColorLabel), o("label-editor-c1", e.editorColor1), o("label-editor-c2", e.editorColor2), o("label-editor-c3", e.editorColor3), o("label-editor-c4", e.editorColor4), o("csv-sort-btn-job-size", e.filterJobSize), o("csv-sort-btn-tshirt-size", e.filterTshirtSize), o("csv-sort-btn-cod", e.filterCoD), o("csv-sort-btn-wsjf", e.filterWSJF), n("csv-sort-custom-btn", e.filterCustomSort), n("csv-sort-asc-btn", e.tooltipSortAsc), n("csv-sort-desc-btn", e.tooltipSortDesc), o("resolution-warning-text", e.resolutionWarning), o("resolution-warning-ignore-btn", e.btnOpenAnyway), (i = document.getElementById("info-weblink-sentence")) && e.infoWeblinkSentence) {
                i.textContent = "";
                const t = String(e.infoWeblinkSentence).split("{weblink}"),
                    o = document.createElement("a");
                o.href = e.infoWeblinkUrl || "#", o.target = "_blank", o.rel = "noopener", o.textContent = e.infoWeblinkText || e.infoWeblinkUrl || "link", i.appendChild(document.createTextNode(t[0] || "")), i.appendChild(o), i.appendChild(document.createTextNode(t[1] || ""))
            }
            o("info-about-label", e.infoAboutLabel), o("info-version-label", e.infoVersionLabel), o("info-build-label", e.infoBuildLabel);
            var s = c("info-entry-contact", "info-contact-label", "info-contact-value", e.infoContactLabel, e.infoContactValue),
                d = c("info-entry-function", "info-function-label", "info-function-value", e.infoFunctionLabel, e.infoFunctionValue),
                u = c("info-entry-email", "info-email-label", "info-email-value", e.infoEmailLabel, e.infoEmailValue),
                f = c("info-entry-department", "info-department-label", "info-department-value", e.infoDepartmentLabel, e.infoDepartmentValue),
                m = c("info-entry-company", "info-company-label", "info-company-value", e.infoCompanyLabel, e.infoCompanyValue),
                p = document.getElementById("info-about-divider"),
                g = document.getElementById("info-license-text"),
                b = s && d && u && f && m;
            p && (p.style.display = b ? "none" : ""), g && (g.style.minHeight = b ? "100px" : "");
            var v, y, h, S = document.getElementById("info-license-text-thirdparty");
            S && (S.style.minHeight = b ? "100px" : ""), o("info-close-btn", e.btnClose), o("info-tab-btn-software", e.infoTabLicenseSoftware), o("info-tab-btn-thirdparty", e.infoTabLicenseThirdParty), o("info-license-designation-software", e.infoLicenseDesignationSoftware), o("info-license-link-software", e.infoLicenseLinkTextSoftware), o("info-license-designation-thirdparty", e.infoLicenseDesignationThirdParty), o("info-license-link-thirdparty", e.infoLicenseLinkTextThirdParty), a("info-license-text", e.licenseText), a("info-license-text-thirdparty", e.licenseTextThirdParty), o("settings-modal-color-label", e.settingsColorLabel), o("color-label-complexity", e.colorComplexity), o("color-label-effort", e.colorEffort), o("color-label-doubt", e.colorDoubt), o("color-label-total", e.colorTotal), o("color-label-number-complexity", e.colorNumberComplexity), o("color-label-number-effort", e.colorNumberEffort), o("color-label-number-doubt", e.colorNumberDoubt), o("color-label-bv", e.colorBv), o("color-label-tc", e.colorTc), o("color-label-rroe", e.colorRrOe), o("color-label-number-bv", e.colorNumberBv), o("color-label-number-tc", e.colorNumberTc), o("color-label-number-rroe", e.colorNumberRrOe), o("reset-settings-btn", e.btnResetSettings), o("view-tab-job-size-viz", e.tabJobSizeViz), o("view-tab-cod-viz", e.tabCoDViz), o("view-tab-wsjf-viz", e.tabWsjfViz), o("view-tab-relative-sizing", e.tabRelativeSizing), o("rs-group-header-job-size", e.groupJobSize), o("rs-group-header-cod", e.groupCoD), o("rs-group-header-wsjf", e.groupWsjf), (t = document.getElementById("rs-col-header-complexity")) && (t.textContent = e.colComplexity || "", t.parentElement && (t.parentElement.title = e.tooltipComplexity || "")), (t = document.getElementById("rs-col-header-effort")) && (t.textContent = e.colEffort || "", t.parentElement && (t.parentElement.title = e.tooltipEffort || "")), (t = document.getElementById("rs-col-header-doubt")) && (t.textContent = e.colDoubt || "", t.parentElement && (t.parentElement.title = e.tooltipDoubt || "")), (t = document.getElementById("rs-col-header-job-size")) && (t.textContent = e.colJobSize || "", t.parentElement && (t.parentElement.title = e.tooltipJobSize || "")), (t = document.getElementById("rs-col-header-bv")) && (t.textContent = e.colBv || "", t.parentElement && (t.parentElement.title = e.tooltipBv || "")), (t = document.getElementById("rs-col-header-tc")) && (t.textContent = e.colTc || "", t.parentElement && (t.parentElement.title = e.tooltipTc || "")), (t = document.getElementById("rs-col-header-rroe")) && (t.textContent = e.colRrOe || "", t.parentElement && (t.parentElement.title = e.tooltipRrOe || "")), (t = document.getElementById("rs-col-header-cod")) && (t.textContent = e.pbiInfoCoD || "", t.parentElement && (t.parentElement.title = e.tooltipCoD || "")), (t = document.getElementById("rs-col-header-wsjf")) && (t.textContent = e.colWsjf || "", t.parentElement && (t.parentElement.title = e.tooltipWsjf || "")), v = ".highlight-btn", y = e.highlightColumnTitle, (h = document.querySelectorAll(v)).length, h.forEach(function(e, t) {
                e ? e.title = y || "" : console.warn("applyUiStrings: Item at index " + t + ' for selector "' + v + '" became invalid.')
            }), updateLegendSortInfo(), updateCodLegendSortInfo(), updateWsjfLegendSortInfo(), o("modal-prev-label", e.navPrevItem), o("modal-next-label", e.navNextItem), document.getElementById("settings-label-show-ref-markers") && o("settings-label-show-ref-markers", e.settingShowRefMarkers), "function" == typeof updateRefMarkerButtonState && updateRefMarkerButtonState()
        }

        function getSortedPbis(e, t, i, o, n) {
            var r, a = [],
                l = null,
                c = [],
                s = "custom" === t,
                d = !0 === n;
            if ((e || []).forEach(function(e) {
                    e && (e.isReference && !s && !d ? a.push(e) : e.isLastItem || -1 === e.id ? l = e : c.push(e))
                }), a.sort(function(e, t) {
                    return "min" === e.referenceType ? -1 : "min" === t.referenceType || "max" === e.referenceType ? 1 : "max" === t.referenceType ? -1 : 0
                }), "creationOrder" === t) r = c.slice();
            else if ("lock" === t && lockedPbiOrder.length > 0) {
                const e = c.reduce(function(e, t) {
                    return e[t.id] = t, e
                }, {});
                r = lockedPbiOrder.map(t => e[t]).filter(e => void 0 !== e);
                const t = lockedPbiOrder.reduce((e, t) => (e[t] = !0, e), {}),
                    i = c.filter(e => !t[e.id]);
                r = r.concat(i)
            } else if ("custom" === t) {
                const e = c.reduce(function(e, t) {
                    return e[t.id] = t, e
                }, {});
                r = lockedPbiOrder.map(t => e[t]).filter(e => void 0 !== e);
                const t = lockedPbiOrder.reduce((e, t) => (e[t] = !0, e), {}),
                    o = c.filter(e => !t[e.id]);
                r = r.concat(o), "desc" === i && r.reverse()
            } else r = c.slice().sort(function(e, i) {
                let n, r;
                if ("tshirtSize" === t) {
                    const t = o.allTshirtSizes.reduce(function(e, t, i) {
                        return e[t] = i + 1, e
                    }, {});
                    n = t[e.tshirtSize] || 999, r = t[i.tshirtSize] || 999
                } else if ("wsjf" === t) {
                    var a = e.complexity > 0 && e.effort > 0 && e.doubt > 0,
                        l = e.cod_bv > 0 && e.cod_tc > 0 && e.cod_rroe > 0,
                        c = i.complexity > 0 && i.effort > 0 && i.doubt > 0,
                        s = i.cod_bv > 0 && i.cod_tc > 0 && i.cod_rroe > 0;
                    const t = e.jobSize || 1,
                        o = i.jobSize || 1;
                    n = a && l ? (e.cod || 0) / t : 0, r = c && s ? (i.cod || 0) / o : 0
                } else {
                    if (n = "number" == typeof e[t] ? e[t] : 0, r = "number" == typeof i[t] ? i[t] : 0, "jobSize" === t) e.complexity > 0 && e.effort > 0 && e.doubt > 0 || (n = 0), i.complexity > 0 && i.effort > 0 && i.doubt > 0 || (r = 0);
                    if ("cod" === t) e.cod_bv > 0 && e.cod_tc > 0 && e.cod_rroe > 0 || (n = 0), i.cod_bv > 0 && i.cod_tc > 0 && i.cod_rroe > 0 || (r = 0)
                }
                if (n === r) {
                    const t = (e.title || "").toLowerCase(),
                        o = (i.title || "").toLowerCase();
                    return t < o ? -1 : t > o ? 1 : 0
                }
                return n - r
            }), "desc" === i && r.reverse();
            var u = [];
            return u = (u = u.concat(a)).concat(r), l && (u = u.concat(l)), u
        }

        function updateFilterButtonStates() {
            const e = pbis.filter(function(e) {
                    return !e.isLastItem
                }),
                t = e.length > 0,
                i = e.some(e => e.cod && e.cod > 0),
                o = e.some(e => e.tshirtSize),
                n = document.getElementById("filter-job-size-btn"),
                r = document.getElementById("filter-cod-btn"),
                a = document.getElementById("filter-wsjf-btn"),
                l = document.getElementById("filter-tshirt-size-btn"),
                c = document.getElementById("sort-asc-btn"),
                s = document.getElementById("sort-desc-btn"),
                d = document.getElementById("custom-sort-btn"),
                u = document.getElementById("export-btn"),
                f = document.getElementById("btn-csv-export"),
                m = document.getElementById("filter-lock-btn"),
                p = document.getElementById("reset-filters-btn");
            n && (n.disabled = !t || isFilterLocked), r && (r.disabled = !t || !i || isFilterLocked), a && (a.disabled = !t || !i || isFilterLocked), l && (l.disabled = !t || !o || isFilterLocked);
            const g = "custom" === currentSortCriteria;
            c && (c.disabled = !t || g), s && (s.disabled = !t || g), d && (d.disabled = !t), m && (m.disabled = !t || "custom" === currentSortCriteria), p && (p.disabled = !t || "custom" === currentSortCriteria), u && (u.disabled = !t), f && (f.disabled = !t);
            const b = "creationOrder";
            !t || i || "cod" !== currentSortCriteria && "wsjf" !== currentSortCriteria || (currentSortCriteria = b, document.querySelector(".filter-btn.active")?.classList.remove("active")), t && !o && "tshirtSize" === currentSortCriteria && (currentSortCriteria = b, document.querySelector(".filter-btn.active")?.classList.remove("active")), t || currentSortCriteria === b || (currentSortCriteria = b, currentSortDirection = "asc", initialCustomOrderSet = !1, lockedPbiOrder = [], isFilterLocked = !1)
        }

        function renderWsjfVisualization(e) {
            var t = document.getElementById("wsjf-visualization-container");
            if (t) {
                t.innerHTML = "";
                var i = config.uiStrings,
                    o = Array.isArray(e) ? e : Array.isArray(pbis) ? pbis : [];
                t.classList.toggle("wsjf-chart-compact", !isOptimalChartCollapsed);
                var n = o.filter(function(e) {
                    if (!e || e.isLastItem) return !1;
                    var t = e.complexity > 0 && e.effort > 0 && e.doubt > 0,
                        i = e.cod_bv > 0 && e.cod_tc > 0 && e.cod_rroe > 0;
                    return t && i
                });
                if (0 === n.length) {
                    var r = document.createElement("div");
                    r.id = "wsjf-no-data-container";
                    r.innerHTML = '<svg class="wsjf-no-data-icon" width="128pt" height="128pt" version="1.1" viewBox="0 0 128 128" xmlns="http://www.w3.org/2000/svg"><path d="m24.066 55.262c0 6.2617 2.625 11.93 6.8086 15.961 0.015625 0.015625 0.015625 0.023438 0.023438 0.039063 0.023437 0.023437 0.050781 0.039062 0.074218 0.050781 3.9961 3.7891 9.3555 6.1289 15.285 6.1289 12.234 0 22.195-9.9609 22.195-22.195s-9.9609-22.211-22.195-22.211c-12.238 0-22.195 9.9844-22.195 22.227zm4.2617 0c0-9.1797 6.9102-16.738 15.812-17.805v17.586l-11.66 11.66c-2.5859-3.1094-4.1484-7.1055-4.1484-11.441z"/><path d="m49.051 99.57h-27.855c-3.2734 0-5.9648-2.6758-5.9648-5.9492v-72.359c0-3.2734 2.6914-5.9492 5.9648-5.9492h50.125c3.2734 0 5.9492 2.6758 5.9492 5.9492v41.09c0 1.1797 0.96094 2.125 2.125 2.125 1.1797 0 2.125-0.94531 2.125-2.125v-41.09c0-5.6211-4.5703-10.215-10.215-10.215h-50.109c-5.6289 0-10.227 4.5781-10.227 10.215v72.359c0 5.6289 4.5781 10.215 10.227 10.215h27.855c1.1797 0 2.125-0.94531 2.125-2.125 0-1.1797-0.94922-2.1406-2.125-2.1406z"/><path d="m116.18 107.93-24.078-40.27c-1.3047-2.1641-3.5938-3.4688-6.1211-3.4688-2.5195 0-4.8164 1.3047-6.1211 3.4805l-24.074 40.262c-1.1133 1.8711-1.1406 4.1094-0.074219 6.0039 1.0742 1.8945 3.0117 3.0117 5.1836 3.0117h50.176c2.1758 0 4.1094-1.125 5.1836-3.0117 1.0586-1.9102 1.0352-4.1367-0.074219-6.0039zm-30.195-31.195c1.1797 0 2.125 0.94531 2.125 2.125v18.445c0 1.1641-0.94531 2.125-2.125 2.125-1.1797 0-2.125-0.96094-2.125-2.125v-18.445c0-1.1758 0.94531-2.125 2.125-2.125zm-2.125 29.004c0-1.1797 0.94531-2.125 2.125-2.125 1.1797 0 2.125 0.94531 2.125 2.125v0.80469c0 1.1641-0.94531 2.125-2.125 2.125-1.1797 0-2.125-0.96094-2.125-2.125z"/></svg>';
                    var a = document.createElement("div");
                    return a.id = "wsjf-no-data-text", a.textContent = i.wsjfChartNoData || "No valid WSJF data available.", r.appendChild(a), void t.appendChild(r)
                }
                var l = n.map(function(e) {
                    return {
                        id: e.id,
                        wsjf: e.cod / (e.jobSize || 1),
                        originalPbi: e
                    }
                });
                l.sort(function(e, t) {
                    return t.wsjf - e.wsjf
                });
                var c = {},
                    s = config && config.pastelColorPalette || ["#e0e0e0"];
                0 === s.length && (s = ["#e0e0e0"]), l.forEach(function(e, t) {
                    var i = t + 1,
                        o = (i - 1) % s.length,
                        n = s[o],
                        r = void 0 !== pbiIdToCustomColor && pbiIdToCustomColor[e.id] ? pbiIdToCustomColor[e.id] : n;
                    c[e.id] = {
                        rank: i,
                        color: r
                    }
                });
                var d, u = l.map(function(e) {
                        return e.originalPbi
                    }),
                    f = n.slice();
                if ("custom" === currentSortCriteria || "lock" === currentSortCriteria) {
                    var m = f.reduce(function(e, t) {
                        return e[t.id] = t, e
                    }, {});
                    f = lockedPbiOrder.map(function(e) {
                        return m[e]
                    }).filter(function(e) {
                        return void 0 !== e
                    });
                    var p = lockedPbiOrder.reduce(function(e, t) {
                            return e[t] = !0, e
                        }, {}),
                        g = n.filter(function(e) {
                            return !p[e.id]
                        });
                    f = f.concat(g), "desc" === currentSortDirection && f.reverse(), d = null
                } else if ("tshirtSize" === currentSortCriteria) {
                    var b = config.allTshirtSizes.reduce(function(e, t, i) {
                        return e[t] = i + 1, e
                    }, {});
                    d = function(e, t) {
                        return (b[e.tshirtSize] || 999) - (b[t.tshirtSize] || 999)
                    }
                } else d = "wsjf" === currentSortCriteria ? function(e, t) {
                    return e.cod / (e.jobSize || 1) - t.cod / (t.jobSize || 1)
                } : function(e, t) {
                    return ("number" == typeof e[currentSortCriteria] ? e[currentSortCriteria] : 0) - ("number" == typeof t[currentSortCriteria] ? t[currentSortCriteria] : 0)
                };
                d && (f.sort(function(e, t) {
                    var i = d(e, t);
                    if (0 === i) {
                        var o = (e.title || "").toLowerCase(),
                            n = (t.title || "").toLowerCase();
                        return o < n ? -1 : o > n ? 1 : 0
                    }
                    return i
                }), "desc" === currentSortDirection && f.reverse());
                var v = createChartStructure(t, "optimal", i.wsjfChartTitleOptimal),
                    y = createChartStructure(t, "current", i.wsjfChartTitleCurrentOrderPart || "Current Order/Sorting"),
                    h = 0,
                    S = 0;
                if ("function" != typeof createCodChart) return console.error("createCodChart function is not defined! Cannot render WSJF charts."), v.innerHTML = '<p style="color:red; text-align:center;">Error: Chart rendering function missing.</p>', void(y.innerHTML = '<p style="color:red; text-align:center;">Error: Chart rendering function missing.</p>');
                h = createCodChart("wsjf-chart-optimal", u, c), S = createCodChart("wsjf-chart-current", f, c);
                var C = document.getElementById("wsjf-chart-optimal-total-cost-value"),
                    E = document.getElementById("wsjf-chart-current-total-cost-value"),
                    L = document.getElementById("wsjf-chart-current-total-cost");
                if (C && (C.textContent = h.toLocaleString()), E && L) {
                    var w = "",
                        I = "cost-optimal";
                    h > 0 && S > h ? (w = " (+" + ((S - h) / h * 100).toFixed(0) + "%)", I = "cost-higher") : (Math.abs(S - h) < .01 || S <= h) && (I = "cost-optimal"), E.textContent = S.toLocaleString() + w, L.className = "wsjf-total-cost " + I
                }
            } else renderWsjfVisualization.warned || (console.error("WSJF visualization container not found!"), renderWsjfVisualization.warned = !0)
        }

        function createChartStructure(e, t, i) {
            var o = document.createElement("div");
            o.id = "wsjf-chart-" + t + "-wrapper", o.className = "wsjf-chart-wrapper";
            var n = config.uiStrings || {};
            "optimal" === t && isOptimalChartCollapsed && o.classList.add("collapsed");
            var r = document.createElement("div");
            r.id = "wsjf-chart-" + t + "-title-container", r.className = "wsjf-chart-title-container";
            var a = document.createElement("div");
            a.id = "wsjf-chart-" + t + "-total-cost", a.className = "wsjf-total-cost", a.textContent = (n.wsjfChartLabelTotalCost || "Total Delay Cost:") + " ";
            var l = document.createElement("span");
            l.id = "wsjf-chart-" + t + "-total-cost-value", l.className = "wsjf-title-cost-value", l.textContent = "0", a.appendChild(l), r.appendChild(a);
            var c = document.createElement("h3");
            c.id = "wsjf-chart-" + t + "-title", c.className = "wsjf-chart-title", c.textContent = "| " + i, r.appendChild(c), o.appendChild(r);
            var s = document.createElement("div");
            s.id = "wsjf-chart-" + t + "-content", s.className = "wsjf-chart-outer";
            var d = document.createElement("div");
            d.className = "wsjf-chart-legend", d.innerHTML = (n.wsjfChartLegendLabelVertical || "Y-Axis:") + " " + (n.wsjfChartLegendUnitVertical || "Cost of Delay") + "<br>" + (n.wsjfChartLegendLabelHorizontal || "X-Axis:") + " " + (n.wsjfChartLegendUnitHorizontal || "Cumulative Job Size"), s.appendChild(d);
            var u = document.createElement("div");
            u.id = "wsjf-chart-" + t + "-y-axis-max", u.className = "wsjf-y-axis-label wsjf-y-axis-max", u.textContent = "0", s.appendChild(u);
            var f = document.createElement("div");
            f.className = "wsjf-y-axis-label wsjf-y-axis-zero", f.textContent = "0", s.appendChild(f);
            var m = document.createElement("div");
            m.id = "wsjf-chart-" + t + "-area", m.className = "wsjf-chart-area", s.appendChild(m), o.appendChild(s);
            var p = document.createElement("div");
            return p.id = "wsjf-chart-" + t + "-xaxis", p.className = "wsjf-x-axis", s.appendChild(p), e.appendChild(o), o
        }

        function updateGlobalVisibility() {
            const e = document.getElementById("visualization-legend"),
                t = document.getElementById("cod-visualization-legend"),
                i = document.getElementById("wsjf-visualization-legend"),
                o = document.getElementById("split-root"),
                n = document.getElementById("view-tabs"),
                r = pbis.some(function(e) {
                    return !e.isLastItem
                });
            e && e.classList.toggle("hidden", !r), t && t.classList.toggle("hidden", !r), i && i.classList.toggle("hidden", !r), o && o.classList.toggle("is-empty", !r), n && n.classList.toggle("hidden", !r)
        }

        function updateRelativeSizingHeaders() {
            document.querySelectorAll(".rs-col-header").forEach(function(e) {
                const t = e.querySelector(".sort-asc-icon"),
                    i = e.querySelector(".sort-desc-icon"),
                    o = e.querySelector(".sort-default-icon"),
                    n = e.querySelector(".highlight-btn"),
                    r = e.dataset.sortBy;
                t && (t.style.display = "none"), i && (i.style.display = "none"), o && (o.style.display = "none"), isFilterLocked || "creationOrder" === currentSortCriteria || "custom" === currentSortCriteria ? o && (o.style.display = "inline-block") : r === currentSortCriteria ? "asc" === currentSortDirection && t ? t.style.display = "inline-block" : "desc" === currentSortDirection && i ? i.style.display = "inline-block" : o && (o.style.display = "inline-block") : o && (o.style.display = "inline-block"), n && n.classList.toggle("active", r === currentHighlightedColumn)
            })
        }

        function renderAll() {
            var e, t = document.getElementById("split-root");
            if (t && t.classList.toggle("custom-sort-active", "custom" === currentSortCriteria), "function" == typeof ensureLastItemExists) {
                var i = ensureLastItemExists(pbis);
                Array.isArray(i) ? e = i : (console.error("ensureLastItemExists did not return an array! Using original pbis (if available)."), e = Array.isArray(pbis) ? pbis : [], Array.isArray(pbis) || console.error("Global pbis was not an array either!"))
            } else console.error("ensureLastItemExists function is missing! Using global pbis (if available)."), e = Array.isArray(pbis) ? pbis : [], Array.isArray(pbis) || console.error("Global pbis was not an array either!");
            updateGlobalVisibility(), updateLegendSortInfo(), updateCodLegendSortInfo(), updateWsjfLegendSortInfo(), updateFilterButtonStates(), updateSortDirectionButtons(e, currentSortDirection), updateActiveFilterButtonVisualState(), updateRelativeSizingHeaders(), renderPbiList(e), renderAllVisualizations(e), renderCodVisualizations(e), renderWsjfVisualization(e), renderRelativeSizingList(e), updateReferenceSlots(), requestAnimationFrame(syncRelativeSizingHeaderPadding), syncRelativeSizingHeaderPadding(), requestAnimationFrame(function() {
                syncRowHeights(), highlightAndScrollToLastEditedPbi(), "function" == typeof destroySortable && destroySortable(), "function" == typeof initSortable && initSortable()
            })
        }

        function renderPbiList(e) {
            var t = document.getElementById("pbi-list");
            t.innerHTML = "";
            var i = config.uiStrings,
                o = Array.isArray(e) ? e : Array.isArray(pbis) ? pbis : [],
                n = o.filter(function(e) {
                    return !e.isLastItem
                }),
                r = document.getElementById("panel-wsjf-viz"),
                a = r && !r.classList.contains("hidden"),
                l = "custom" === currentSortCriteria,
                c = {},
                s = config && config.pastelColorPalette || ["#e0e0e0"];
            0 === s.length && (s = ["#e0e0e0"]);
            var d = "#e0e0e0";
            if (a && "function" == typeof calculateWsjfRanks) {
                var u = o.filter(function(e) {
                    return e && !e.isLastItem && "number" == typeof e.cod && e.cod > 0 && "number" == typeof e.jobSize && e.jobSize > 0
                }).map(function(e) {
                    return {
                        id: e.id,
                        wsjf: e.cod / e.jobSize
                    }
                });
                u.sort(function(e, t) {
                    return t.wsjf - e.wsjf
                }), u.forEach(function(e, t) {
                    var i = t + 1,
                        o = (i - 1) % s.length,
                        n = s[o],
                        r = void 0 !== pbiIdToCustomColor && pbiIdToCustomColor[e.id] ? pbiIdToCustomColor[e.id] : n;
                    c[e.id] = {
                        rank: i,
                        color: r
                    }
                })
            }
            var f = getSortedPbis(o, currentSortCriteria, currentSortDirection, config, a);
            t.classList.toggle("is-sortable-active", l && !isFilterLocked);
            var m = document.getElementById("pbi-list-container");
            if (m && m.classList.toggle("wsjf-tab-view-active", a), 0 !== n.length) f.forEach(function(e) {
                var o = document.createElement("div");
                if (o.className = "pbi-item", o.dataset.id = e.id, e.isLastItem) return o.classList.add("last-item"), o.innerHTML = '<div class="pbi-item-details" style="height: 38px;"></div>', void t.appendChild(o);
                !e.isReference || a || l || (o.classList.add("reference-item"), "min" === e.referenceType && o.classList.add("ref-min"), "max" === e.referenceType && o.classList.add("ref-max"));
                var n = e.complexity > 0 && e.effort > 0 && e.doubt > 0,
                    r = e.cod && e.cod > 0 && e.cod_bv > 0 && e.cod_tc > 0 && e.cod_rroe > 0,
                    s = n && r;
                a && !s && o.classList.add("pbi-item-no-wsjf-rank");
                var u = !1;
                e.isReference || ("creationOrder" === currentSortCriteria || "custom" === currentSortCriteria || "lock" === currentSortCriteria ? u = !1 : ("jobSize" !== currentSortCriteria || n) && ("cod" !== currentSortCriteria || r) && ("wsjf" !== currentSortCriteria || s) && ("tshirtSize" !== currentSortCriteria || e.tshirtSize) && ("complexity" !== currentSortCriteria && "effort" !== currentSortCriteria && "doubt" !== currentSortCriteria || e[currentSortCriteria] && !(e[currentSortCriteria] <= 0)) && ("cod_bv" !== currentSortCriteria && "cod_tc" !== currentSortCriteria && "cod_rroe" !== currentSortCriteria || e[currentSortCriteria] && !(e[currentSortCriteria] <= 0)) || (u = !0)), u && o.classList.add("is-irrelevant-to-sort");
                var f, m = n ? e.jobSize : null;
                if (s) {
                    var p = (e.cod / m).toFixed(2).replace(".", ",");
                    f = i.pbiInfoJobSize + ": " + m + " - " + i.pbiInfoCoD + ": " + e.cod + " - " + i.pbiInfoWSJF + ": " + p
                } else {
                    var g = null !== m ? m : i.pbiInfoNA,
                        b = r ? e.cod : i.pbiInfoNA;
                    f = i.pbiInfoJobSize + ": " + g + " - " + i.pbiInfoCoD + ": " + b + " - " + i.pbiInfoWSJF + ": " + i.pbiInfoNA
                }
                var v = e.tshirtSize || "-",
                    y = "pbi-item-tshirt",
                    h = "";
                if (!n) {
                    y += " is-disabled";
                    var S = [];
                    e.complexity || S.push(i.colComplexity), e.effort || S.push(i.colEffort), e.doubt || S.push(i.colDoubt), S.length > 0 && (h = ' title="' + i.tooltipJobSizeNa.replace("{missingValues}", S.join(", ")) + '"')
                }
                var C = '<div class="' + y + '"' + h + ">" + v + "</div>",
                    E = "",
                    L = null,
                    w = d;
                if (a && s) {
                    var I = c[e.id];
                    I ? (L = I.rank, w = I.color, E = '<span class="wsjf-rank-tag" title="' + (i.tooltipWsjfRank || "") + '" style="background-color:' + w + '; color: #333;">' + L + "</span>") : E = '<span class="wsjf-rank-tag" title="' + (i.tooltipWsjfRank || "") + '" style="background-color:' + d + '; color: #333;">?</span>'
                }
                var x = "";
                if (!a) {
                    var k = "reference-btn ref-btn-min";
                    e.isReference && "min" === e.referenceType && (k += " is-reference");
                    var B = e.isReference && "min" === e.referenceType ? i.tooltipUnsetRefMin : i.tooltipSetRefMin,
                        z = "reference-btn ref-btn-max";
                    e.isReference && "max" === e.referenceType && (z += " is-reference");
                    x = '<button class="' + k + '" title="' + B + '"><svg class="icon-reference-unset" xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="#1f1f1f"><path d="M288-444h384v-72H288v72ZM480.28-96Q401-96 331-126t-122.5-82.5Q156-261 126-330.96t-30-149.5Q96-560 126-629.5q30-69.5 82.5-122T330.96-834q69.96-30 149.5-30t149.04 30q69.5 30 122 82.5T834-629.28q30 69.73 30 149Q864-401 834-331t-82.5 122.5Q699-156 629.28-126q-69.73 30-149 30Zm-.28-72q130 0 221-91t91-221q0-130-91-221t-221-91q-130 0-221 91t-91 221q0 130 91 221t221 91Zm0-312Z"/></svg><svg class="icon-reference-set" xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="#1f1f1f"><path d="M288-444h384v-72H288v72ZM480.28-96Q401-96 331-126t-122.5-82.5Q156-261 126-330.96t-30-149.5Q96-560 126-629.5q30-69.5 82.5-122T330.96-834q69.96-30 149.5-30t149.04 30q69.5 30 122 82.5T834-629.28q30 69.73 30 149Q864-401 834-331t-82.5 122.5Q699-156 629.28-126q-69.73 30-149 30Z"/></svg></button><button class="' + z + '" title="' + (e.isReference && "max" === e.referenceType ? i.tooltipUnsetRefMax : i.tooltipSetRefMax) + '"><svg class="icon-reference-unset" xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="#1f1f1f"><path d="M444-288h72v-156h156v-72H516v-156h-72v156H288v72h156v156Zm36.28 192Q401-96 331-126t-122.5-82.5Q156-261 126-330.96t-30-149.5Q96-560 126-629.5q30-69.5 82.5-122T330.96-834q69.96-30 149.5-30t149.04 30q69.5 30 122 82.5T834-629.28q30 69.73 30 149Q864-401 834-331t-82.5 122.5Q699-156 629.28-126q-69.73 30-149 30Zm-.28-72q130 0 221-91t91-221q0-130-91-221t-221-91q-130 0-221 91t-91 221q0 130 91 221t221 91Zm0-312Z"/></svg><svg class="icon-reference-set" xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="#1f1f1f"><path d="M444-288h72v-156h156v-72H516v-156h-72v156H288v72h156v156Zm36.28 192Q401-96 331-126t-122.5-82.5Q156-261 126-330.96t-30-149.5Q96-560 126-629.5q30-69.5 82.5-122T330.96-834q69.96-30 149.5-30t149.04 30q69.5 30 122 82.5T834-629.28q30 69.73 30 149Q864-401 834-331t-82.5 122.5Q699-156 629.28-126q-69.73 30-149 30Zm-.28-72q130 0 221-91t91-221q0-130-91-221t-221-91q-130 0-221 91t-91 221q0 130 91 221t221 91Zm0-312Z"/></svg></button>'
                }
                o.innerHTML = C + E + '<div class="pbi-item-details"><div><strong class="pbi-title-text">' + e.title + "</strong></div><div><small>" + f + '</small></div></div><div id="btnBoxControls">' + x + '<button class="edit">' + i.btnEdit + '</button><button class="delete">' + i.btnDelete + "</button></div>";
                var A = o.querySelector(".pbi-item-tshirt");
                !A || "XXS" !== v && "XXL" !== v || A.classList.add("is-wide"), t.appendChild(o)
            });
            else {
                var p = '<div class="pbi-list-empty-state"><svg class="empty-state-icon" width="1200pt" height="1200pt" version="1.1" viewBox="0 0 1200 1200" xmlns="http://www.w3.org/2000/svg"><path d="m313.31 636c-12.574-0.33203-22.922 9.8008-22.922 22.359 0 12.574 10.348 22.707 22.922 22.359h571.17c12.574 0.33203 22.922-9.8008 22.922-22.359 0-12.574-10.348-22.707-22.922-22.359z" fill="currentColor"/><path d="m1132.3 479.27c12.281 0.21484 22.078 10.281 22.012 22.559v209.65c0 29.719-0.83984 57.012-11.238 82.293-10.359 25.215-32.012 46.188-63.961 58.281l-3.4648 1.3203v147.15c31.375 6.3867 59.094 25.691 75.48 54.027 6.1719 10.707 2.4922 24.441-8.1992 30.625-10.707 6.1719-24.441 2.5586-30.625-8.1992-12.215-21.188-34.652-34.238-59.094-34.238-24.441 0-46.945 13.055-59.16 34.238-6.0391 11.039-20 14.934-30.922 8.6016-10.828-6.2383-14.441-20.266-7.8398-31.039 16.387-28.332 44.094-47.641 75.48-54.027v-130.2l-54.508 20.625c-11.734 5.1328-25.426-0.54688-29.934-12.492-4.5859-12.012 1.8789-25.348 14.027-29.32l102.99-38.879c23.465-8.8125 32.227-18.68 38.332-33.48 6.1211-14.867 7.8516-36.945 7.8516-65.281v-209.65c-0.14844-12.574 10.133-22.773 22.773-22.562z" fill="currentColor"/><path d="m67.668 479.27c-12.281 0.21484-22.148 10.281-22.012 22.559v209.65c0 29.719 0.83984 57.012 11.188 82.293 10.414 25.215 32.012 46.188 63.961 58.281l3.5352 1.3203v147.15c-31.398 6.3867-59.094 25.691-75.48 54.027-6.1875 10.707-2.5742 24.441 8.1992 30.625 10.676 6.1602 24.367 2.5625 30.543-8.1992 12.227-21.188 34.734-34.238 59.188-34.238 24.453 0 46.934 13.055 59.16 34.238 6.0273 11.039 19.934 14.934 30.828 8.6016 10.895-6.2383 14.453-20.266 7.9062-31.039-16.387-28.332-44.094-47.641-75.48-54.027v-130.2l54.52 20.625c11.668 5.1328 25.332-0.54688 29.922-12.492 4.5195-12.012-1.8672-25.348-14.094-29.32l-102.99-38.879c-23.398-8.8125-32.215-18.68-38.254-33.48-6.1211-14.867-7.9062-36.945-7.9062-65.281l-0.003906-209.65c0.10937-12.574-10.16-22.773-22.73-22.562z" fill="currentColor"/><path d="m1088.5 452.67v282.77c0 20.973-12.973 39.785-32.84 47.508l-137.77 53.48-35.293 207.69c-9.1602 69.867-116.04 52.309-101.75-16.734l40-236.11c2.9883-17.586 15.078-32.375 31.879-38.895l82.293-31.945v-167.99l-31.934 41.387c-8.2656 8.0547-19.375 12.574-31.055 12.574h-113.05c-58.828 0-58.828-87 0-87h95.078l87.293-95.215c13.602-14.867 28.121-26.453 45.348-26.453h50.066c33.754-0.011719 51.738 30.812 51.738 54.922z" fill="currentColor"/><path d="m389.2 391.84c-10.281 0-18.398 4.0117-24.012 9.7188l-48.121 48.465 38.812 42.293h82.84c21.602 0 41.266 8.9609 53.691 22.719 12.359 13.746 17.988 30.895 17.988 47.773 0 16.105-5.1328 32.426-16.254 45.828h75.414l1.0273-105.91 48.332 37.16c13.188 10.199 32.707 10.762 43.895-1.5352l71.398-78.762c1.8672-1.6523 4.3086-2.625 6.7852-2.5586h38.762c12.785 0 21.172-3.1992 26.309-7.2148 5.0781-4.0391 7.2383-8.7617 7.3086-14.039 0.066406-10.613-9.5859-25.066-34.668-30.547l-50.613-12.441c-8.4141 0.066406-16.465 3.1328-22.574 8.7617l-60.762 63.105c-3.5352 3.2656-9.0781 3.4805-12.906 0.42578l-81.535-63.535c-7.293-5.707-14.785-9.7188-25.215-9.7188z" fill="currentColor"/><path d="m363.29 706.35 76.465 108.41v138.12c0 61.879 98.465 61.879 98.465 0l0.003906-142.51-31.734-54.172c-5.1328-11.32 3.5352-15.266 10.414-6.1211l39.719 52.574c0.90625 1.5352 1.3867 3.1992 1.3867 5v145.21c0 61.879 97.586 61.879 97.586 0l0.003906-155.35c0-11.188-3.8281-22.148-10.84-30.973l-41.934-60.215h-239.54z" fill="currentColor"/><path d="m547.73 296.43c-20.84 47.559-76.734 69.441-125 48.895-48.121-20.426-70.281-75.691-49.508-123.13 20.84-47.574 76.734-69.441 124.85-48.961 48.27 20.547 70.414 75.695 49.656 123.2z" fill="currentColor" fill-rule="evenodd"/><path d="m109.27 452.67v282.77c0 20.973 13 39.785 32.785 47.508l137.85 53.48 35.266 207.69c9.1055 69.867 116.05 52.309 101.75-16.734l-40-236.11c-3.0547-17.586-15.148-32.375-31.945-38.895l-82.227-31.945 0.003906-167.99 31.879 41.387c8.2656 8.0547 19.453 12.574 31.039 12.574h113.12c58.762 0 58.762-87 0-87h-95.055l-87.309-95.215c-13.668-14.867-28.172-26.453-45.332-26.453h-50.156c-33.68-0.011719-51.668 30.812-51.668 54.922z" fill="currentColor"/><path d="m92.879 307.88c22.227 50.773 81.961 74.094 133.48 52.16 51.398-21.812 75-80.762 52.852-131.4-22.293-50.762-81.961-74.172-133.27-52.281-51.613 21.934-75.227 80.762-53.066 131.52z" fill="currentColor" fill-rule="evenodd"/><path d="m1105 307.88c-22.293 50.773-81.934 74.094-133.48 52.16-51.375-21.812-75-80.762-52.852-131.4 22.227-50.762 81.961-74.172 133.28-52.281 51.582 21.934 75.195 80.762 53.051 131.52z" fill="currentColor" fill-rule="evenodd"/><path d="m749.81 338.84c-11.309 0.42578-22.922-0.89453-34.652-3.9453-29.922-8.0547-53.266-26.547-67.691-50.078l-31.254 4.4414c-10.148 1.4531-14.094-8.1211-7.7188-16.254l23.68-30.281c-2.2266-15.133-1.5352-31.105 2.7188-47 16.32-60.762 76.734-97.012 139.09-80.281 62.359 16.734 96.586 78.332 80.332 139.09-13.254 49.371-55.613 82.586-104.51 84.305zm-62.707-92.348c11.801 0 21.32-9.5859 21.32-21.387 0-11.734-9.5078-21.32-21.32-21.32s-21.387 9.5859-21.387 21.32c0 11.801 9.5898 21.387 21.387 21.387zm57.496 0c11.828 0 21.332-9.5859 21.398-21.387-0.066406-11.734-9.5859-21.32-21.398-21.32-11.801 0-21.387 9.5859-21.387 21.32 0 11.801 9.5859 21.387 21.387 21.387zm57.52 0c11.734 0 21.32-9.5859 21.32-21.387 0-11.734-9.5859-21.32-21.32-21.32-11.879 0-21.387 9.5859-21.387 21.32 0 11.801 9.5039 21.387 21.387 21.387z" fill="currentColor" fill-rule="evenodd"/></svg><div class="empty-state-text"><p>' + i.emptyStateMessage.replace("{btnAddPbi}", i.btnAddPbi).replace("{modalLabelComplexity}", i.modalLabelComplexity).replace("{modalLabelEffort}", i.modalLabelEffort).replace("{modalLabelDoubt}", i.modalLabelDoubt).replace("{pbiInfoTshirtSize}", i.pbiInfoTshirtSize) + "</p></div>";
                if (!0 === config.showDemoDataLink && config.demoData) {
                    var g = "file:" === window.location.protocol ? ' class="disabled" title="' + (i.demoDataTooltipDisabled || "") + '"' : "",
                        b = [];
                    config.demoData.en && config.demoData.en.path && b.push('<a data-lang="en"' + g + ">" + (i.demoDataLinkEN || "EN") + "</a>"), config.demoData.de && config.demoData.de.path && b.push('<a data-lang="de"' + g + ">" + (i.demoDataLinkDE || "DE") + "</a>"), b.length > 0 && (p += '<div class="empty-state-demo-data"><span>' + (i.demoDataLabel || "Load Demo Data: ") + "</span>" + b.join("<span>-</span>") + "</div>")
                }
                p += "</div>", t.innerHTML = p;
                var v = o.find(function(e) {
                    return e.isLastItem
                });
                if (v) {
                    var y = document.createElement("div");
                    y.className = "pbi-item last-item", y.dataset.id = v.id, y.innerHTML = '<div class="pbi-item-details" style="height: 38px;"></div>', t.appendChild(y)
                }
            }
        }

        function renderAllVisualizations() {
            var e = document.getElementById("visualization-container");
            e.innerHTML = "";
            var t = document.getElementById("panel-wsjf-viz"),
                i = t && !t.classList.contains("hidden"),
                o = getSortedPbis(pbis, currentSortCriteria, currentSortDirection, config, i),
                n = config.uiStrings,
                r = {};
            i && "function" == typeof calculateWsjfRanks && (r = calculateWsjfRanks(pbis)), o.forEach(function(t) {
                var o = document.createElement("div");
                if (o.className = "story-visualization", o.dataset.id = t.id, t.isLastItem) return o.classList.add("last-item"), void e.appendChild(o);
                t.isReference && (o.classList.add("reference-item"), "min" === t.referenceType && o.classList.add("ref-min"), "max" === t.referenceType && o.classList.add("ref-max"));
                var a = t.complexity > 0 && t.effort > 0 && t.doubt > 0,
                    l = t.cod && t.cod > 0 && t.cod_bv > 0 && t.cod_tc > 0 && t.cod_rroe > 0,
                    c = a && l,
                    s = !1;
                if (i ? s = !c : t.isReference || ("creationOrder" === currentSortCriteria || "custom" === currentSortCriteria || "lock" === currentSortCriteria ? s = !1 : ("jobSize" !== currentSortCriteria || a) && ("cod" !== currentSortCriteria || l) && ("wsjf" !== currentSortCriteria || c) && ("tshirtSize" !== currentSortCriteria || t.tshirtSize) && ("complexity" !== currentSortCriteria && "effort" !== currentSortCriteria && "doubt" !== currentSortCriteria || t[currentSortCriteria] && !(t[currentSortCriteria] <= 0)) && ("cod_bv" !== currentSortCriteria && "cod_tc" !== currentSortCriteria && "cod_rroe" !== currentSortCriteria || t[currentSortCriteria] && !(t[currentSortCriteria] <= 0)) || (s = !0)), s && o.classList.add("is-irrelevant-to-sort"), a) createStoryVisualization(t, o);
                else {
                    createPlaceholderVisualization(t, o);
                    var d = [];
                    t.complexity || d.push(n.colComplexity), t.effort || d.push(n.colEffort), t.doubt || d.push(n.colDoubt), d.length > 0 && (o.title = n.tooltipJobSizeNa.replace("{missingValues}", d.join(", ")))
                }
                var u = '<button class="visualization-edit-btn" title="' + n.btnEdit + '"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#666666"><path d="M160-400v-80h280v80H160Zm0-160v-80h440v80H160Zm0-160v-80h440v80H160Zm360 560v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q8 9 12.5 20t4.5 22q0 11-4 22.5T863-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z"/></svg></button>';
                o.insertAdjacentHTML("beforeend", u);
                var f = document.createElement("div");
                f.className = "story-title";
                var m = document.createElement("div");
                m.style.display = "flex", m.style.gap = "8px", m.style.marginBottom = "6px", m.style.alignItems = "center";
                var p = document.createElement("span");
                if (p.className = "wsjf-rank-tag hidden", i && r[t.id] && (p.textContent = r[t.id], p.title = n.tooltipWsjfRank || "", p.classList.remove("hidden"), p.style.backgroundColor = "#e0e0e0"), m.appendChild(p), a) {
                    var g = document.createElement("div");
                    g.className = "story-title-tshirt story-title-tshirt-clickable", g.textContent = t.tshirtSize || "-", g.style.marginBottom = "0", m.appendChild(g)
                } else {
                    var b = document.createElement("div");
                    b.className = "story-title-wsjf", b.textContent = n.valuesMissing || "N/A", m.appendChild(b)
                }
                var v = a ? t.jobSize : null;
                if (c) {
                    var y = document.createElement("div");
                    y.className = "story-title-wsjf";
                    var h = (t.cod / v).toFixed(2).replace(".", ",");
                    y.textContent = n.pbiInfoWSJF + ": " + h, m.appendChild(y)
                } else if (i) {
                    var S = document.createElement("div");
                    S.className = "story-title-wsjf", S.textContent = n.valuesMissing || "N/A", m.appendChild(S)
                }
                f.appendChild(m);
                var C = document.createElement("div");
                C.className = "story-title-main", C.textContent = t.title, f.appendChild(C);
                var E = document.createElement("div");
                E.className = "story-title-meta";
                var L = n.pbiInfoJobSize + ": " + (null !== v ? v : n.pbiInfoNA),
                    w = n.pbiInfoCoD + ": " + (l ? t.cod : n.pbiInfoNA);
                E.textContent = L + " - " + w, f.appendChild(E), o.appendChild(f), e.appendChild(o)
            }), window._equalizeGridRows && window._equalizeGridRows()
        }

        function renderCodVisualizations() {
            var e = document.getElementById("cod-visualization-container");
            e.innerHTML = "";
            var t = getSortedPbis(pbis, currentSortCriteria, currentSortDirection, config, !1),
                i = config.uiStrings;
            t.forEach(function(t) {
                var o = document.createElement("div");
                if (o.className = "story-visualization", o.dataset.id = t.id, t.isLastItem) return o.classList.add("last-item"), void e.appendChild(o);
                t.isReference && (o.classList.add("reference-item"), "min" === t.referenceType && o.classList.add("ref-min"), "max" === t.referenceType && o.classList.add("ref-max"));
                var n = t.complexity > 0 && t.effort > 0 && t.doubt > 0,
                    r = t.cod_bv > 0 && t.cod_tc > 0 && t.cod_rroe > 0,
                    a = t.cod && t.cod > 0 && r,
                    l = !1;
                t.isReference || ("creationOrder" === currentSortCriteria ? l = !1 : ("jobSize" !== currentSortCriteria || n) && ("cod" !== currentSortCriteria || a) && ("wsjf" !== currentSortCriteria || n && a) && ("tshirtSize" !== currentSortCriteria || t.tshirtSize) && ("complexity" !== currentSortCriteria && "effort" !== currentSortCriteria && "doubt" !== currentSortCriteria || t[currentSortCriteria] && !(t[currentSortCriteria] <= 0)) && ("cod_bv" !== currentSortCriteria && "cod_tc" !== currentSortCriteria && "cod_rroe" !== currentSortCriteria || t[currentSortCriteria] && !(t[currentSortCriteria] <= 0)) || (l = !0)), l && o.classList.add("is-irrelevant-to-sort");
                var c = n ? t.jobSize : null;
                if (r) createCodVisualization(t, o);
                else {
                    createCodPlaceholderVisualization(t, o);
                    var s = [];
                    t.cod_bv || s.push(i.colBv), t.cod_tc || s.push(i.colTc), t.cod_rroe || s.push(i.colRrOe), s.length > 0 && (o.title = i.tooltipCodNa.replace("{missingValues}", s.join(", ")))
                }
                var d = '<button class="visualization-edit-btn" title="' + i.btnEdit + '"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#666666"><path d="M160-400v-80h280v80H160Zm0-160v-80h440v80H160Zm0-160v-80h440v80H160Zm360 560v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q8 9 12.5 20t4.5 22q0 11-4 22.5T863-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z"/></svg></button>';
                o.insertAdjacentHTML("beforeend", d);
                var u = document.createElement("div");
                u.className = "story-title";
                var f = document.createElement("div");
                if (f.style.display = "flex", f.style.gap = "8px", f.style.marginBottom = "6px", f.style.alignItems = "center", t.tshirtSize) {
                    var m = document.createElement("div");
                    m.className = "story-title-tshirt", m.textContent = t.tshirtSize, m.style.marginBottom = "0", m.title = i.tooltipTshirtCodView || 'The T-shirt size can only be set in the "Job Size Visualization" view.', f.appendChild(m)
                }
                if (a) {
                    var p = document.createElement("div");
                    if (p.className = "story-title-wsjf", n) {
                        var g = (t.cod / c).toFixed(2).replace(".", ",");
                        p.textContent = i.pbiInfoWSJF + ": " + g
                    } else p.textContent = i.pbiInfoWSJF + ": " + i.pbiInfoNA;
                    f.appendChild(p)
                } else {
                    var b = document.createElement("div");
                    b.className = "story-title-wsjf", b.textContent = i.valuesMissing, f.appendChild(b)
                }
                u.appendChild(f);
                var v = document.createElement("div");
                v.className = "story-title-main", v.textContent = t.title;
                var y = document.createElement("div");
                y.className = "story-title-meta";
                var h = i.pbiInfoJobSize + ": " + (c || i.pbiInfoNA),
                    S = i.pbiInfoCoD + ": " + (a ? t.cod : i.pbiInfoNA);
                y.textContent = h + " - " + S, u.appendChild(v), u.appendChild(y), o.appendChild(u), e.appendChild(o)
            }), window._equalizeGridRows && window._equalizeGridRows()
        }

        function renderRelativeSizingList(e) {
            const t = document.getElementById("relative-sizing-list");
            t.innerHTML = "";
            var i = Array.isArray(e) ? e : Array.isArray(pbis) ? pbis : [];
            const o = config.uiStrings;
            var n = document.getElementById("panel-wsjf-viz"),
                r = n && !n.classList.contains("hidden"),
                a = "custom" === currentSortCriteria;
            const l = getSortedPbis(i, currentSortCriteria, currentSortDirection, config, r),
                c = {
                    complexity: o.tooltipComplexity,
                    effort: o.tooltipEffort,
                    doubt: o.tooltipDoubt,
                    jobSize: o.tooltipJobSize,
                    cod_bv: o.tooltipBv,
                    cod_tc: o.tooltipTc,
                    cod_rroe: o.tooltipRrOe,
                    cod: o.tooltipCoD
                };
            l.forEach(function(e) {
                const i = document.createElement("div");
                if (i.className = "rs-item rs-grid", i.dataset.id = e.id, e.isLastItem) return i.classList.add("last-item"), i.innerHTML = '<div class="rs-cell"></div><div class="rs-cell"></div><div class="rs-cell"></div><div class="rs-cell calculated"></div><div class="rs-cell"></div><div class="rs-cell"></div><div class="rs-cell"></div><div class="rs-cell calculated"></div><div class="rs-cell calculated"></div>', void t.appendChild(i);
                !e.isReference || r || a || (i.classList.add("reference-item"), "min" === e.referenceType && i.classList.add("ref-min"), "max" === e.referenceType && i.classList.add("ref-max"));
                const n = e.complexity > 0 && e.effort > 0 && e.doubt > 0,
                    l = e.cod > 0 && e.cod_bv > 0 && e.cod_tc > 0 && e.cod_rroe > 0;
                var s = !1;
                e.isReference || ("creationOrder" === currentSortCriteria ? s = !1 : ("jobSize" !== currentSortCriteria || n) && ("cod" !== currentSortCriteria || l) && ("wsjf" !== currentSortCriteria || n && l) && ("tshirtSize" !== currentSortCriteria || e.tshirtSize) && ("complexity" !== currentSortCriteria && "effort" !== currentSortCriteria && "doubt" !== currentSortCriteria || e[currentSortCriteria] && !(e[currentSortCriteria] <= 0)) && ("cod_bv" !== currentSortCriteria && "cod_tc" !== currentSortCriteria && "cod_rroe" !== currentSortCriteria || e[currentSortCriteria] && !(e[currentSortCriteria] <= 0)) || (s = !0)), s && i.classList.add("is-irrelevant-to-sort");
                const d = {
                    complexity: e.complexity,
                    effort: e.effort,
                    doubt: e.doubt,
                    jobSize: n ? e.jobSize : null,
                    cod_bv: e.cod_bv,
                    cod_tc: e.cod_tc,
                    cod_rroe: e.cod_rroe,
                    cod: l ? e.cod : null
                };
                for (const t in d) {
                    const n = document.createElement("div");
                    n.className = "rs-cell", "jobSize" !== t && "cod" !== t || n.classList.add("calculated"), t === currentHighlightedColumn && n.classList.add("highlighted"), n.dataset.pbiId = e.id, n.dataset.valueType = t;
                    const r = d[t],
                        a = c[t] || "",
                        l = "number" == typeof r && r > 0 ? r : "number" == typeof r && 0 === r && "jobSize" !== t && "cod" !== t ? "-" : null;
                    if (null !== l) n.textContent = l, n.title = a;
                    else if ("jobSize" === t) {
                        n.textContent = o.pbiInfoNA, n.classList.add("is-na-value");
                        let t = [];
                        (!e.complexity || e.complexity <= 0) && t.push(o.colComplexity), (!e.effort || e.effort <= 0) && t.push(o.colEffort), (!e.doubt || e.doubt <= 0) && t.push(o.colDoubt), t.length > 0 ? n.title = o.tooltipJobSizeNa.replace("{missingValues}", t.join(", ")) : n.title = a
                    } else if ("cod" === t) {
                        n.textContent = o.pbiInfoNA, n.classList.add("is-na-value");
                        let t = [];
                        (!e.cod_bv || e.cod_bv <= 0) && t.push(o.colBv), (!e.cod_tc || e.cod_tc <= 0) && t.push(o.colTc), (!e.cod_rroe || e.cod_rroe <= 0) && t.push(o.colRrOe), t.length > 0 ? n.title = o.tooltipCodNa.replace("{missingValues}", t.join(", ")) : n.title = a
                    } else n.textContent = "-", n.title = a;
                    i.appendChild(n)
                }
                const u = document.createElement("div");
                if (u.className = "rs-cell calculated", "wsjf" === currentHighlightedColumn && u.classList.add("highlighted"), l && n) u.textContent = (e.cod / e.jobSize).toFixed(2).replace(".", ","), u.title = o.tooltipWsjf;
                else {
                    u.textContent = o.pbiInfoNA, u.classList.add("is-na-value");
                    let e = [];
                    n || e.push(o.groupJobSize), l || e.push(o.groupCoD), e.length > 0 ? u.title = o.tooltipWsjfNa.replace("{missingValues}", e.join(", ")) : u.title = o.tooltipWsjf
                }
                i.appendChild(u), t.appendChild(i)
            }), requestAnimationFrame(syncRelativeSizingHeaderPadding)
        }

        function updateReferenceSlots() {
            var e = document.getElementById("ref-slot-left"),
                t = document.getElementById("ref-slot-right");
            if (e || t) {
                var i = document.getElementById("panel-wsjf-viz"),
                    o = i && !i.classList.contains("hidden"),
                    n = "custom" === currentSortCriteria,
                    r = "function" == typeof isPinReferenceEnabled && !isPinReferenceEnabled(config);
                if (e && (e.innerHTML = "", e.classList.remove("has-content"), e.style.display = "none"), t && (t.innerHTML = "", t.classList.remove("has-content"), t.style.display = "none"), !r && !o) {
                    var a = getReferencePbi(pbis, "min"),
                        l = getReferencePbi(pbis, "max");
                    if (a || l) {
                        var c = [];
                        a && c.push(a), l && c.push(l), c.forEach(function(i) {
                            var o = i.id;
                            if (n) {
                                if (e) {
                                    var r = document.querySelector('#pbi-list .pbi-item[data-id="' + o + '"]');
                                    if (r) {
                                        var a = r.cloneNode(!0);
                                        a.classList.add("reference-item"), "min" === i.referenceType && a.classList.add("ref-min"), "max" === i.referenceType && a.classList.add("ref-max"), e.appendChild(a), e.classList.add("has-content"), e.style.display = "block"
                                    }
                                }
                                if (t) {
                                    var l = document.querySelector('#relative-sizing-list .rs-item[data-id="' + o + '"]');
                                    if (l) {
                                        var c = l.cloneNode(!0);
                                        c.classList.add("reference-item"), "min" === i.referenceType && c.classList.add("ref-min"), "max" === i.referenceType && c.classList.add("ref-max"), t.appendChild(c), t.classList.add("has-content"), t.style.display = "block"
                                    }
                                }
                            } else {
                                if (e) {
                                    var s = document.querySelector('#pbi-list .pbi-item[data-id="' + o + '"]');
                                    s && s.classList.contains("reference-item") && (e.appendChild(s), e.classList.add("has-content"), e.style.display = "block")
                                }
                                if (t) {
                                    var d = document.querySelector('#relative-sizing-list .rs-item[data-id="' + o + '"]');
                                    d && d.classList.contains("reference-item") && (t.appendChild(d), t.classList.add("has-content"), t.style.display = "block")
                                }
                            }
                        })
                    }
                }
            }
        }

        function updateActiveFilterButtonVisualState() {
            var e = {
                jobSize: "filter-job-size-btn",
                tshirtSize: "filter-tshirt-size-btn",
                cod: "filter-cod-btn",
                wsjf: "filter-wsjf-btn"
            };
            if (document.querySelectorAll(".filter-btn").forEach(function(e) {
                    e.classList.remove("active")
                }), !isFilterLocked && "creationOrder" !== currentSortCriteria && e[currentSortCriteria]) {
                var t = document.getElementById(e[currentSortCriteria]);
                t && !t.disabled && t.classList.add("active")
            }
        }

        function updateSortDirectionButtons(e, t) {
            var i = (e || []).some(function(e) {
                    return e && !e.isLastItem
                }),
                o = document.getElementById("sort-asc-btn"),
                n = document.getElementById("sort-desc-btn"),
                r = document.getElementById("custom-sort-btn");
            o && o.classList.remove("active"), n && n.classList.remove("active"), r && r.classList.remove("active"), i && !isFilterLocked && ("custom" === currentSortCriteria ? r && r.classList.add("active") : "creationOrder" !== currentSortCriteria && "lock" !== currentSortCriteria && ("asc" === t ? o && o.classList.add("active") : "desc" === t && n && n.classList.add("active")))
        }

        function updateLegendSortInfo() {
            var e = document.getElementById("legend-sort-info");
            if (e)
                if ((pbis || []).some(function(e) {
                        return e && !e.isLastItem
                    }) && "creationOrder" !== currentSortCriteria) {
                    e.style.display = "";
                    var t = config.uiStrings,
                        i = "";
                    switch (currentSortCriteria) {
                        case "jobSize":
                            i = t.filterJobSize;
                            break;
                        case "cod":
                            i = t.filterCoD;
                            break;
                        case "wsjf":
                            i = t.filterWSJF;
                            break;
                        case "tshirtSize":
                            i = t.filterTshirtSize;
                            break;
                        case "custom":
                            i = t.filterCustomSort;
                            break;
                        case "complexity":
                            i = t.colComplexity;
                            break;
                        case "effort":
                            i = t.colEffort;
                            break;
                        case "doubt":
                            i = t.colDoubt;
                            break;
                        case "cod_bv":
                            i = t.colBv;
                            break;
                        case "cod_tc":
                            i = t.colTc;
                            break;
                        case "cod_rroe":
                            i = t.colRrOe;
                            break;
                        case "lock":
                            i = t.tooltipFilterLock;
                            break;
                        default:
                            i = currentSortCriteria
                    }
                    var o = "asc" === currentSortDirection ? t.sortOptionAsc : t.sortOptionDesc;
                    e.textContent = isFilterLocked || "lock" === currentSortCriteria ? t.legendSortBy + ": " + t.tooltipFilterLock : "custom" === currentSortCriteria ? t.legendSortBy + ": " + i : t.legendSortBy + ": " + i + " - " + o
                } else e.style.display = "none"
        }

        function updateCodLegendSortInfo() {
            var e = document.getElementById("cod-legend-sort-info");
            if (e)
                if ((pbis || []).some(function(e) {
                        return e && !e.isLastItem
                    }) && "creationOrder" !== currentSortCriteria) {
                    e.style.display = "";
                    var t = config.uiStrings,
                        i = "";
                    switch (currentSortCriteria) {
                        case "jobSize":
                            i = t.filterJobSize;
                            break;
                        case "cod":
                            i = t.filterCoD;
                            break;
                        case "wsjf":
                            i = t.filterWSJF;
                            break;
                        case "tshirtSize":
                            i = t.filterTshirtSize;
                            break;
                        case "custom":
                            i = t.filterCustomSort;
                            break;
                        case "complexity":
                            i = t.colComplexity;
                            break;
                        case "effort":
                            i = t.colEffort;
                            break;
                        case "doubt":
                            i = t.colDoubt;
                            break;
                        case "cod_bv":
                            i = t.colBv;
                            break;
                        case "cod_tc":
                            i = t.colTc;
                            break;
                        case "cod_rroe":
                            i = t.colRrOe;
                            break;
                        case "lock":
                            i = t.tooltipFilterLock;
                            break;
                        default:
                            i = currentSortCriteria
                    }
                    var o = "asc" === currentSortDirection ? t.sortOptionAsc : t.sortOptionDesc;
                    e.textContent = isFilterLocked || "lock" === currentSortCriteria ? t.legendSortBy + ": " + t.tooltipFilterLock : "custom" === currentSortCriteria ? t.legendSortBy + ": " + i : t.legendSortBy + ": " + i + " - " + o
                } else e.style.display = "none"
        }

        function updateWsjfLegendSortInfo() {
            var e = document.getElementById("wsjf-legend-sort-info");
            if (e)
                if ((pbis || []).some(function(e) {
                        return e && !e.isLastItem
                    }) && "creationOrder" !== currentSortCriteria) {
                    e.style.display = "";
                    var t = config.uiStrings,
                        i = "";
                    switch (currentSortCriteria) {
                        case "jobSize":
                            i = t.filterJobSize;
                            break;
                        case "cod":
                            i = t.filterCoD;
                            break;
                        case "wsjf":
                            i = t.filterWSJF;
                            break;
                        case "tshirtSize":
                            i = t.filterTshirtSize;
                            break;
                        case "custom":
                            i = t.filterCustomSort;
                            break;
                        case "complexity":
                            i = t.colComplexity;
                            break;
                        case "effort":
                            i = t.colEffort;
                            break;
                        case "doubt":
                            i = t.colDoubt;
                            break;
                        case "cod_bv":
                            i = t.colBv;
                            break;
                        case "cod_tc":
                            i = t.colTc;
                            break;
                        case "cod_rroe":
                            i = t.colRrOe;
                            break;
                        case "lock":
                            i = t.tooltipFilterLock;
                            break;
                        default:
                            i = currentSortCriteria
                    }
                    var o = "asc" === currentSortDirection ? t.sortOptionAsc : t.sortOptionDesc;
                    e.textContent = isFilterLocked || "lock" === currentSortCriteria ? t.legendSortBy + ": " + t.tooltipFilterLock : "custom" === currentSortCriteria ? t.legendSortBy + ": " + i : t.legendSortBy + ": " + i + " - " + o
                } else e.style.display = "none"
        }

        function syncRelativeSizingHeaderPadding() {
            var e = document.getElementById("relative-sizing-header"),
                t = document.getElementById("relative-sizing-list"),
                i = document.getElementById("view-tabs"),
                o = document.getElementById("ref-slot-right");
            if (t) {
                var n = t.offsetWidth - t.clientWidth,
                    r = getComputedStyle(document.documentElement),
                    a = parseInt(r.getPropertyValue("--right-gutter"), 10),
                    l = isNaN(a) ? 5 : a,
                    c = "calc(" + Math.max(0, n) + "px + " + l + "px)";
                e && (e.style.paddingRight = c), i && (i.style.paddingRight = c), o && (o.classList.contains("has-content") ? o.style.paddingRight = c : o.style.paddingRight = "")
            }
        }

        function ensureReferenceFirstInVisualizations() {
            var e = getReferencePbi(pbis, "min"),
                t = getReferencePbi(pbis, "max");
            if (e || t)
                for (var i = [document.getElementById("visualization-container"), document.getElementById("cod-visualization-container")], o = function(e, t, i) {
                        if (t) {
                            var o = e.querySelector('.story-visualization[data-id="' + t.id + '"]');
                            o && (o.classList.add("reference-item"), "min" === i && o.classList.add("ref-min"), "max" === i && o.classList.add("ref-max"), e.firstElementChild !== o && e.insertBefore(o, e.firstElementChild))
                        }
                    }, n = 0; n < i.length; n++) {
                    var r = i[n];
                    r && (o(r, t, "max"), o(r, e, "min"))
                }
        }

        function updateExportModalUI() {
            var e = {
                jobSize: "csv-sort-btn-job-size",
                tshirtSize: "csv-sort-btn-tshirt-size",
                cod: "csv-sort-btn-cod",
                wsjf: "csv-sort-btn-wsjf",
                custom: "csv-sort-custom-btn"
            };
            for (var t in e) {
                var i = document.getElementById(e[t]);
                i && (t === exportSortCriteria ? i.classList.add("active") : i.classList.remove("active"))
            }
            var o = document.getElementById("csv-sort-asc-btn"),
                n = document.getElementById("csv-sort-desc-btn");
            o && n && (o.classList.remove("active"), n.classList.remove("active"), "custom" !== exportSortCriteria ? ("asc" === exportSortDirection && o.classList.add("active"), "desc" === exportSortDirection && n.classList.add("active"), o.disabled = !1, n.disabled = !1) : (o.disabled = !0, n.disabled = !0));
            var r = document.getElementById("csv-export-sort-status");
            if (r && config.uiStrings) {
                var a = config.uiStrings,
                    l = "";
                switch (exportSortCriteria) {
                    case "jobSize":
                        l = a.filterJobSize;
                        break;
                    case "cod":
                        l = a.filterCoD;
                        break;
                    case "wsjf":
                        l = a.filterWSJF;
                        break;
                    case "tshirtSize":
                        l = a.filterTshirtSize;
                        break;
                    case "custom":
                        l = a.filterCustomSort;
                        break;
                    default:
                        l = exportSortCriteria
                }
                var c = "asc" === exportSortDirection ? a.sortOptionAsc : a.sortOptionDesc,
                    s = '<span class="csv-sort-label-prefix">' + (a.legendSortBy || "Sorted by") + ":</span> ",
                    d = "";
                d = "custom" === exportSortCriteria ? l : l + " - " + c, r.innerHTML = s + d
            }
        }
        window.isResolutionWarningDismissed = !1, "undefined" != typeof window && (window.showReferenceMarkers = !0), "undefined" != typeof window && document.addEventListener("DOMContentLoaded", () => {
            (loadConfigAndInit(), "function" == typeof loadFromLocalStorage) && (loadFromLocalStorage() && ("function" == typeof ensureLastItemExists && (pbis = ensureLastItemExists(pbis)), "function" == typeof applyColorSettings && applyColorSettings(config.colors), "function" == typeof applyUiStrings && applyUiStrings()));
            applyColorSettings(config.colors), displayVersionInfo(), checkForUpdates(), renderAll(), requestAnimationFrame(syncRelativeSizingHeaderPadding), syncRelativeSizingHeaderPadding(), setupEventListeners(), initSplit(), updateAllSliderFills(), initResizeHandler()
        }), "undefined" != typeof module && module.exports && (module.exports = {
            processConfig: processConfig,
            ensureLastItemExists: ensureLastItemExists,
            applyColorSettings: applyColorSettings,
            displayVersionInfo: displayVersionInfo,
            loadConfigAndInit: loadConfigAndInit
        }), renderWsjfVisualization.warned = !1, "undefined" != typeof module && module.exports && (module.exports = {
            applyUiStrings: applyUiStrings,
            getSortedPbis: getSortedPbis,
            updateFilterButtonStates: updateFilterButtonStates,
            updateGlobalVisibility: updateGlobalVisibility,
            updateRelativeSizingHeaders: updateRelativeSizingHeaders,
            updateActiveFilterButtonVisualState: updateActiveFilterButtonVisualState,
            updateSortDirectionButtons: updateSortDirectionButtons,
            updateLegendSortInfo: updateLegendSortInfo,
            updateCodLegendSortInfo: updateCodLegendSortInfo,
            updateWsjfLegendSortInfo: updateWsjfLegendSortInfo,
            renderAll: renderAll,
            renderPbiList: renderPbiList,
            renderAllVisualizations: renderAllVisualizations,
            renderCodVisualizations: renderCodVisualizations,
            renderWsjfVisualization: renderWsjfVisualization,
            createChartStructure: createChartStructure,
            renderRelativeSizingList: renderRelativeSizingList,
            updateReferenceSlots: updateReferenceSlots,
            ensureReferenceFirstInVisualizations: ensureReferenceFirstInVisualizations,
            syncRelativeSizingHeaderPadding: syncRelativeSizingHeaderPadding,
            updateExportModalUI: updateExportModalUI
        });
        let sortableInstance = null,
            isDragging = !1;

        function initSortable() {
            if ("custom" === currentSortCriteria && !isFilterLocked && !sortableInstance) {
                const e = document.getElementById("pbi-list");
                e ? sortableInstance = Sortable.create(e, {
                    animation: 150,
                    draggable: ".pbi-item:not(.last-item)",
                    filter: ".last-item",
                    preventOnFilter: !0,
                    onStart: function(t) {
                        if (isDragging = !0, e.classList.add("pbi-list-is-dragging"), document.querySelectorAll(".pbi-item.highlighted, .story-visualization.highlighted, .rs-item.highlighted").forEach(function(e) {
                                e.classList.remove("highlighted")
                            }), document.querySelectorAll(".pbi-item-tshirt.highlighted, .story-title-tshirt.highlighted").forEach(function(e) {
                                e.classList.remove("highlighted"), e.style.backgroundColor = "", e.style.borderColor = "", e.style.color = ""
                            }), t.item) {
                            t.item.classList.remove("highlighted");
                            const e = t.item.dataset.id;
                            e && toggleHighlight(e, !1)
                        }
                    },
                    onEnd: function(t) {
                        isDragging = !1, e.classList.remove("pbi-list-is-dragging"), handleSortEnd(t)
                    }
                }) : console.warn("Could not find #pbi-list to initialize SortableJS")
            }
        }

        function handlePasteInNote(e) {
            e.preventDefault(), "function" == typeof markModalAsDirty && markModalAsDirty();
            var t = e.clipboardData.getData("text/html"),
                i = e.clipboardData.getData("text/plain");
            if (t) {
                var o = document.createElement("div");
                o.innerHTML = t;
                var n = function e(t) {
                    var i = "";
                    return t.childNodes.forEach(function(t) {
                        if (3 === t.nodeType) i += t.textContent.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#039;");
                        else if (1 === t.nodeType) {
                            var o = (t.getAttribute("style") || "").toLowerCase(),
                                n = t.tagName,
                                r = "B" === n || "STRONG" === n || o.includes("font-weight") && (o.includes("bold") || o.includes("700")),
                                a = "I" === n || "EM" === n || o.includes("font-style") && o.includes("italic"),
                                l = "U" === n || o.includes("text-decoration") && o.includes("underline"),
                                c = "A" === n && t.href,
                                s = "BR" === n,
                                d = ["DIV", "P", "H1", "H2", "H3", "H4", "H5", "H6", "LI", "TR", "BLOCKQUOTE", "PRE"].includes(n),
                                u = e(t);
                            if (u || s) {
                                var f = u;
                                c && (f = '<a href="' + t.href + '" target="_blank">' + f + "</a>"), l && (f = "<u>" + f + "</u>"), a && (f = "<i>" + f + "</i>"), r && (f = "<b>" + f + "</b>"), s ? f = "<br>" : d && (f += "<br>"), "HR" !== n && "STYLE" !== n && "SCRIPT" !== n && "META" !== n && "LINK" !== n || (f = ""), i += f
                            }
                        }
                    }), i
                }(o);
                document.execCommand("insertHTML", !1, n)
            } else document.execCommand("insertText", !1, i)
        }

        function handleSliderInput(e) {
            "function" == typeof markModalAsDirty && markModalAsDirty();
            var t = SCALES[currentScale].values,
                i = parseInt(e.value, 10),
                o = "function" == typeof findNearestScaleValue ? findNearestScaleValue(i, t) : i;
            if (e.value = o, o > 0 && (e.dataset.zeroLocked = "true"), 0 === o && "true" === e.dataset.zeroLocked) {
                var n = "number" == typeof t[1] ? t[1] : 1;
                e.value = String(n)
            }
            e.dataset.interacted = "true", "function" == typeof updateSliderValues && updateSliderValues(), "function" == typeof updateSliderFill && updateSliderFill(e), "function" == typeof validateAndSyncModal && validateAndSyncModal(), "function" == typeof updateActiveScaleValue && updateActiveScaleValue(e), "function" == typeof updateResetJobSizeButtonVisibility && updateResetJobSizeButtonVisibility(), "function" == typeof updateResetCoDButtonVisibility && updateResetCoDButtonVisibility()
        }

        function destroySortable() {
            if (sortableInstance) {
                sortableInstance.destroy(), sortableInstance = null;
                const e = document.getElementById("pbi-list");
                e && e.classList.remove("pbi-list-is-dragging"), isDragging = !1
            }
        }

        function handleSortEnd(e) {
            const t = document.getElementById("pbi-list");
            if (!t) return;
            const i = t.querySelectorAll(".pbi-item:not(.reference-item):not(.last-item)"),
                o = Array.from(i).map(function(e) {
                    return parseInt(e.dataset.id, 10)
                });
            lockedPbiOrder = o;
            const n = e.item.dataset.id;
            document.querySelectorAll(".pbi-item.highlighted, .story-visualization.highlighted, .rs-item.highlighted").forEach(function(e) {
                e.classList.remove("highlighted")
            }), document.querySelectorAll(".pbi-item-tshirt.highlighted, .story-title-tshirt.highlighted").forEach(function(e) {
                e.classList.remove("highlighted"), e.style.backgroundColor = "", e.style.borderColor = "", e.style.color = ""
            }), n && (lastEditedPbiId = parseInt(n, 10)), "function" == typeof saveToLocalStorage && saveToLocalStorage(), renderAll()
        }

        function toggleHighlight(e, t) {
            var i = String(e),
                o = '.pbi-item[data-id="' + i + '"], #visualization-container .story-visualization[data-id="' + i + '"], #cod-visualization-container .story-visualization[data-id="' + i + '"], .rs-item[data-id="' + i + '"]';
            document.querySelectorAll(o).forEach(function(e) {
                e.classList.toggle("highlighted", t)
            });
            var n = '.wsjf-delay-block[data-pbi-id="' + i + '"]';
            document.querySelectorAll(n).forEach(function(e) {
                e.classList.toggle("highlighted-block", t)
            })
        }

        function updateFilterLockButtonState() {
            var e = document.getElementById("filter-lock-btn");
            if (e) {
                var t = config.uiStrings;
                e.classList.toggle("active", isFilterLocked), e.title = isFilterLocked ? t.tooltipFilterUnlock : t.tooltipFilterLock
            }
        }

        function deactivateFilterLock() {
            if (isFilterLocked) {
                isFilterLocked = !1, currentSortCriteria = preLockSortCriteria, currentSortDirection = preLockSortDirection, updateFilterLockButtonState();
                var e = document.getElementById("split-root");
                e && e.classList.remove("filter-locked")
            }
        }

        function handlePbiListClick(e) {
            var t = e.target.closest(".pbi-item");
            if (t) {
                var i = parseInt(t.dataset.id, 10),
                    o = pbis.find(function(e) {
                        return e.id == i
                    });
                if (!o || !o.isLastItem) {
                    var n = document.getElementById("panel-wsjf-viz"),
                        r = n && !n.classList.contains("hidden");
                    if (e.target.closest(".reference-btn")) {
                        var a = o;
                        if (a)
                            if (e.target.closest(".ref-btn-min")) {
                                if ("min" === a.referenceType) a.referenceType = null, a.isReference = !1;
                                else {
                                    var l = pbis.find(function(e) {
                                        return "min" === e.referenceType
                                    });
                                    l && (l.referenceType = null, l.isReference = !1), a.referenceType = "min", a.isReference = !0
                                }
                                "function" == typeof saveToLocalStorage && saveToLocalStorage(), renderAll()
                            } else if (e.target.closest(".ref-btn-max")) {
                            if ("max" === a.referenceType) a.referenceType = null, a.isReference = !1;
                            else {
                                var c = pbis.find(function(e) {
                                    return "max" === e.referenceType
                                });
                                c && (c.referenceType = null, c.isReference = !1), a.referenceType = "max", a.isReference = !0
                            }
                            "function" == typeof saveToLocalStorage && saveToLocalStorage(), renderAll()
                        }
                    } else if (e.target.classList.contains("edit")) {
                        o && showModal(o)
                    } else if (e.target.classList.contains("delete")) {
                        if (o && o.isLastItem) return;
                        if (confirm(config.uiStrings.confirmDelete)) {
                            var s = pbis.find(function(e) {
                                return e.id == i
                            });
                            s && s.isReference && (s.isReference = !1, s.referenceType = null), pbis = pbis.filter(function(e) {
                                return e.id != i
                            }), lockedPbiOrder = lockedPbiOrder.filter(e => e != i), void 0 !== pbiIdToCustomColor && delete pbiIdToCustomColor[i], 0 === pbis.filter(e => !e.isLastItem && !e.isReference).length && (initialCustomOrderSet = !1), "function" == typeof saveToLocalStorage && saveToLocalStorage(), renderAll()
                        }
                    } else if (e.target.classList.contains("pbi-item-tshirt") && !e.target.classList.contains("is-disabled")) showTshirtPopup(e.target);
                    else if (e.target.classList.contains("wsjf-rank-tag") && r && "function" == typeof generatePastelColors && "function" == typeof rgbToHex) {
                        var d = generatePastelColors(1, rgbToHex(window.getComputedStyle(e.target).backgroundColor)),
                            u = d && d.length > 0 ? d[0] : null;
                        u ? (e.target.style.backgroundColor = u, void 0 !== pbiIdToCustomColor && (pbiIdToCustomColor[i] = u), "function" == typeof saveToLocalStorage && saveToLocalStorage(), "function" == typeof renderWsjfVisualization && renderWsjfVisualization()) : console.warn("Could not generate a new color.")
                    }
                }
            }
        }

        function savePbiFromModal(e) {
            var t = document.getElementById("edit-modal"),
                i = document.getElementById("pbi-title");
            if (i) {
                var o = i.value.trim(),
                    n = SCALES[currentScale].values,
                    r = n.length > 0 && "number" == typeof n[0],
                    a = document.getElementById("pbi-complexity"),
                    l = document.getElementById("pbi-effort"),
                    c = document.getElementById("pbi-doubt"),
                    s = document.getElementById("pbi-cod-bv"),
                    d = document.getElementById("pbi-cod-tc"),
                    u = document.getElementById("pbi-cod-rroe"),
                    f = document.getElementById("pbi-notes"),
                    m = k(a),
                    p = k(l),
                    g = k(c),
                    b = k(s),
                    v = k(d),
                    y = k(u),
                    h = f.innerHTML,
                    S = m > 0 && p > 0 && g > 0,
                    C = {
                        complexity: m,
                        effort: p,
                        doubt: g,
                        cod_bv: b,
                        cod_tc: v,
                        cod_rroe: y
                    },
                    E = {
                        title: o,
                        complexity: m,
                        effort: p,
                        doubt: g,
                        jobSize: S ? m + p + g : null,
                        cod_bv: b,
                        cod_tc: v,
                        cod_rroe: y,
                        cod: b > 0 && v > 0 && y > 0 ? b + v + y : null,
                        tshirtSize: null,
                        notes: h
                    };
                if (S) {
                    if (currentEditingId) {
                        var L = pbis.find(function(e) {
                            return e.id === currentEditingId
                        });
                        E.tshirtSize = L ? L.tshirtSize : null
                    }
                } else E.tshirtSize = null;
                if (currentEditingId) {
                    lastEditedPbiId = currentEditingId;
                    var w = pbis.findIndex(function(e) {
                        return e.id === currentEditingId
                    });
                    if (w > -1) {
                        var I = pbis[w];
                        if (I.arithmeticValues || (I.arithmeticValues = {}), I.fibonacciValues || (I.fibonacciValues = {}), "fibonacci" === currentScale || "safe" === currentScale) {
                            Object.assign(I.fibonacciValues, C);
                            ["complexity", "effort", "doubt", "cod_bv", "cod_tc", "cod_rroe"].forEach(function(e) {
                                var t = Number(C[e]),
                                    i = Number(I[e]),
                                    o = I.arithmeticValues[e];
                                (t !== i || null == o) && (I.arithmeticValues[e] = t)
                            })
                        } else "metric" === currentScale || "arithmetic" === currentScale ? Object.assign(I.arithmeticValues, C) : (Object.assign(I.arithmeticValues, C), Object.assign(I.fibonacciValues, C));
                        pbis[w] = Object.assign({}, I, E)
                    }
                } else {
                    var x = Object.assign({
                        id: Date.now(),
                        isReference: !1,
                        arithmeticValues: Object.assign({}, C),
                        fibonacciValues: Object.assign({}, C)
                    }, E);
                    pbis.push(x), lastEditedPbiId = x.id, ("custom" === currentSortCriteria || isFilterLocked) && lockedPbiOrder.push(x.id)
                }
                "function" == typeof saveToLocalStorage && saveToLocalStorage(), e && t && (t.style.display = "none"), "function" == typeof renderAll && renderAll()
            }

            function k(e) {
                if (!e) return 0;
                var t = parseInt(e.value, 10);
                return isNaN(t) ? 0 : r ? t : void 0 !== n[t] ? n[t] : 0
            }
        }

        function handleSavePbi() {
            var e = document.getElementById("pbi-title"),
                t = e.value.trim();
            if (t) {
                var i = SCALES[currentScale].values,
                    o = i.length > 0 && "number" == typeof i[0],
                    n = h("pbi-complexity"),
                    r = h("pbi-effort"),
                    a = h("pbi-doubt"),
                    l = n + r + a,
                    c = h("pbi-cod-bv"),
                    s = h("pbi-cod-tc"),
                    d = h("pbi-cod-rroe"),
                    u = c + s + d,
                    f = null;
                o && ("function" == typeof getTshirtSizeFromValue ? f = getTshirtSizeFromValue(l) : "function" == typeof window.getTshirtSizeFromValue && (f = window.getTshirtSizeFromValue(l)));
                var m = document.getElementById("pbi-notes"),
                    p = m ? m.innerHTML : "",
                    g = {
                        complexity: n,
                        effort: r,
                        doubt: a,
                        cod_bv: c,
                        cod_tc: s,
                        cod_rroe: d
                    };
                if (currentEditingId) {
                    var b = pbis.find(function(e) {
                        return e.id === currentEditingId
                    });
                    if (b) {
                        if (b.arithmeticValues || (b.arithmeticValues = {}), b.fibonacciValues || (b.fibonacciValues = {}), "fibonacci" === currentScale || "safe" === currentScale) {
                            Object.assign(b.fibonacciValues, g);
                            ["complexity", "effort", "doubt", "cod_bv", "cod_tc", "cod_rroe"].forEach(function(e) {
                                var t = Number(g[e]),
                                    i = Number(b[e]),
                                    o = b.arithmeticValues[e];
                                (t !== i || null == o) && (b.arithmeticValues[e] = t)
                            })
                        } else "metric" === currentScale || "arithmetic" === currentScale ? Object.assign(b.arithmeticValues, g) : (Object.assign(b.arithmeticValues, g), Object.assign(b.fibonacciValues, g));
                        b.title = t, b.complexity = n, b.effort = r, b.doubt = a, b.jobSize = l, b.cod_bv = c, b.cod_tc = s, b.cod_rroe = d, b.cod = u, b.notes = p, n > 0 && r > 0 && a > 0 ? f && (b.tshirtSize = f) : b.tshirtSize = null, lastEditedPbiId = b.id
                    }
                } else {
                    var v = {
                            id: Date.now(),
                            title: t,
                            complexity: n,
                            effort: r,
                            doubt: a,
                            jobSize: l,
                            cod_bv: c,
                            cod_tc: s,
                            cod_rroe: d,
                            cod: u,
                            tshirtSize: f,
                            notes: p,
                            creationDate: (new Date).toISOString(),
                            arithmeticValues: Object.assign({}, g),
                            fibonacciValues: Object.assign({}, g)
                        },
                        y = pbis.length - 1;
                    y >= 0 && pbis[y].isLastItem ? pbis.splice(y, 0, v) : pbis.push(v), lastEditedPbiId = v.id
                }
                "function" == typeof markModalAsDirty && (isModalDirty = !1), document.getElementById("edit-modal").style.display = "none", e.value = "", document.getElementById("pbi-complexity").value = "0", document.getElementById("pbi-effort").value = "0", document.getElementById("pbi-doubt").value = "0", document.getElementById("pbi-cod-bv").value = "0", document.getElementById("pbi-cod-tc").value = "0", document.getElementById("pbi-cod-rroe").value = "0", m && (m.innerHTML = ""), currentEditingId = null, "function" == typeof saveToLocalStorage && saveToLocalStorage(), renderAll(), "function" == typeof highlightAndScrollToLastEditedPbi && highlightAndScrollToLastEditedPbi()
            } else alert(config.uiStrings.alertTitleRequired || "Please enter a title.");

            function h(e) {
                var t = document.getElementById(e);
                if (!t) return 0;
                var n = parseInt(t.value, 10);
                return isNaN(n) ? 0 : o ? n : void 0 !== i[n] ? i[n] : 0
            }
        }

        function handleModalNavClick(e) {
            if (currentEditingId) {
                "function" == typeof getIsModalDirty && getIsModalDirty() && savePbiFromModal(!1);
                var t = document.getElementById("panel-wsjf-viz"),
                    i = t && !t.classList.contains("hidden"),
                    o = getSortedPbis(pbis, currentSortCriteria, currentSortDirection, config, i).filter(function(e) {
                        return !e.isLastItem
                    }),
                    n = o.findIndex(function(e) {
                        return e.id === currentEditingId
                    });
                if (-1 !== n) {
                    var r = n + e;
                    r >= 0 && r < o.length && showModal(o[r])
                }
            }
        }

        function setupEventListeners() {
            var e = document.getElementById("edit-modal"),
                t = document.getElementById("pbi-title"),
                i = [document.getElementById("pbi-complexity"), document.getElementById("pbi-effort"), document.getElementById("pbi-doubt")],
                o = [document.getElementById("pbi-cod-bv"), document.getElementById("pbi-cod-tc"), document.getElementById("pbi-cod-rroe")],
                n = document.getElementById("split-root"),
                r = document.getElementById("pbi-list-container"),
                a = document.getElementById("modal-prev-btn"),
                l = document.getElementById("modal-next-btn");
            a && a.addEventListener("click", function() {
                handleModalNavClick(-1)
            }), l && l.addEventListener("click", function() {
                handleModalNavClick(1)
            });
            var c = document.getElementById("resolution-warning-ignore-btn");
            c && c.addEventListener("click", function() {
                window.isResolutionWarningDismissed = !0, "function" == typeof checkScreenResolution && checkScreenResolution(), "function" == typeof saveToLocalStorage && saveToLocalStorage()
            }), document.getElementById("export-btn").addEventListener("click", exportPbisAsJson), document.getElementById("import-btn").addEventListener("click", function() {
                document.getElementById("import-file-input").click()
            }), document.getElementById("import-file-input").addEventListener("change", handleImport), document.getElementById("add-pbi-btn").addEventListener("click", function() {
                showModal()
            }), document.getElementById("cancel-btn").addEventListener("click", function() {
                e.style.display = "none"
            }), t.addEventListener("input", function() {
                "function" == typeof validateAndSyncModal && validateAndSyncModal(), "function" == typeof markModalAsDirty && markModalAsDirty()
            });
            var s = document.getElementById("editor-toolbar");

            function d() {
                if (s) {
                    var e = window.getSelection(),
                        t = !1;
                    if (e.rangeCount > 0)
                        for (var i = e.getRangeAt(0).startContainer; i;) {
                            if (1 === i.nodeType && "A" === i.tagName) {
                                t = !0;
                                break
                            }
                            if ("pbi-notes" === i.id || !i.parentNode) break;
                            i = i.parentNode
                        } ["bold", "italic", "underline", "strikeThrough"].forEach(function(e) {
                            var i = document.getElementById("btn-editor-" + ("strikeThrough" === e ? "strike" : e));
                            i && (document.queryCommandState(e) ? "underline" === e && t ? i.classList.remove("active") : i.classList.add("active") : i.classList.remove("active"))
                        });
                    var o = s.querySelector('.editor-btn[data-cmd="createLink"]');
                    o && (t ? o.classList.add("active") : o.classList.remove("active"));
                    for (var n = function(e) {
                            if (!e) return null;
                            if (e.startsWith("#")) return e.toUpperCase();
                            var t = e.match(/\d+/g);
                            if (!t || t.length < 3) return null;

                            function i(e) {
                                var t = parseInt(e).toString(16);
                                return 1 == t.length ? "0" + t : t
                            }
                            return ("#" + i(t[0]) + i(t[1]) + i(t[2])).toUpperCase()
                        }(document.queryCommandValue("foreColor")), r = config.editorColors || config.defaultEditorColors || {}, a = 1; a <= 4; a++) {
                        var l = document.getElementById("btn-editor-c" + a);
                        l && l.classList.remove("active")
                    }
                    if (n)
                        for (var c in r)
                            if (r[c] && r[c].toUpperCase() === n) {
                                var d = document.getElementById("btn-editor-c" + c);
                                d && d.classList.add("active")
                            }
                }
            }
            s && s.addEventListener("click", function(e) {
                var t = e.target.closest(".editor-btn");
                if (t) {
                    e.preventDefault();
                    var i = t.dataset.cmd,
                        o = t.dataset.arg || null;
                    if ("foreColor" === i) {
                        var n = t.dataset.colorIndex,
                            r = config.editorColors || config.defaultEditorColors || {},
                            a = r[n] ? r[n] : "#000000";
                        document.execCommand("foreColor", !1, a)
                    } else if ("createLink" === i) {
                        var l = window.getSelection(),
                            c = null;
                        if (l.rangeCount > 0)
                            for (var s = l.getRangeAt(0).commonAncestorContainer; s;) {
                                if (1 === s.nodeType && "A" === s.tagName) {
                                    c = s;
                                    break
                                }
                                s = s.parentNode
                            }
                        var u = c ? c.href : "https://",
                            f = prompt(config.uiStrings.linkPrompt || "URL:", u);
                        if (f) c ? c.href = f : document.execCommand(i, !1, f);
                        else if ("" === f && c) {
                            for (; c.firstChild;) c.parentNode.insertBefore(c.firstChild, c);
                            c.parentNode.removeChild(c)
                        }
                    } else "removeFormat" === i ? (document.execCommand("removeFormat", !1, null), document.execCommand("unlink", !1, null), document.execCommand("formatBlock", !1, "div")) : document.execCommand(i, !1, o);
                    var m = document.getElementById("pbi-notes");
                    m && (m.focus(), "function" == typeof markModalAsDirty && markModalAsDirty(), setTimeout(d, 10))
                }
            });
            var u = document.getElementById("pbi-notes");
            u && (u.addEventListener("keyup", d), u.addEventListener("mouseup", d), u.addEventListener("input", function() {
                "function" == typeof markModalAsDirty && markModalAsDirty()
            }), u.addEventListener("click", function(e) {
                var t = e.target.closest("a");
                t && u.contains(t) && window.open(t.href, "_blank")
            }), u.addEventListener("paste", handlePasteInNote)), i.forEach(function(e) {
                e && e.addEventListener("input", function() {
                    handleSliderInput(e)
                })
            }), o.forEach(function(e) {
                e && e.addEventListener("input", function() {
                    handleSliderInput(e)
                })
            }), document.getElementById("reset-job-size-btn").addEventListener("click", function() {
                "function" == typeof markModalAsDirty && markModalAsDirty(), i.forEach(function(e) {
                    e && (e.value = 0, e.dataset.interacted = "false", e.dataset.zeroLocked = "false", "function" == typeof updateActiveScaleValue && updateActiveScaleValue(e))
                }), "function" == typeof updateAllSliderFills && updateAllSliderFills(), "function" == typeof updateSliderValues && updateSliderValues(), "function" == typeof validateAndSyncModal && validateAndSyncModal(), "function" == typeof updateResetJobSizeButtonVisibility && updateResetJobSizeButtonVisibility(), document.getElementById("modal-tshirt-display").style.display = "none"
            });
            var f = document.getElementById("toggle-ref-markers-btn");
            f && f.addEventListener("click", function() {
                window.showReferenceMarkers = !window.showReferenceMarkers, "function" == typeof generateSliderScales && generateSliderScales(), "function" == typeof updateRefMarkerButtonState && updateRefMarkerButtonState(), [].concat(i, o).forEach(function(e) {
                    e && "function" == typeof updateActiveScaleValue && updateActiveScaleValue(e)
                })
            }), document.getElementById("reset-cod-btn").addEventListener("click", function() {
                "function" == typeof markModalAsDirty && markModalAsDirty(), o.forEach(function(e) {
                    e && (e.value = 0, e.dataset.interacted = "false", e.dataset.zeroLocked = "false", "function" == typeof updateActiveScaleValue && updateActiveScaleValue(e))
                }), "function" == typeof updateAllSliderFills && updateAllSliderFills(), "function" == typeof updateSliderValues && updateSliderValues(), "function" == typeof validateAndSyncModal && validateAndSyncModal(), "function" == typeof updateResetCoDButtonVisibility && updateResetCoDButtonVisibility()
            }), document.getElementById("save-btn").addEventListener("click", handleSavePbi), document.getElementById("pbi-list").addEventListener("click", handlePbiListClick), r && r.addEventListener("click", function(e) {
                var t = e.target.closest(".empty-state-demo-data a[data-lang]:not(.disabled)");
                if (t) {
                    e.preventDefault();
                    var i = t.dataset.lang;
                    "function" == typeof loadDemoData ? loadDemoData(i) : console.error("loadDemoData function is not defined.")
                }
            }), document.getElementById("visualization-container").addEventListener("click", function(e) {
                if (!e.target.closest(".last-item"))
                    if (e.target.classList.contains("story-title-tshirt-clickable")) showTshirtPopup(e.target);
                    else if (e.target.closest(".visualization-edit-btn")) {
                    var t = e.target.closest(".story-visualization"),
                        i = parseInt(t.dataset.id, 10),
                        o = pbis.find(function(e) {
                            return e.id === i
                        });
                    o && showModal(o)
                }
            }), document.getElementById("cod-visualization-container").addEventListener("click", function(e) {
                if (!e.target.closest(".last-item") && e.target.closest(".visualization-edit-btn")) {
                    var t = e.target.closest(".story-visualization"),
                        i = parseInt(t.dataset.id, 10),
                        o = pbis.find(function(e) {
                            return e.id === i
                        });
                    o && showModal(o, {
                        defaultTab: "cod"
                    })
                }
            });
            var m = document.getElementById("wsjf-visualization-container");
            m && m.addEventListener("click", function(e) {
                if (!e.target.closest(".last-item"))
                    if (e.target.classList.contains("story-title-tshirt-clickable")) showTshirtPopup(e.target);
                    else if (e.target.closest(".visualization-edit-btn")) {
                    var t = e.target.closest(".story-visualization"),
                        i = parseInt(t.dataset.id, 10),
                        o = pbis.find(function(e) {
                            return e.id === i
                        });
                    o && showModal(o)
                }
            }), document.getElementById("relative-sizing-list").addEventListener("click", function(e) {
                const t = e.target.closest(".rs-cell");
                e.target.closest(".last-item") || t && !t.classList.contains("calculated") && showValuePopup(t)
            }), document.addEventListener("pointerover", function(e) {
                if (!isDragging && !document.querySelector(".is-just-edited")) {
                    var t = e.target.closest(".pbi-item, .story-visualization, .rs-item");
                    if (t && t.dataset.id) {
                        if (t.classList.contains("last-item")) return;
                        if (parseInt(t.dataset.id, 10) === activePopupPbiId) return;
                        if (t.classList.contains("is-just-edited")) return;
                        toggleHighlight(t.dataset.id, !0)
                    }
                }
            }), document.addEventListener("pointerout", function(e) {
                var t = e.target.closest(".pbi-item, .story-visualization, .rs-item");
                if (t && t.dataset.id) {
                    if (t.classList.contains("last-item")) return;
                    if (parseInt(t.dataset.id, 10) === activePopupPbiId) return;
                    var i = e.relatedTarget;
                    t.contains(i) || toggleHighlight(t.dataset.id, !1)
                }
            });
            var p = document.getElementById("wsjf-visualization-container");
            p && (p.addEventListener("pointerover", function(e) {
                if (!isDragging && !document.querySelector(".is-just-edited")) {
                    var t = e.target.closest(".wsjf-delay-block");
                    if (t && t.dataset.pbiId) {
                        var i = parseInt(t.dataset.pbiId, 10);
                        if (i === activePopupPbiId) return;
                        toggleHighlight(i, !0)
                    }
                }
            }), p.addEventListener("pointerout", function(e) {
                var t = e.target.closest(".wsjf-delay-block");
                if (t && t.dataset.pbiId) {
                    var i = parseInt(t.dataset.pbiId, 10);
                    if (i === activePopupPbiId) return;
                    var o = e.relatedTarget,
                        n = null;
                    if (o) {
                        var r = o.closest("[data-pbi-id]") || o.closest("[data-id]");
                        r && (n = r.dataset.pbiId || r.dataset.id)
                    }
                    t.contains(o) || String(i) === String(n) || toggleHighlight(i, !1)
                }
            }));
            var g = document.getElementById("panel-wsjf-viz");
            g ? g.addEventListener("click", function(e) {
                if (e.target.closest("#wsjf-chart-optimal-title")) {
                    var t = document.getElementById("wsjf-chart-optimal-wrapper"),
                        i = document.getElementById("wsjf-visualization-container");
                    t && i ? (isOptimalChartCollapsed = !isOptimalChartCollapsed, t.classList.toggle("collapsed", isOptimalChartCollapsed), i.classList.toggle("wsjf-chart-compact", !isOptimalChartCollapsed)) : console.error("Could not find optimal chart wrapper or main WSJF container to collapse/expand.")
                }
            }) : console.warn("WSJF Panel container not found, cannot add collapse listener.");
            var b = document.getElementById("settings-modal");
            document.getElementById("settings-btn").addEventListener("click", openSettingsModal), document.getElementById("help-btn").addEventListener("click", openDocumentation), document.getElementById("settings-cancel-btn").addEventListener("click", function() {
                b.style.display = "none"
            }), document.getElementById("settings-save-btn").addEventListener("click", saveAndCloseSettings), document.getElementById("reset-settings-btn").addEventListener("click", resetSettingsToDefault);
            var v = document.getElementById("info-modal");
            document.getElementById("info-btn").addEventListener("click", function() {
                v.style.display = "flex"
            }), document.getElementById("info-close-btn").addEventListener("click", function() {
                v.style.display = "none"
            });
            var y = document.getElementById("info-tab-btn-software"),
                h = document.getElementById("info-tab-btn-thirdparty"),
                S = document.getElementById("info-tab-content-software"),
                C = document.getElementById("info-tab-content-thirdparty");
            y && h && S && C && (y.addEventListener("click", function() {
                y.classList.add("active"), h.classList.remove("active"), S.classList.remove("hidden"), C.classList.add("hidden")
            }), h.addEventListener("click", function() {
                h.classList.add("active"), y.classList.remove("active"), S.classList.add("hidden"), C.classList.remove("hidden")
            }));
            var E = document.querySelectorAll(".filter-btn");

            function L(e) {
                E.forEach(function(e) {
                    e.classList.remove("active")
                }), e && e.classList.add("active")
            }
            document.getElementById("filter-job-size-btn").addEventListener("click", function(e) {
                isFilterLocked || (destroySortable(), deactivateFilterLock(), currentSortCriteria = "jobSize", L(e.target), renderAll())
            }), document.getElementById("filter-cod-btn").addEventListener("click", function(e) {
                isFilterLocked || (destroySortable(), deactivateFilterLock(), currentSortCriteria = "cod", L(e.target), renderAll())
            }), document.getElementById("filter-wsjf-btn").addEventListener("click", function(e) {
                isFilterLocked || (destroySortable(), deactivateFilterLock(), currentSortCriteria = "wsjf", L(e.target), renderAll())
            }), document.getElementById("filter-tshirt-size-btn").addEventListener("click", function(e) {
                isFilterLocked || (destroySortable(), deactivateFilterLock(), currentSortCriteria = "tshirtSize", L(e.target), renderAll())
            }), document.getElementById("custom-sort-btn").addEventListener("click", function() {
                if (!isFilterLocked) {
                    if (destroySortable(), deactivateFilterLock(), !initialCustomOrderSet || 0 === lockedPbiOrder.length) {
                        var e = document.getElementById("panel-wsjf-viz"),
                            t = e && !e.classList.contains("hidden"),
                            i = getSortedPbis(pbis, "custom" !== currentSortCriteria ? currentSortCriteria : preLockSortCriteria || "creationOrder", currentSortDirection, config, t);
                        lockedPbiOrder = i.filter(function(e) {
                            return !e.isReference && !e.isLastItem
                        }).map(function(e) {
                            return e.id
                        }), initialCustomOrderSet = !0
                    }
                    currentSortCriteria = "custom", currentSortDirection = "asc", L(null), renderAll()
                }
            }), document.getElementById("sort-asc-btn").addEventListener("click", function() {
                isFilterLocked || (destroySortable(), "lock" !== currentSortCriteria && "creationOrder" !== currentSortCriteria || (currentSortCriteria = "jobSize"), currentSortDirection = "asc", renderAll())
            }), document.getElementById("sort-desc-btn").addEventListener("click", function() {
                isFilterLocked || (destroySortable(), "lock" !== currentSortCriteria && "creationOrder" !== currentSortCriteria || (currentSortCriteria = "jobSize"), currentSortDirection = "desc", renderAll())
            }), document.getElementById("reset-filters-btn").addEventListener("click", function() {
                if (currentHighlightedColumn = null, "custom" === currentSortCriteria);
                else {
                    if (destroySortable(), isFilterLocked) {
                        isFilterLocked = !1;
                        var e = document.getElementById("split-root");
                        e && e.classList.remove("filter-locked")
                    }
                    currentSortCriteria = "creationOrder", currentSortDirection = "asc", preLockSortCriteria = currentSortCriteria, preLockSortDirection = currentSortDirection
                }
                "creationOrder" === currentSortCriteria && L(null), updateFilterButtonStates(), updateSortDirectionButtons(pbis, currentSortDirection), updateFilterLockButtonState(), renderAll()
            }), document.getElementById("filter-lock-btn").addEventListener("click", function() {
                if (isFilterLocked = !isFilterLocked, isFilterLocked) {
                    destroySortable(), preLockSortCriteria = currentSortCriteria, preLockSortDirection = currentSortDirection;
                    var e = document.getElementById("panel-wsjf-viz"),
                        t = e && !e.classList.contains("hidden");
                    let i;
                    if ("custom" === currentSortCriteria || "lock" === currentSortCriteria) {
                        const e = pbis.reduce((e, t) => (t && !t.isLastItem && (e[t.id] = t), e), {});
                        i = lockedPbiOrder.map(t => e[t]).filter(e => void 0 !== e);
                        const t = lockedPbiOrder.reduce((e, t) => (e[t] = !0, e), {}),
                            o = pbis.filter(e => e && !e.isLastItem && !e.isReference && !t[e.id]);
                        i = i.concat(o)
                    } else i = getSortedPbis(pbis, preLockSortCriteria, preLockSortDirection, config, t);
                    lockedPbiOrder = i.filter(function(e) {
                        return e && !e.isReference && !e.isLastItem
                    }).map(function(e) {
                        return e.id
                    }), L(null), currentSortCriteria = "lock", n && n.classList.add("filter-locked")
                } else currentSortCriteria = preLockSortCriteria, currentSortDirection = preLockSortDirection, n && n.classList.remove("filter-locked");
                updateFilterLockButtonState(), renderAll()
            });
            var w = document.getElementById("tab-btn-jobsize"),
                I = document.getElementById("tab-btn-cod"),
                x = document.getElementById("tab-content-jobsize"),
                k = document.getElementById("tab-content-cod");
            w.addEventListener("click", function() {
                w.classList.add("active"), I.classList.remove("active"), x.classList.remove("hidden"), k.classList.add("hidden"), "function" == typeof updateResetJobSizeButtonVisibility && updateResetJobSizeButtonVisibility()
            }), I.addEventListener("click", function() {
                I.classList.add("active"), w.classList.remove("active"), k.classList.remove("hidden"), x.classList.add("hidden"), "function" == typeof updateResetCoDButtonVisibility && updateResetCoDButtonVisibility()
            });
            const B = {
                "view-tab-job-size-viz": "panel-job-size-viz",
                "view-tab-cod-viz": "panel-cod-viz",
                "view-tab-wsjf-viz": "panel-wsjf-viz",
                "view-tab-relative-sizing": "panel-relative-sizing"
            };
            var z;
            Object.keys(B).forEach(function(e) {
                    const t = document.getElementById(e);
                    t ? t.addEventListener("click", function() {
                        Object.keys(B).forEach(function(e) {
                            var t = document.getElementById(e);
                            t && t.classList.remove("active");
                            var i = document.getElementById(B[e]);
                            i && i.classList.add("hidden")
                        }), t.classList.add("active");
                        var i = document.getElementById(B[e]);
                        i && i.classList.remove("hidden");
                        var o = "view-tab-wsjf-viz" === e;
                        r && r.classList.toggle("wsjf-tab-view-active", o), "function" == typeof renderAll ? renderAll() : console.error("renderAll function is not defined!")
                    }) : console.warn("Tab button with ID '" + e + "' not found.")
                }), document.getElementById("relative-sizing-header").addEventListener("click", function(e) {
                    const t = e.target.closest(".rs-col-header");
                    if (!t) return;
                    const i = e.target.closest(".highlight-btn"),
                        o = t.dataset.sortBy;
                    var n = "custom" === currentSortCriteria;
                    if (i) return e.stopPropagation(), currentHighlightedColumn = currentHighlightedColumn === o ? null : o, void renderAll();
                    n || isFilterLocked || (destroySortable(), deactivateFilterLock(), currentSortCriteria === o ? currentSortDirection = "asc" === currentSortDirection ? "desc" : "asc" : (currentSortCriteria = o, currentSortDirection = "asc"), renderAll())
                }), "function" == typeof initSyncScroll && initSyncScroll(), window.addEventListener("resize", function() {
                    clearTimeout(z), z = setTimeout(function() {
                        "function" == typeof syncRowHeights && syncRowHeights(), "function" == typeof syncRelativeSizingHeaderPadding && syncRelativeSizingHeaderPadding(), window._equalizeGridRows && window._equalizeGridRows()
                    }, 100)
                }),
                function() {
                    const e = document.getElementById("relative-sizing-list");
                    if (!e) return;
                    if ("ResizeObserver" in window) {
                        const t = new ResizeObserver(() => {
                            requestAnimationFrame(function() {
                                "function" == typeof syncRelativeSizingHeaderPadding && syncRelativeSizingHeaderPadding()
                            })
                        });
                        t.observe(e), window._rsListResizeObserver = t
                    }
                    const t = new MutationObserver(() => {
                        requestAnimationFrame(function() {
                            "function" == typeof syncRelativeSizingHeaderPadding && syncRelativeSizingHeaderPadding()
                        })
                    });
                    t.observe(e, {
                        childList: !0,
                        subtree: !1
                    }), window._rsListMutationObserver = t
                }(), window.addEventListener("beforeunload", function(e) {
                    var t = pbis.some(function(e) {
                        return !(e.isLastItem || -1 === e.id)
                    });
                    config && config.defaultSettings && !0 === config.defaultSettings.confirmOnExit && t && (e.preventDefault(), e.returnValue = config.uiStrings.confirmExit || "You have unsaved changes. Are you sure you want to leave?")
                });
            var A = document.getElementById("reset-app-modal");
            document.getElementById("reset-app-btn").addEventListener("click", function() {
                A && (A.style.display = "flex")
            }), document.getElementById("reset-app-cancel-btn").addEventListener("click", function() {
                A && (A.style.display = "none")
            }), document.getElementById("reset-app-export-btn").addEventListener("click", function() {
                "function" == typeof exportPbisAsJson && exportPbisAsJson()
            }), document.getElementById("reset-app-confirm-btn").addEventListener("click", function() {
                "function" == typeof clearLocalStorageAndReset ? clearLocalStorageAndReset() : window.localStorage && (window.localStorage.clear(), window.location.reload())
            });
            var T = document.getElementById("csv-export-modal");

            function R(e) {
                exportSortCriteria = e, updateExportModalUI()
            }
            document.getElementById("btn-csv-export").addEventListener("click", function() {
                T && (["jobSize", "cod", "wsjf", "tshirtSize", "custom"].includes(currentSortCriteria) ? (exportSortCriteria = currentSortCriteria, exportSortDirection = currentSortDirection) : (exportSortCriteria = "jobSize", exportSortDirection = "asc"), "function" == typeof updateExportModalUI && updateExportModalUI(), T.style.display = "flex")
            }), document.getElementById("btn-csv-export-cancel").addEventListener("click", function() {
                T && (T.style.display = "none")
            }), document.getElementById("csv-sort-btn-job-size").addEventListener("click", function() {
                R("jobSize")
            }), document.getElementById("csv-sort-btn-tshirt-size").addEventListener("click", function() {
                R("tshirtSize")
            }), document.getElementById("csv-sort-btn-cod").addEventListener("click", function() {
                R("cod")
            }), document.getElementById("csv-sort-btn-wsjf").addEventListener("click", function() {
                R("wsjf")
            }), document.getElementById("csv-sort-custom-btn").addEventListener("click", function() {
                R("custom"), exportSortDirection = "asc", updateExportModalUI()
            }), document.getElementById("csv-sort-asc-btn").addEventListener("click", function() {
                exportSortDirection = "asc", updateExportModalUI()
            }), document.getElementById("csv-sort-desc-btn").addEventListener("click", function() {
                exportSortDirection = "desc", updateExportModalUI()
            }), document.getElementById("btn-csv-export-confirm").addEventListener("click", function() {
                "function" == typeof exportPbisAsCsv && "function" == typeof getSortedPbis ? exportPbisAsCsv(getSortedPbis(pbis, exportSortCriteria, exportSortDirection, config, !1)) : console.error("Export functions not found!");
                T && (T.style.display = "none")
            })
        }
        document.addEventListener("DOMContentLoaded", function() {
            var e = document.getElementById("ref-slot-left");
            e && e.addEventListener("click", function(e) {
                var t = e.target.closest(".pbi-item");
                if (t) {
                    var i = parseInt(t.dataset.id, 10);
                    if (-1 !== i) {
                        var o = pbis.find(function(e) {
                            return e.id === i
                        });
                        if (!o || !o.isLastItem)
                            if (e.target.closest(".reference-btn")) {
                                var n = pbis.find(function(e) {
                                    return e.id === i
                                });
                                if (n)
                                    if (e.target.closest(".ref-btn-min")) {
                                        if ("min" === n.referenceType) n.referenceType = null, n.isReference = !1;
                                        else {
                                            var r = pbis.find(function(e) {
                                                return "min" === e.referenceType
                                            });
                                            r && (r.referenceType = null, r.isReference = !1), n.referenceType = "min", n.isReference = !0
                                        }
                                        renderAll()
                                    } else if (e.target.closest(".ref-btn-max")) {
                                    if ("max" === n.referenceType) n.referenceType = null, n.isReference = !1;
                                    else {
                                        var a = pbis.find(function(e) {
                                            return "max" === e.referenceType
                                        });
                                        a && (a.referenceType = null, a.isReference = !1), n.referenceType = "max", n.isReference = !0
                                    }
                                    renderAll()
                                }
                            } else if (e.target.classList.contains("edit")) {
                            var l = pbis.find(function(e) {
                                return e.id === i
                            });
                            l && showModal(l)
                        } else if (e.target.classList.contains("delete")) {
                            var c;
                            if ((c = pbis.find(function(e) {
                                    return e.id === i
                                })) && c.isLastItem) return;
                            if (confirm(config.uiStrings.confirmDelete))(c = pbis.find(function(e) {
                                return e.id === i
                            })) && c.isReference && (c.isReference = !1, c.referenceType = null), pbis = pbis.filter(function(e) {
                                return e.id !== i
                            }), lockedPbiOrder = lockedPbiOrder.filter(e => e !== i), 0 === pbis.filter(e => !e.isLastItem && !e.isReference).length && (initialCustomOrderSet = !1), renderAll()
                        }
                    }
                }
            })
        }), "undefined" != typeof module && module.exports && (module.exports = {
            setupEventListeners: setupEventListeners,
            toggleHighlight: toggleHighlight,
            updateFilterLockButtonState: updateFilterLockButtonState,
            deactivateFilterLock: deactivateFilterLock,
            handlePbiListClick: handlePbiListClick,
            initSortable: initSortable,
            destroySortable: destroySortable,
            handleSortEnd: handleSortEnd,
            handleSavePbi: handleSavePbi,
            handleModalNavClick: handleModalNavClick,
            savePbiFromModal: savePbiFromModal,
            handlePasteInNote: handlePasteInNote,
            handleSliderInput: handleSliderInput
        });
        let isModalDirty = !1;

        function getIsModalDirty() {
            return isModalDirty
        }

        function markModalAsDirty() {
            isModalDirty = !0, currentEditingId && updateModalNavButtons(currentEditingId)
        }

        function updateResetCoDButtonVisibility() {
            const e = document.querySelector("#reset-cod-btn");
            if (!e) return;
            const t = e.parentElement,
                i = [document.getElementById("pbi-cod-bv"), document.getElementById("pbi-cod-tc"), document.getElementById("pbi-cod-rroe")];
            if (!t) return;
            const o = i.some(function(e) {
                return e && parseInt(e.value, 10) > 0
            });
            e.disabled = !o, t.classList.remove("hidden");
            const n = document.querySelector("#edit-modal .modal-footer"),
                r = document.getElementById("tab-content-cod");
            n && r && !r.classList.contains("hidden") && n.classList.add("no-margin")
        }

        function updateModalNavButtons(e) {
            var t = document.getElementById("modal-prev-btn"),
                i = document.getElementById("modal-next-btn"),
                o = document.getElementById("modal-nav-info"),
                n = document.getElementById("modal-prev-label"),
                r = document.getElementById("modal-next-label");
            if (t && i) {
                var a = document.getElementById("panel-wsjf-viz"),
                    l = a && !a.classList.contains("hidden");
                if ("function" == typeof getSortedPbis) {
                    var c = getSortedPbis(pbis, currentSortCriteria, currentSortDirection, config, l).filter(function(e) {
                            return !e.isLastItem
                        }),
                        s = c.findIndex(function(t) {
                            return t.id === e
                        }),
                        d = c[s];
                    if (-1 === s) return t.disabled = !0, i.disabled = !0, void(o && (o.textContent = ""));
                    if (t.disabled = s <= 0, i.disabled = s >= c.length - 1, o && config && config.uiStrings) {
                        var u = (config.uiStrings.navItemCount || "Item {current} of {total}").replace("{current}", s + 1).replace("{total}", c.length);
                        if (d && d.isReference) {
                            var f = "",
                                m = "";
                            "min" === d.referenceType ? (f = config.uiStrings.navRefMin || "REFERENCE ITEM MIN", m = "ref-min") : "max" === d.referenceType && (f = config.uiStrings.navRefMax || "REFERENCE ITEM MAX", m = "ref-max"), f ? o.innerHTML = u + '<span class="nav-separator"> - </span><span class="ref-nav-label ' + m + '">' + f + "</span>" : o.textContent = u
                        } else o.textContent = u
                    }
                    var p = config.uiStrings;
                    n && (n.textContent = isModalDirty ? p.navPrevItemSave || "Save & Previous" : p.navPrevItem || "Previous Item"), r && (r.textContent = isModalDirty ? p.navNextItemSave || "Save & Next" : p.navNextItem || "Next Item")
                }
            }
        }

        function updateHelpIcons() {
            if (config && config.scaleHelpUrls) {
                [{
                    key: "complexity",
                    id: "help-icon-complexity"
                }, {
                    key: "effort",
                    id: "help-icon-effort"
                }, {
                    key: "doubt",
                    id: "help-icon-doubt"
                }, {
                    key: "cod_bv",
                    id: "help-icon-cod_bv"
                }, {
                    key: "cod_tc",
                    id: "help-icon-cod_tc"
                }, {
                    key: "cod_rroe",
                    id: "help-icon-cod_rroe"
                }].forEach(function(e) {
                    var t = config.scaleHelpUrls[e.key],
                        i = document.getElementById(e.id);
                    i && (t && "" !== t.trim() ? (i.style.display = "inline-block", i.href = t) : i.style.display = "none")
                })
            }
        }

        function showModal(e, t) {
            var i = document.getElementById("edit-modal"),
                o = document.getElementById("pbi-title"),
                n = document.getElementById("modal-title"),
                r = document.getElementById("pbi-complexity"),
                a = document.getElementById("pbi-effort"),
                l = document.getElementById("pbi-doubt"),
                c = document.getElementById("pbi-cod-bv"),
                s = document.getElementById("pbi-cod-tc"),
                d = document.getElementById("pbi-cod-rroe"),
                u = document.getElementById("pbi-notes"),
                f = document.getElementById("modal-tshirt-display");
            if (void 0 !== isModalDirty && (isModalDirty = !1), "function" == typeof syncSliderMax && syncSliderMax(), "function" == typeof generateSliderScales && generateSliderScales(), e) {
                currentEditingId = e.id, n && (n.textContent = config.uiStrings && config.uiStrings.modalTitleEdit ? config.uiStrings.modalTitleEdit : "Edit PBI"), o.value = e.title || "";
                var m = "fibonacci" === currentScale || "safe" === currentScale ? e.fibonacciValues || {} : e.arithmeticValues || {};
                if (r.value = void 0 !== m.complexity ? m.complexity : e.complexity || "0", a.value = void 0 !== m.effort ? m.effort : e.effort || "0", l.value = void 0 !== m.doubt ? m.doubt : e.doubt || "0", c.value = void 0 !== m.cod_bv ? m.cod_bv : e.cod_bv || "0", s.value = void 0 !== m.cod_tc ? m.cod_tc : e.cod_tc || "0", d.value = void 0 !== m.cod_rroe ? m.cod_rroe : e.cod_rroe || "0", u && (u.innerHTML = e.notes || ""), f)
                    if (e.tshirtSize) {
                        var p = f.querySelector(".modal-tag-label"),
                            g = f.querySelector(".modal-tag-value"),
                            b = config.uiStrings && config.uiStrings.pbiInfoTshirtSize ? config.uiStrings.pbiInfoTshirtSize : "Size";
                        p && (p.textContent = b + ":"), g && (g.textContent = e.tshirtSize), f.style.display = "inline-flex"
                    } else f.style.display = "none"
            } else currentEditingId = null, n && (n.textContent = config.uiStrings && config.uiStrings.modalTitleNew ? config.uiStrings.modalTitleNew : "New PBI"), o.value = "", r.value = "0", a.value = "0", l.value = "0", c.value = "0", s.value = "0", d.value = "0", u && (u.innerHTML = ""), f && (f.style.display = "none");
            [r, a, l, c, s, d].forEach(function(e) {
                e && (e.dataset.interacted = "0" !== e.value ? "true" : "false", e.dataset.zeroLocked = "0" !== e.value ? "true" : "false", "function" == typeof updateSliderFill && updateSliderFill(e), "function" == typeof updateActiveScaleValue && updateActiveScaleValue(e))
            }), "function" == typeof updateAllSliderFills && updateAllSliderFills(), "function" == typeof updateSliderValues && updateSliderValues(), "function" == typeof validateAndSyncModal && validateAndSyncModal(), "function" == typeof updateModalNavButtons && updateModalNavButtons(currentEditingId), "function" == typeof updateResetJobSizeButtonVisibility && updateResetJobSizeButtonVisibility(), "function" == typeof updateResetCoDButtonVisibility && updateResetCoDButtonVisibility(), "function" == typeof updateRefMarkerButtonState && updateRefMarkerButtonState(), updateHelpIcons();
            var v = document.getElementById("tab-btn-jobsize"),
                y = document.getElementById("tab-btn-cod"),
                h = document.getElementById("tab-content-jobsize"),
                S = document.getElementById("tab-content-cod");
            t && "cod" === t.defaultTab ? (y && y.classList.add("active"), v && v.classList.remove("active"), S && S.classList.remove("hidden"), h && h.classList.add("hidden")) : (v && v.classList.add("active"), y && y.classList.remove("active"), h && h.classList.remove("hidden"), S && S.classList.add("hidden")), i.style.display = "flex", o.focus()
        }

        function openSettingsModal() {
            document.querySelectorAll('input[name="language-setting"]').forEach(e => {
                e.checked = e.value === currentLanguage
            });
            const e = document.getElementById("tshirt-sizes-options");
            e.innerHTML = "";
            const t = {
                XXS: 1,
                XS: 2,
                S: 3,
                M: 4,
                L: 5,
                XL: 6,
                XXL: 7
            };
            config.allTshirtSizes.slice().sort((e, i) => (t[e] || 99) - (t[i] || 99)).forEach(t => {
                const i = config.tshirtSizes.includes(t),
                    o = document.createElement("label"),
                    n = document.createElement("input");
                n.type = "checkbox", n.name = "tshirt-size-setting", n.value = t, n.checked = i, o.appendChild(n), o.appendChild(document.createTextNode(" " + t)), e.appendChild(o)
            }), document.querySelectorAll('input[name="scale-setting"]').forEach(e => {
                e.checked = e.value === currentScale
            }), document.getElementById("color-complexity-setting").value = config.colors.complexity, document.getElementById("color-effort-setting").value = config.colors.effort, document.getElementById("color-doubt-setting").value = config.colors.doubt, document.getElementById("color-total-setting").value = config.colors.total, document.getElementById("color-number-complexity-setting").value = config.colors.numberComplexity, document.getElementById("color-number-effort-setting").value = config.colors.numberEffort, document.getElementById("color-number-doubt-setting").value = config.colors.numberDoubt, document.getElementById("color-bv-setting").value = config.colors.bv, document.getElementById("color-tc-setting").value = config.colors.tc, document.getElementById("color-rroe-setting").value = config.colors.rroe, document.getElementById("color-number-bv-setting").value = config.colors.numberBv, document.getElementById("color-number-tc-setting").value = config.colors.numberTc, document.getElementById("color-number-rroe-setting").value = config.colors.numberRrOe;
            var i = config.editorColors || config.defaultEditorColors || {
                    1: "#279745",
                    2: "#2560d1",
                    3: "#937404",
                    4: "#c90000"
                },
                o = document.getElementById("setting-editor-c1"),
                n = document.getElementById("setting-editor-c2"),
                r = document.getElementById("setting-editor-c3"),
                a = document.getElementById("setting-editor-c4");
            o && (o.value = i[1]), n && (n.value = i[2]), r && (r.value = i[3]), a && (a.value = i[4]);
            var l = document.getElementById("setting-show-ref-markers");
            l && "undefined" != typeof window && (l.checked = window.showReferenceMarkers);
            var c = document.getElementById("setting-show-res-warning");
            c && "undefined" != typeof window && (c.checked = !window.isResolutionWarningDismissed), document.getElementById("settings-modal").style.display = "flex"
        }

        function resetSettingsToDefault() {
            document.getElementById("color-complexity-setting").value = config.defaultColors.complexity, document.getElementById("color-effort-setting").value = config.defaultColors.effort, document.getElementById("color-doubt-setting").value = config.defaultColors.doubt, document.getElementById("color-total-setting").value = config.defaultColors.total, document.getElementById("color-number-complexity-setting").value = config.defaultColors.numberComplexity, document.getElementById("color-number-effort-setting").value = config.defaultColors.numberEffort, document.getElementById("color-number-doubt-setting").value = config.defaultColors.numberDoubt, document.getElementById("color-bv-setting").value = config.defaultColors.bv, document.getElementById("color-tc-setting").value = config.defaultColors.tc, document.getElementById("color-rroe-setting").value = config.defaultColors.rroe, document.getElementById("color-number-bv-setting").value = config.defaultColors.numberBv, document.getElementById("color-number-tc-setting").value = config.defaultColors.numberTc, document.getElementById("color-number-rroe-setting").value = config.defaultColors.numberRrOe, document.querySelector('input[name="language-setting"][value="' + config.defaultSettings.language + '"]').checked = !0, document.querySelector('input[name="scale-setting"][value="' + config.defaultSettings.scale + '"]').checked = !0;
            const e = config.defaultSettings.tshirtSizes;
            document.querySelectorAll('input[name="tshirt-size-setting"]').forEach(function(t) {
                t.checked = -1 !== e.indexOf(t.value)
            });
            var t = config.defaultEditorColors || {
                    1: "#279745",
                    2: "#2560d1",
                    3: "#937404",
                    4: "#c90000"
                },
                i = document.getElementById("setting-editor-c1"),
                o = document.getElementById("setting-editor-c2"),
                n = document.getElementById("setting-editor-c3"),
                r = document.getElementById("setting-editor-c4");
            i && (i.value = t[1]), o && (o.value = t[2]), n && (n.value = t[3]), r && (r.value = t[4]);
            var a = document.getElementById("setting-show-ref-markers");
            if (a) {
                var l = !1 !== config.defaultSettings.showReferenceMarkers;
                a.checked = l
            }
            var c = document.getElementById("setting-show-res-warning");
            c && (c.checked = !0)
        }

        function saveAndCloseSettings() {
            const e = [];
            document.querySelectorAll('input[name="tshirt-size-setting"]:checked').forEach(function(t) {
                e.push(t.value)
            }), e.length > 0 ? config.tshirtSizes = e : config.tshirtSizes = config.defaultSettings.tshirtSizes;
            const t = currentScale,
                i = document.querySelector('input[name="scale-setting"]:checked').value;
            if (t !== i) {
                const e = SCALES[i].values,
                    t = ["complexity", "effort", "doubt", "cod_bv", "cod_tc", "cod_rroe"],
                    o = function(e, t) {
                        if (0 === e) return 0;
                        if (t.includes(e)) return e;
                        const i = t.find(t => t >= e);
                        return void 0 !== i ? i : t[t.length - 1]
                    };
                pbis.forEach(function(n) {
                    n.arithmeticValues || (n.arithmeticValues = {}), n.fibonacciValues || (n.fibonacciValues = {}), "fibonacci" === i || "safe" === i ? (t.forEach(function(e) {
                        n.arithmeticValues[e] = n[e]
                    }), t.forEach(function(t) {
                        const i = n[t],
                            r = o(i, e);
                        n[t] = r, n.fibonacciValues[t] = r
                    })) : "metric" === i || "arithmetic" === i ? (t.forEach(function(e) {
                        n.fibonacciValues[e] = n[e]
                    }), t.forEach(function(e) {
                        n.arithmeticValues && void 0 !== n.arithmeticValues[e] ? n[e] = n.arithmeticValues[e] : n.arithmeticValues[e] = n[e]
                    })) : t.forEach(function(t) {
                        const i = n[t];
                        "number" == typeof i && -1 === e.indexOf(i) && (n[t] = o(i, e))
                    }), n.complexity > 0 && n.effort > 0 && n.doubt > 0 ? n.jobSize = n.complexity + n.effort + n.doubt : n.jobSize = null, n.cod_bv > 0 && n.cod_tc > 0 && n.cod_rroe > 0 ? n.cod = n.cod_bv + n.cod_tc + n.cod_rroe : n.cod = null, "function" == typeof window.getTshirtSizeFromValue && "number" == typeof SCALES[i].values[0] && (n.tshirtSize = n.jobSize ? window.getTshirtSizeFromValue(n.jobSize) : null)
                })
            }
            const o = document.querySelector('input[name="language-setting"]:checked').value;
            if (currentLanguage !== o) {
                currentLanguage = o, config.uiStrings = config.languages[currentLanguage];
                const e = document.getElementById("update-notification-container");
                e && (e.innerHTML = ""), checkForUpdates()
            }
            config.colors.complexity = document.getElementById("color-complexity-setting").value, config.colors.effort = document.getElementById("color-effort-setting").value, config.colors.doubt = document.getElementById("color-doubt-setting").value, config.colors.total = document.getElementById("color-total-setting").value, config.colors.numberComplexity = document.getElementById("color-number-complexity-setting").value, config.colors.numberEffort = document.getElementById("color-number-effort-setting").value, config.colors.numberDoubt = document.getElementById("color-number-doubt-setting").value, config.colors.bv = document.getElementById("color-bv-setting").value, config.colors.tc = document.getElementById("color-tc-setting").value, config.colors.rroe = document.getElementById("color-rroe-setting").value, config.colors.numberBv = document.getElementById("color-number-bv-setting").value, config.colors.numberTc = document.getElementById("color-number-tc-setting").value, config.colors.numberRrOe = document.getElementById("color-number-rroe-setting").value, config.editorColors || (config.editorColors = {});
            var n = {
                    1: "setting-editor-c1",
                    2: "setting-editor-c2",
                    3: "setting-editor-c3",
                    4: "setting-editor-c4"
                },
                r = Object.assign({}, config.editorColors),
                a = {};
            for (var l in n) {
                var c = document.getElementById(n[l]);
                a[l] = c ? c.value : r[l]
            }
            for (var l in a) {
                var s = r[l],
                    d = a[l];
                s && d && s.toLowerCase() !== d.toLowerCase() && pbis.forEach(function(e) {
                    if (e.notes) {
                        var t = new RegExp(s, "gi");
                        e.notes = e.notes.replace(t, d)
                    }
                }), config.editorColors[l] = d
            }
            var u = document.getElementById("setting-show-ref-markers");
            u && "undefined" != typeof window && (window.showReferenceMarkers = u.checked);
            var f = document.getElementById("setting-show-res-warning");
            f && "undefined" != typeof window && (window.isResolutionWarningDismissed = !f.checked, "function" == typeof checkScreenResolution && checkScreenResolution()), applyColorSettings(config.colors), currentScale = i, document.getElementById("settings-modal").style.display = "none", syncSliderMax(), generateSliderScales(), applyUiStrings(), "function" == typeof saveToLocalStorage && saveToLocalStorage(), renderAll()
        }

        function validateAndSyncModalLogic(e) {
            var t = e.title,
                i = e.complexityVal,
                o = e.effortVal,
                n = e.doubtVal,
                r = e.codBvVal,
                a = e.codTcVal,
                l = e.codRroeVal,
                c = e.uiStrings,
                s = "" !== t.trim(),
                d = i > 0 && o > 0 && n > 0,
                u = d ? i + o + n : null,
                f = c.jobsizeHint,
                m = !1;
            d && (f = c.jobsizeHintComplete.replace("{jobSize}", u), m = !0);
            var p = !s,
                g = r > 0 && a > 0 && l > 0,
                b = g ? r + a + l : null,
                v = c.codHint,
                y = !1;
            g && (v = c.codHintComplete.replace("{codSize}", b), y = !0);
            var h = null;
            if (g && null !== u && u > 0 && null !== b) {
                var S = (b / u).toFixed(2);
                S.endsWith(".00") ? S = S.slice(0, -3) : S.endsWith("0") && (S = S.slice(0, -1)), h = S.replace(".", ",")
            }
            return {
                isSaveDisabled: p,
                jobsizeHintText: f,
                jobsizeHintIsComplete: m,
                codHintText: v,
                codHintIsComplete: y,
                wsjfValue: h,
                jobSizeTotal: u,
                codTotal: b
            }
        }

        function validateAndSyncModal() {
            var e = SCALES[currentScale].values,
                t = e.length > 0 && "number" == typeof e[0];

            function i(i) {
                var o = document.getElementById(i);
                if (!o) return 0;
                var n = parseInt(o.value, 10);
                if (isNaN(n)) return 0;
                if (t) return n;
                var r = e[n];
                return void 0 !== r ? r : 0
            }
            var o = validateAndSyncModalLogic({
                    title: document.getElementById("pbi-title").value,
                    complexityVal: i("pbi-complexity"),
                    effortVal: i("pbi-effort"),
                    doubtVal: i("pbi-doubt"),
                    codBvVal: i("pbi-cod-bv"),
                    codTcVal: i("pbi-cod-tc"),
                    codRroeVal: i("pbi-cod-rroe"),
                    uiStrings: config.uiStrings
                }),
                n = config.uiStrings.pbiInfoNA || "na",
                r = document.getElementById("save-btn");
            r && (r.disabled = o.isSaveDisabled);
            var a = document.getElementById("job-size-total");
            a && (null !== o.jobSizeTotal && o.jobSizeTotal > 0 ? (a.textContent = o.jobSizeTotal, a.classList.add("has-value")) : (a.textContent = n, a.classList.remove("has-value")));
            var l = document.getElementById("cod-total");
            l && (null !== o.codTotal && o.codTotal > 0 ? (l.textContent = o.codTotal, l.classList.add("has-value")) : (l.textContent = n, l.classList.remove("has-value")));
            var c = document.getElementById("jobsize-hint");
            c && (o.jobsizeHintText ? (c.textContent = o.jobsizeHintText, c.style.display = "block", o.jobsizeHintIsComplete ? c.classList.add("is-complete") : c.classList.remove("is-complete")) : c.style.display = "none");
            var s = document.getElementById("cod-hint");
            s && (o.codHintText ? (s.textContent = o.codHintText, s.style.display = "block", o.codHintIsComplete ? s.classList.add("is-complete") : s.classList.remove("is-complete")) : s.style.display = "none");
            var d = document.getElementById("modal-wsjf-display"),
                u = document.getElementById("wsjf-value");
            u && (null !== o.wsjfValue ? (u.textContent = o.wsjfValue, u.classList.add("has-value")) : (u.textContent = "0", u.classList.remove("has-value"))), d && (null !== o.wsjfValue ? (d.querySelector(".modal-tag-label").textContent = config.uiStrings.pbiInfoWSJF + ":", d.querySelector(".modal-tag-value").textContent = o.wsjfValue, d.style.display = "inline-flex") : d.style.display = "none"), "function" == typeof updateResetJobSizeButtonVisibility && updateResetJobSizeButtonVisibility(), "function" == typeof updateResetCoDButtonVisibility && updateResetCoDButtonVisibility()
        }

        function showTshirtPopup(e) {
            const t = e.closest("[data-id]");
            if (!t) return;
            const i = parseInt(t.dataset.id, 10),
                o = pbis.find(e => e.id === i);
            if (!o) return;
            activePopupPbiId = i, e.classList.add("popup-trigger-active");
            const n = document.querySelector('.pbi-item[data-id="' + i + '"]'),
                r = document.querySelector('.story-visualization[data-id="' + i + '"]');
            n && n.classList.add("is-selecting"), r && r.classList.add("is-selecting");
            const a = config.tshirtSizes.slice().sort((e, t) => config.allTshirtSizes.indexOf(e) - config.allTshirtSizes.indexOf(t)),
                l = ["-"].concat(a),
                c = document.createElement("div");
            c.className = "tshirt-popup";
            const s = document.createElement("div");
            s.className = "popup-overlay";
            const d = function() {
                activePopupPbiId = null, e.classList.remove("popup-trigger-active"), n && n.classList.remove("is-selecting"), r && r.classList.remove("is-selecting"), document.body.contains(c) && document.body.removeChild(c), document.body.contains(s) && document.body.removeChild(s), toggleHighlight(i, !1)
            };
            s.addEventListener("click", d), l.forEach(function(e) {
                const t = document.createElement("div");
                t.className = "tshirt-option", t.textContent = e, t.addEventListener("click", function() {
                    o.tshirtSize = "-" === e ? null : e, lastEditedPbiId = o.id, activePopupPbiId = null, d(), renderAll()
                }), c.appendChild(t)
            }), document.body.appendChild(s), document.body.appendChild(c);
            const u = e.getBoundingClientRect(),
                f = c.getBoundingClientRect(),
                m = u.left + window.scrollX + u.width / 2 - f.width / 2,
                p = u.top + window.scrollY + u.height / 2 - f.height / 2;
            c.style.left = Math.max(0, m) + "px", c.style.top = Math.max(0, p) + "px"
        }

        function showValuePopup(e) {
            const t = parseInt(e.dataset.pbiId, 10),
                i = e.dataset.valueType,
                o = pbis.find(function(e) {
                    return e.id === t
                });
            if (!o) return;
            activePopupPbiId = t, e.classList.add("popup-trigger-active");
            const n = SCALES[currentScale].values,
                r = document.createElement("div");
            r.className = "tshirt-popup";
            const a = document.createElement("div");
            a.className = "popup-overlay";
            const l = function() {
                activePopupPbiId = null, e.classList.remove("popup-trigger-active"), document.body.contains(r) && document.body.removeChild(r), document.body.contains(a) && document.body.removeChild(a), null === activePopupPbiId && toggleHighlight(t, !1)
            };
            a.addEventListener("click", l), n.forEach(function(e) {
                const t = document.createElement("div");
                t.className = "tshirt-option", t.textContent = 0 === e ? "-" : e, t.addEventListener("click", function() {
                    o[i] = e, o.arithmeticValues || (o.arithmeticValues = {}), o.fibonacciValues || (o.fibonacciValues = {}), o.arithmeticValues[i] = e, o.fibonacciValues[i] = e, ["complexity", "effort", "doubt"].indexOf(i) > -1 && (o.complexity > 0 && o.effort > 0 && o.doubt > 0 ? o.jobSize = o.complexity + o.effort + o.doubt : (o.jobSize = null, o.tshirtSize = null)), ["cod_bv", "cod_tc", "cod_rroe"].indexOf(i) > -1 && (o.cod_bv > 0 && o.cod_tc > 0 && o.cod_rroe > 0 ? o.cod = o.cod_bv + o.cod_tc + o.cod_rroe : o.cod = null), lastEditedPbiId = o.id, activePopupPbiId = null, l(), renderAll(), "function" == typeof saveToLocalStorage && saveToLocalStorage()
                }), r.appendChild(t)
            }), document.body.appendChild(a), document.body.appendChild(r);
            const c = e.getBoundingClientRect(),
                s = r.getBoundingClientRect(),
                d = window.scrollX + c.left + c.width / 2 - s.width / 2,
                u = window.scrollY + c.top + c.height / 2 - s.height / 2;
            r.style.left = Math.max(0, d) + "px", r.style.top = Math.max(0, u) + "px"
        }

        function __bc_readPaddingPx() {
            try {
                const e = window.BUBBLE_CLUSTER_OPTS.paddingCssVar || "--bubble-gap",
                    t = getComputedStyle(document.documentElement).getPropertyValue(e).trim();
                if (t) {
                    const e = parseFloat(t);
                    if (Number.isFinite(e)) return e
                }
            } catch (e) {}
            return Number(window.BUBBLE_CLUSTER_OPTS.paddingPx || 2)
        }

        function __bc_selectEdgePair(e, t) {
            if ("KA" === e) return [0, 1];
            if ("KU" === e) return [0, 2];
            if ("AU" === e) return [1, 2];
            if ("random" === e) {
                const e = [
                    [0, 1],
                    [0, 2],
                    [1, 2]
                ];
                return e[Math.floor(Math.random() * e.length)]
            }
            return [0, 1, 2].sort((e, i) => t[i] - t[e]).slice(0, 2)
        }

        function createPlaceholderVisualization(e, t) {
            var i = 22.5;

            function o(e) {
                return getComputedStyle(document.documentElement).getPropertyValue(e).trim()
            }
            var n = 0;
            e.complexity > 0 && n++, e.effort > 0 && n++, e.doubt > 0 && n++;
            var r = "http://www.w3.org/2000/svg",
                a = document.createElementNS(r, "svg"),
                l = Math.ceil(85);
            a.setAttribute("width", l), a.setAttribute("height", l), a.setAttribute("viewBox", [-42.5, -42.5, 85, 85].join(" "));
            var c = document.createElementNS(r, "circle");
            if (c.setAttribute("cx", 0), c.setAttribute("cy", 0), c.setAttribute("r", 32.5), c.setAttribute("fill", o("--color-total")), a.appendChild(c), n > 0) {
                var s = 120 * n,
                    d = 27.5,
                    u = (s - 90) * Math.PI / 180,
                    f = d * Math.cos(u),
                    m = d * Math.sin(u),
                    p = s > 180 ? 1 : 0,
                    g = document.createElementNS(r, "path"),
                    b = "M 0,0 L 0,-27.5 A 27.5,27.5 0 " + p + ",1 " + f + "," + m + " z";
                g.setAttribute("d", b), g.setAttribute("fill", o("--border-color")), a.appendChild(g)
            }
            var v = document.createElementNS(r, "circle");
            v.setAttribute("cx", 0), v.setAttribute("cy", 0), v.setAttribute("r", 27.5), v.setAttribute("fill", "none"), v.setAttribute("stroke", o("--outer-stroke-color")), v.setAttribute("stroke-width", "2"), a.appendChild(v), t.dataset.size = i, t.prepend(a)
        }

        function createCodPlaceholderVisualization(e, t) {
            var i = 22.5;

            function o(e) {
                return getComputedStyle(document.documentElement).getPropertyValue(e).trim()
            }
            var n = 0;
            e.cod_bv > 0 && n++, e.cod_tc > 0 && n++, e.cod_rroe > 0 && n++;
            var r = "http://www.w3.org/2000/svg",
                a = document.createElementNS(r, "svg"),
                l = Math.ceil(85);
            a.setAttribute("width", l), a.setAttribute("height", l), a.setAttribute("viewBox", [-42.5, -42.5, 85, 85].join(" "));
            var c = document.createElementNS(r, "circle");
            if (c.setAttribute("cx", 0), c.setAttribute("cy", 0), c.setAttribute("r", 32.5), c.setAttribute("fill", o("--color-total")), a.appendChild(c), n > 0) {
                var s = 120 * n,
                    d = 27.5,
                    u = (s - 90) * Math.PI / 180,
                    f = d * Math.cos(u),
                    m = d * Math.sin(u),
                    p = s > 180 ? 1 : 0,
                    g = document.createElementNS(r, "path"),
                    b = "M 0,0 L 0,-27.5 A 27.5,27.5 0 " + p + ",1 " + f + "," + m + " z";
                g.setAttribute("d", b), g.setAttribute("fill", o("--border-color")), a.appendChild(g)
            }
            var v = document.createElementNS(r, "circle");
            v.setAttribute("cx", 0), v.setAttribute("cy", 0), v.setAttribute("r", 27.5), v.setAttribute("fill", "none"), v.setAttribute("stroke", o("--outer-stroke-color")), v.setAttribute("stroke-width", "2"), a.appendChild(v), t.dataset.size = i, t.prepend(a)
        }

        function createStoryVisualization(e, t) {
            const i = __bc_readPaddingPx();
            let o = 15 * e.jobSize / 2;

            function n(e) {
                return getComputedStyle(document.documentElement).getPropertyValue(e).trim()
            }

            function r(e, t, i, o) {
                const n = i.x - e.x,
                    r = i.y - e.y,
                    a = Math.hypot(n, r),
                    l = 1e-6;
                if (a < l || a > t + o + l || a < Math.abs(t - o) - l) return [];
                const c = (t * t - o * o + a * a) / (2 * a),
                    s = Math.max(0, t * t - c * c),
                    d = Math.sqrt(s),
                    u = e.x + c * n / a,
                    f = e.y + c * r / a,
                    m = -r / a,
                    p = n / a;
                return [{
                    x: u + d * m,
                    y: f + d * p
                }, {
                    x: u - d * m,
                    y: f - d * p
                }]
            }
            const a = [e.complexity, e.effort, e.doubt].map(e => Math.max(0, Number(e) || 0)).map(e => Math.sqrt(e)),
                l = __bc_selectEdgePair(window.BUBBLE_CLUSTER_OPTS.edgePair || "largest", a),
                c = l[0],
                s = l[1],
                d = [0, 1, 2].find(e => e !== c && e !== s),
                u = a[c],
                f = a[s],
                m = a[d];

            function p(e) {
                let t = 0,
                    n = (o - i) / Math.min(u, f) - 1e-6;
                const r = Math.cos(e);
                for (let e = 0; e < 50; e++) {
                    const e = (t + n) / 2,
                        a = o - e * u - i,
                        l = o - e * f - i,
                        c = Math.max(0, a * a + l * l - 2 * a * l * r);
                    Math.sqrt(c) > e * (u + f) + i ? t = e : n = e
                }
                return (t + n) / 2
            }

            function g(e) {
                const t = p(e),
                    n = t * u,
                    a = t * f,
                    l = t * m,
                    c = o - n - i,
                    s = o - a - i,
                    d = Math.PI / 2 - e / 2,
                    g = Math.PI / 2 + e / 2,
                    b = {
                        x: Math.cos(d) * c,
                        y: Math.sin(d) * c
                    },
                    v = {
                        x: Math.cos(g) * s,
                        y: Math.sin(g) * s
                    },
                    y = r(b, n + l + i, v, a + l + i);
                if (!y.length) return null;
                const h = y.map(e => ({
                    p: e,
                    d: Math.hypot(e.x, e.y)
                })).sort((e, t) => e.d - t.d)[0].p;
                return Math.hypot(h.x, h.y) + l + i > o + .001 ? null : {
                    s: t,
                    rA: n,
                    rB: a,
                    rC: l,
                    cA: b,
                    cB: v,
                    cC: h,
                    phi: e
                }
            }
            let b = null;
            for (let e = 70; e <= 160; e += .5) {
                const t = g(e * Math.PI / 180);
                t && (!b || t.s > b.s) && (b = t)
            }
            if (!b) {
                const e = 120 * Math.PI / 180,
                    t = .95 * p(e),
                    n = t * u,
                    a = t * f,
                    l = t * m,
                    c = o - n - i,
                    s = o - a - i,
                    d = Math.PI / 2 - e / 2,
                    g = Math.PI / 2 + e / 2,
                    v = {
                        x: Math.cos(d) * c,
                        y: Math.sin(d) * c
                    },
                    y = {
                        x: Math.cos(g) * s,
                        y: Math.sin(g) * s
                    };
                b = {
                    s: t,
                    rA: n,
                    rB: a,
                    rC: l,
                    cA: v,
                    cB: y,
                    cC: r(v, n + l + i, y, a + l + i)[0] || {
                        x: 0,
                        y: 0
                    },
                    phi: e
                }
            }
            const v = "http://www.w3.org/2000/svg",
                y = document.createElementNS(v, "svg"),
                h = Math.ceil(2 * (o + 20));
            y.setAttribute("width", h), y.setAttribute("height", h), y.setAttribute("viewBox", [-o - 20, -o - 20, 2 * (o + 20), 2 * (o + 20)].join(" "));
            const S = document.createElementNS(v, "circle");
            S.setAttribute("cx", 0), S.setAttribute("cy", 0), S.setAttribute("r", o + 10), S.setAttribute("fill", n("--color-total"));
            const C = document.createElementNS(v, "circle");
            C.setAttribute("cx", 0), C.setAttribute("cy", 0), C.setAttribute("r", o + 5), C.setAttribute("fill", "none"), C.setAttribute("stroke", n("--outer-stroke-color")), C.setAttribute("stroke-width", "2"), y.appendChild(S), y.appendChild(C);
            const E = [],
                L = [];
            E[c] = b.rA, E[s] = b.rB, E[d] = b.rC, L[c] = b.cA, L[s] = b.cB, L[d] = b.cC;
            const w = {
                    0: n("--color-complexity"),
                    1: n("--color-effort"),
                    2: n("--color-doubt")
                },
                I = {
                    0: n("--circle-number-color-complexity"),
                    1: n("--circle-number-color-effort"),
                    2: n("--circle-number-color-doubt")
                },
                x = {
                    0: config.uiStrings.legendComplexity,
                    1: config.uiStrings.legendEffort,
                    2: config.uiStrings.legendDoubt
                },
                k = [e.complexity, e.effort, e.doubt];
            [0, 1, 2].sort((e, t) => E[t] - E[e]).forEach(e => {
                const t = document.createElementNS(v, "circle");
                t.setAttribute("cx", L[e].x), t.setAttribute("cy", L[e].y), t.setAttribute("r", E[e]), t.setAttribute("fill", w[e]), t.setAttribute("stroke", "#fff"), t.setAttribute("stroke-width", "2"), t.setAttribute("opacity", E[e] > .5 ? "0.9" : "0");
                const i = document.createElementNS(v, "title");
                i.textContent = x[e], t.appendChild(i), y.appendChild(t);
                const o = document.createElementNS(v, "text");
                o.style.fontFamily = '"Roboto Mono", ui-monospace, Menlo, monospace', o.style.fontVariantNumeric = "tabular-nums lining-nums", o.style.fontFeatureSettings = '"tnum" 1, "lnum" 1', o.setAttribute("x", 0), o.setAttribute("y", 0), o.setAttribute("fill", I[e]), o.setAttribute("font-weight", "bold"), o.style.pointerEvents = "none";
                const n = String(k[e]),
                    r = Math.max(12, E[e] / 2.5),
                    a = {
                        1: 1,
                        2: 1.25,
                        3: 1.35,
                        4: 1.45,
                        5: 1.55,
                        6: 1.65,
                        7: 1.75,
                        8: 1.85
                    } [n.length] || 1;
                o.setAttribute("font-size", r * a + "px"), o.textContent = n, o.setAttribute("opacity", E[e] > .5 ? "1" : "0"), y.appendChild(o);
                const l = L[e].x,
                    c = L[e].y,
                    s = () => {
                        const e = o.getBBox();
                        o.setAttribute("text-anchor", "start"), o.removeAttribute("dominant-baseline"), o.setAttribute("x", l - (e.x + e.width / 2)), o.setAttribute("y", c - (e.y + e.height / 2))
                    };
                document.fonts && document.fonts.ready ? document.fonts.ready.then(() => requestAnimationFrame(s)) : requestAnimationFrame(s)
            }), t.dataset.size = o, t.prepend(y), window._equalizeGridRows && requestAnimationFrame(function() {
                window._equalizeGridRows()
            })
        }

        function createCodVisualization(e, t) {
            const i = __bc_readPaddingPx();
            let o = 15 * e.cod / 2;

            function n(e) {
                return getComputedStyle(document.documentElement).getPropertyValue(e).trim()
            }

            function r(e, t, i, o) {
                const n = i.x - e.x,
                    r = i.y - e.y,
                    a = Math.hypot(n, r),
                    l = 1e-6;
                if (a < l || a > t + o + l || a < Math.abs(t - o) - l) return [];
                const c = (t * t - o * o + a * a) / (2 * a),
                    s = Math.max(0, t * t - c * c),
                    d = Math.sqrt(s),
                    u = e.x + c * n / a,
                    f = e.y + c * r / a,
                    m = -r / a,
                    p = n / a;
                return [{
                    x: u + d * m,
                    y: f + d * p
                }, {
                    x: u - d * m,
                    y: f - d * p
                }]
            }
            const a = [e.cod_bv, e.cod_tc, e.cod_rroe].map(e => Math.max(0, Number(e) || 0)).map(e => Math.sqrt(e)),
                l = __bc_selectEdgePair(window.BUBBLE_CLUSTER_OPTS.edgePair || "largest", a),
                c = l[0],
                s = l[1],
                d = [0, 1, 2].find(e => e !== c && e !== s),
                u = a[c],
                f = a[s],
                m = a[d];

            function p(e) {
                let t = 0,
                    n = (o - i) / Math.min(u, f) - 1e-6;
                const r = Math.cos(e);
                for (let e = 0; e < 50; e++) {
                    const e = (t + n) / 2,
                        a = o - e * u - i,
                        l = o - e * f - i,
                        c = Math.max(0, a * a + l * l - 2 * a * l * r);
                    Math.sqrt(c) > e * (u + f) + i ? t = e : n = e
                }
                return (t + n) / 2
            }

            function g(e) {
                const t = p(e),
                    n = t * u,
                    a = t * f,
                    l = t * m,
                    c = o - n - i,
                    s = o - a - i,
                    d = Math.PI / 2 - e / 2,
                    g = Math.PI / 2 + e / 2,
                    b = {
                        x: Math.cos(d) * c,
                        y: Math.sin(d) * c
                    },
                    v = {
                        x: Math.cos(g) * s,
                        y: Math.sin(g) * s
                    },
                    y = r(b, n + l + i, v, a + l + i);
                if (!y.length) return null;
                const h = y.map(e => ({
                    p: e,
                    d: Math.hypot(e.x, e.y)
                })).sort((e, t) => e.d - t.d)[0].p;
                return Math.hypot(h.x, h.y) + l + i > o + .001 ? null : {
                    s: t,
                    rA: n,
                    rB: a,
                    rC: l,
                    cA: b,
                    cB: v,
                    cC: h,
                    phi: e
                }
            }
            let b = null;
            for (let e = 70; e <= 160; e += .5) {
                const t = g(e * Math.PI / 180);
                t && (!b || t.s > b.s) && (b = t)
            }
            if (!b) {
                const e = 120 * Math.PI / 180,
                    t = .95 * p(e),
                    n = t * u,
                    a = t * f,
                    l = t * m,
                    c = o - n - i,
                    s = o - a - i,
                    d = Math.PI / 2 - e / 2,
                    g = Math.PI / 2 + e / 2,
                    v = {
                        x: Math.cos(d) * c,
                        y: Math.sin(d) * c
                    },
                    y = {
                        x: Math.cos(g) * s,
                        y: Math.sin(g) * s
                    };
                b = {
                    s: t,
                    rA: n,
                    rB: a,
                    rC: l,
                    cA: v,
                    cB: y,
                    cC: r(v, n + l + i, y, a + l + i)[0] || {
                        x: 0,
                        y: 0
                    },
                    phi: e
                }
            }
            const v = "http://www.w3.org/2000/svg",
                y = document.createElementNS(v, "svg"),
                h = Math.ceil(2 * (o + 20));
            y.setAttribute("width", h), y.setAttribute("height", h), y.setAttribute("viewBox", [-o - 20, -o - 20, 2 * (o + 20), 2 * (o + 20)].join(" "));
            const S = document.createElementNS(v, "circle");
            S.setAttribute("cx", 0), S.setAttribute("cy", 0), S.setAttribute("r", o + 10), S.setAttribute("fill", n("--color-total")), y.appendChild(S);
            const C = document.createElementNS(v, "circle");
            C.setAttribute("cx", 0), C.setAttribute("cy", 0), C.setAttribute("r", o + 5), C.setAttribute("fill", "none"), C.setAttribute("stroke", n("--outer-stroke-color")), C.setAttribute("stroke-width", "2"), y.appendChild(C);
            const E = [],
                L = [];
            E[c] = b.rA, E[s] = b.rB, E[d] = b.rC, L[c] = b.cA, L[s] = b.cB, L[d] = b.cC;
            const w = {
                    0: n("--color-bv"),
                    1: n("--color-tc"),
                    2: n("--color-rroe")
                },
                I = {
                    0: n("--circle-number-color-bv"),
                    1: n("--circle-number-color-tc"),
                    2: n("--circle-number-color-rroe")
                },
                x = {
                    0: config.uiStrings.modalLabelCodBv,
                    1: config.uiStrings.modalLabelCodTc,
                    2: config.uiStrings.modalLabelCodRroe
                },
                k = [e.cod_bv, e.cod_tc, e.cod_rroe];
            [0, 1, 2].sort((e, t) => E[t] - E[e]).forEach(e => {
                const t = document.createElementNS(v, "circle");
                t.setAttribute("cx", L[e].x), t.setAttribute("cy", L[e].y), t.setAttribute("r", E[e]), t.setAttribute("fill", w[e]), t.setAttribute("stroke", "#fff"), t.setAttribute("stroke-width", "2"), t.setAttribute("opacity", E[e] > .5 ? "0.9" : "0");
                const i = document.createElementNS(v, "title");
                i.textContent = x[e], t.appendChild(i), y.appendChild(t);
                const o = document.createElementNS(v, "text");
                o.style.fontFamily = '"Roboto Mono", ui-monospace, Menlo, monospace', o.style.fontVariantNumeric = "tabular-nums lining-nums", o.style.fontFeatureSettings = '"tnum" 1, "lnum" 1', o.setAttribute("x", 0), o.setAttribute("y", 0), o.setAttribute("fill", I[e]), o.setAttribute("font-weight", "bold"), o.style.pointerEvents = "none";
                const n = String(k[e]),
                    r = Math.max(12, E[e] / 2.5),
                    a = {
                        1: 1,
                        2: 1.25,
                        3: 1.35,
                        4: 1.45,
                        5: 1.55,
                        6: 1.65,
                        7: 1.75,
                        8: 1.85
                    } [n.length] || 1;
                o.setAttribute("font-size", r * a + "px"), o.textContent = n, o.setAttribute("opacity", E[e] > .5 ? "1" : "0"), y.appendChild(o);
                const l = L[e].x,
                    c = L[e].y,
                    s = () => {
                        const e = o.getBBox();
                        o.setAttribute("text-anchor", "start"), o.removeAttribute("dominant-baseline"), o.setAttribute("x", l - (e.x + e.width / 2)), o.setAttribute("y", c - (e.y + e.height / 2))
                    };
                document.fonts && document.fonts.ready ? document.fonts.ready.then(() => requestAnimationFrame(s)) : requestAnimationFrame(s)
            }), t.dataset.size = o, t.prepend(y), window._equalizeGridRows && requestAnimationFrame(function() {
                window._equalizeGridRows()
            })
        }

        function createCodChart(e, t, i) {
            var o = document.getElementById(e + "-area"),
                n = document.getElementById(e + "-xaxis"),
                r = document.getElementById(e + "-y-axis-max"),
                a = document.querySelector("#" + e + "-content .wsjf-y-axis-zero"),
                l = document.getElementById(e + "-content"),
                c = config.uiStrings || {};
            if (!(o && n && r && a && l)) return console.error("Missing essential DOM elements for chart: " + e), 0;
            document.querySelectorAll("#" + e + "-content .wsjf-y-axis-intermediate").forEach(function(e) {
                e.remove()
            }), r.parentElement !== o && o.appendChild(r), a.parentElement !== o && o.appendChild(a), o.innerHTML = "", n.innerHTML = "";
            var s = 0,
                d = 0,
                u = {};
            if (t.forEach(function(e) {
                    s += e.jobSize, d += e.cod, u[e.id] = 0
                }), s <= 0 || d <= 0) {
                o.innerHTML = '<p style="text-align:center; color:#999;">' + (c.wsjfChartNoData || "No valid data to display.") + "</p>", r.textContent = "0", a.textContent = "0";
                var f = document.createElement("div");
                return f.className = "wsjf-time-label wsjf-time-label-start", f.style.left = "0%", f.textContent = "0", f.title = (c.wsjfChartTooltipXAxisLabel || "Cumulative Job Size: {value}").replace("{value}", "0"), n.appendChild(f), o.appendChild(r), o.appendChild(a), 0
            }
            r.textContent = d.toLocaleString(), r.title = (c.wsjfChartTooltipYAxisLabel || "Sum of Waiting Cost of Delay: {value}").replace("{value}", d.toLocaleString()), a.textContent = "0", a.title = (c.wsjfChartTooltipYAxisLabel || "Sum of Waiting Cost of Delay: {value}").replace("{value}", "0"), o.appendChild(r), o.appendChild(a);
            var m = 0,
                p = 0,
                g = t.slice(),
                b = document.createElement("div");
            b.className = "wsjf-time-label wsjf-time-label-start", b.style.left = "0%", b.textContent = "0", b.title = (c.wsjfChartTooltipXAxisLabel || "Cumulative Job Size: {value}").replace("{value}", "0"), n.appendChild(b);
            var v = 0;
            if (t.forEach(function(e) {
                    v += e.cod
                }), Math.abs(v - d) > .01) {
                var y = document.createElement("div");
                y.className = "wsjf-y-axis-label wsjf-y-axis-intermediate";
                var h = v / d * 100;
                y.style.bottom = h + "%", y.style.transform = "translateY(50%)", y.textContent = v.toLocaleString(), y.title = (c.wsjfChartTooltipYAxisLabel || "Sum of Waiting Cost of Delay: {value}").replace("{value}", v.toLocaleString()), o.appendChild(y)
            }
            return t.forEach(function(e) {
                if (!(e.jobSize <= 0)) {
                    var t = e.jobSize;
                    g.forEach(function(e) {
                        e.cod
                    }), g = g.filter(function(t) {
                        return t.id !== e.id
                    });
                    var r = 0;
                    g.forEach(function(e) {
                        r += e.cod
                    }), m += r * t;
                    var a = t / s * 100,
                        l = document.createElement("div");
                    l.className = "wsjf-segment-container", l.style.width = a + "%", g.forEach(function(e) {
                        var i = e.cod * t;
                        u[e.id] += i
                    });
                    var f = g.slice().reverse();
                    f.push(e), f.forEach(function(t, o) {
                        var n = t.id === e.id,
                            r = t.cod / d * 100;
                        if (r > 0) {
                            var a = document.createElement("div");
                            a.className = "wsjf-delay-block " + (n ? "processing" : "waiting"), a.style.height = r + "%", a.dataset.pbiId = t.id;
                            var s = i[t.id] || {
                                rank: "?",
                                color: "#ccc"
                            };
                            n && (a.style.backgroundColor = s.color);
                            var f = document.createElement("span");
                            f.className = "wsjf-delay-block-label", f.textContent = n ? s.rank : u[t.id].toLocaleString();
                            var m = (t.cod / (t.jobSize || 1)).toFixed(2).replace(".", ","),
                                p = '"' + t.title + '"',
                                g = n ? c.wsjfChartTooltipProcessing || "Processing" : c.wsjfChartTooltipWaiting || "Waiting",
                                b = (c.wsjfChartTooltipItem || "Item") + ": " + s.rank + " - " + (c.wsjfChartTooltipJobSize || "Job Size") + ": " + t.jobSize + " - " + (c.wsjfChartTooltipCod || "CoD") + ": " + t.cod + " - WSJF: " + m;
                            if (n) a.title = p + "\n" + g + "\n" + b, f.title = a.title;
                            else {
                                var v = (c.wsjfChartLabelAccumulatedCost || "Accumulated Delay Cost:") + " " + u[t.id].toLocaleString();
                                a.title = p + "\n" + g + "\n" + b + "\n" + v, f.title = a.title
                            }
                            a.appendChild(f), l.appendChild(a)
                        }
                    }), o.appendChild(l), p += t;
                    var b = document.createElement("div");
                    b.className = "wsjf-time-label";
                    var v = p / s * 100;
                    b.style.left = v + "%", b.textContent = p, b.title = (c.wsjfChartTooltipXAxisLabel || "Cumulative Job Size: {value}").replace("{value}", p), n.appendChild(b);
                    var y = document.createElement("div");
                    y.className = "wsjf-y-axis-label wsjf-y-axis-intermediate";
                    var h = r / d * 100;
                    y.style.bottom = h + "%", y.style.transform = "translateY(50%)", y.textContent = r.toLocaleString(), y.title = (c.wsjfChartTooltipYAxisLabel || "Sum of Waiting Cost of Delay: {value}").replace("{value}", r.toLocaleString()), o.appendChild(y), Math.abs(p - s) < .01 && (b.classList.add("wsjf-time-label-end"), h < 2 && (y.style.display = "none"))
                }
            }), m
        }

        function updateResetJobSizeButtonVisibility() {
            const e = document.querySelector("#reset-job-size-btn");
            if (!e || !e.parentElement) return;
            const t = e.parentElement,
                i = [document.getElementById("pbi-complexity"), document.getElementById("pbi-effort"), document.getElementById("pbi-doubt")].some(function(e) {
                    return e && parseInt(e.value, 10) > 0
                });
            e.disabled = !i, e.style.display = "", t.classList.remove("hidden");
            const o = document.querySelector("#edit-modal .modal-footer"),
                n = document.getElementById("tab-content-jobsize");
            o && n && !n.classList.contains("hidden") && o.classList.add("no-margin")
        }

        function scrollContainerToItem(e, t) {
            if (!e || !t) return;
            const i = e.clientHeight,
                o = t.offsetTop - e.offsetTop - i / 2 + t.offsetHeight / 2;
            e.scrollTo({
                top: o,
                behavior: "smooth"
            })
        }

        function highlightAndScrollToLastEditedPbi() {
            if (null === lastEditedPbiId) return;
            const e = lastEditedPbiId;
            lastEditedPbiId = null, setTimeout(function() {
                document.querySelectorAll(".pbi-item.highlighted, .story-visualization.highlighted, .rs-item.highlighted").forEach(function(e) {
                    var t = e.dataset.id;
                    t && "function" == typeof toggleHighlight ? toggleHighlight(t, !1) : e.classList.remove("highlighted")
                }), document.querySelectorAll(".pbi-item-tshirt.highlighted, .story-title-tshirt.highlighted").forEach(function(e) {
                    e.classList.remove("highlighted"), e.style.backgroundColor = "", e.style.borderColor = "", e.style.color = ""
                });
                const t = document.querySelector('.pbi-item[data-id="' + e + '"]'),
                    i = document.querySelector('.rs-item[data-id="' + e + '"]'),
                    o = document.querySelector('#visualization-container .story-visualization[data-id="' + e + '"]'),
                    n = document.querySelector('#cod-visualization-container .story-visualization[data-id="' + e + '"]'),
                    r = document.getElementById("pbi-list"),
                    a = document.getElementById("visualization-container"),
                    l = document.getElementById("cod-visualization-container");
                isFilterLocked || (t && r && scrollContainerToItem(r, t), o && a && scrollContainerToItem(a, o), n && l && scrollContainerToItem(l, n)), t && t.classList.add("is-just-edited"), i && i.classList.add("is-just-edited"), o && o.classList.add("is-just-edited"), n && n.classList.add("is-just-edited"), setTimeout(function() {
                    t && t.classList.remove("is-just-edited"), i && i.classList.remove("is-just-edited"), o && o.classList.remove("is-just-edited"), n && n.classList.remove("is-just-edited")
                }, 2500)
            }, 0)
        }

        function calculateWSJF(e, t) {
            return e && t && 0 !== t ? e / t : 0
        }

        function showUpdateNotification(e, t) {
            var i = document.getElementById("update-notification-container");
            if (i && !i.querySelector(".update-notification")) {
                var o = document.createElement("div");
                o.className = "update-notification";
                var n = document.createElement("p");
                n.textContent = config.uiStrings.updateChecker && config.uiStrings.updateChecker.updateNotification || "This version of the application is obsolete!";
                var r = document.createElement("a");
                r.className = "btn btn-primary", r.href = t || config.updateChecker && config.updateChecker.downloadUrl || "#", r.target = "_blank", r.rel = "noopener";
                var a = config.uiStrings.updateChecker && config.uiStrings.updateChecker.updateButtonText || "Download latest version {version}";
                r.textContent = a.replace("{version}", e || "");
                var l = document.createElement("button");
                l.className = "close-btn", l.title = config.uiStrings.btnClose || "Schlieen", l.textContent = "";
                var c = document.createElement("div");
                c.className = "notification-center", c.appendChild(n), c.appendChild(r), o.appendChild(c), o.appendChild(l), i.appendChild(o), requestAnimationFrame(function() {
                    var e = o.offsetHeight || 0;
                    document.documentElement.style.setProperty("--update-bar-height", e + "px")
                }), l.addEventListener("click", function() {
                    if (o.remove(), document.documentElement.style.setProperty("--update-bar-height", "0px"), e && "undefined" != typeof window && window.localStorage) try {
                        window.localStorage.setItem("sizeRight_dismissedUpdateVersion", e)
                    } catch (e) {
                        console.warn("Could not save dismissed update version:", e)
                    }
                })
            }
        }

        function compareSemver(e, t) {
            const i = String(e).split(".").map(e => parseInt(e, 10) || 0),
                o = String(t).split(".").map(e => parseInt(e, 10) || 0);
            for (let e = 0; e < Math.max(i.length, o.length); e++) {
                const t = i[e] || 0,
                    n = o[e] || 0;
                if (t !== n) return t - n
            }
            return 0
        }

        function checkForUpdates() {
            try {
                var e = document.querySelector('meta[name="version"]'),
                    t = e ? e.getAttribute("content") : null,
                    i = document.getElementById("info-version-value"),
                    o = !0;
                if (config && config.updateChecker && "boolean" == typeof config.updateChecker.enabled && (o = config.updateChecker.enabled), !o) return void(i && t && (i.textContent = t, i.style.color = ""));
                if (i && t && (i.textContent = t), !config || !config.updateChecker || !config.updateChecker.versionUrl) return;
                return fetch(config.updateChecker.versionUrl, {
                    cache: "no-store"
                }).then(function(e) {
                    return e.json()
                }).then(function(e) {
                    var o = e && (e.version || e.latest) || null;
                    if (o && t)
                        if (compareSemver(o, t) > 0) {
                            var n = null;
                            if ("undefined" != typeof window && window.localStorage && (n = window.localStorage.getItem("sizeRight_dismissedUpdateVersion")), i) {
                                i.textContent = "";
                                var r = document.createElement("span");
                                r.style.color = "#c0392b", r.textContent = t + " ";
                                var a = document.createTextNode((config.uiStrings.infoVersionOutdated || "is outdated, current is:") + " "),
                                    l = document.createElement("span");
                                l.style.color = "#27ae60", l.textContent = o, i.appendChild(r), i.appendChild(a), i.appendChild(l)
                            }(!n || compareSemver(o, n) > 0) && showUpdateNotification(o, e && e.downloadUrl)
                        } else if (i) {
                        i.textContent = "";
                        var c = document.createElement("span");
                        c.style.color = "#27ae60", c.textContent = t + " ";
                        var s = document.createTextNode(config.uiStrings.infoVersionCurrent || "is up-to-date");
                        i.appendChild(c), i.appendChild(s)
                    }
                }).catch(function(e) {
                    console.warn("checkForUpdates failed:", e)
                })
            } catch (e) {
                console.warn("checkForUpdates error:", e)
            }
        }

        function findNearestScaleValue(e, t) {
            return "number" != typeof t[0] ? t[Math.round(e)] : t.reduce(function(t, i) {
                return Math.abs(i - e) < Math.abs(t - e) ? i : t
            })
        }

        function updateSliderValues() {
            var e = null === currentEditingId,
                t = {
                    "complexity-value": "pbi-complexity",
                    "effort-value": "pbi-effort",
                    "doubt-value": "pbi-doubt",
                    "cod-bv-value": "pbi-cod-bv",
                    "cod-tc-value": "pbi-cod-tc",
                    "cod-rroe-value": "pbi-cod-rroe"
                };
            for (var i in t) {
                var o = t[i],
                    n = document.getElementById(i),
                    r = document.getElementById(o);
                if (n && r) {
                    var a = r.value;
                    n.textContent = a;
                    var l = "true" === r.dataset.interacted;
                    e && !l ? n.classList.add("initial-state") : n.classList.remove("initial-state")
                }
            }
        }

        function updateSliderFill(e) {
            if (!e) return;
            const t = Number(e.min || 0),
                i = Number(e.max || 100),
                o = (Number(e.value || 0) - t) / (i - t) * 100;
            e.style.setProperty("--pct", o + "%")
        }

        function updateAllSliderFills() {
            updateSliderFill(document.getElementById("pbi-complexity")), updateSliderFill(document.getElementById("pbi-effort")), updateSliderFill(document.getElementById("pbi-doubt")), updateSliderFill(document.getElementById("pbi-cod-bv")), updateSliderFill(document.getElementById("pbi-cod-tc")), updateSliderFill(document.getElementById("pbi-cod-rroe"))
        }

        function syncSliderMax() {
            if (SCALES && SCALES[currentScale] && SCALES[currentScale].values) {
                var e = SCALES[currentScale].values,
                    t = "number" == typeof e[0] ? Math.max.apply(null, e) : e.length - 1;
                ["pbi-complexity", "pbi-effort", "pbi-doubt", "pbi-cod-bv", "pbi-cod-tc", "pbi-cod-rroe"].forEach(function(e) {
                    var i = document.getElementById(e);
                    i && (i.max = String(t), parseInt(i.value, 10) > t && (i.value = String(t)))
                })
            }
        }

        function initSplit() {
            const e = document.getElementById("split-root"),
                t = e.querySelector(".pane-left"),
                i = document.getElementById("split-divider");
            let o = !1,
                n = 0,
                r = 0;
            const a = i => {
                    if (!o) return;
                    const a = i.clientX - n,
                        l = e.getBoundingClientRect().width,
                        c = Math.min(Math.max((r + a) / l * 100, 15), 85);
                    t.style.flexBasis = c + "%", syncRowHeights()
                },
                l = () => {
                    o = !1, document.body.style.cursor = "";
                    const e = document.getElementById("split-drag-overlay");
                    e && e.remove(), window.removeEventListener("mousemove", a), window.removeEventListener("mouseup", l), window._equalizeGridRows && window._equalizeGridRows()
                };
            i.addEventListener("mousedown", e => {
                if (0 !== e.button) return;
                e.preventDefault(), o = !0, n = e.clientX, r = t.getBoundingClientRect().width, document.body.style.cursor = "col-resize";
                const i = document.createElement("div");
                i.id = "split-drag-overlay", i.style.position = "fixed", i.style.top = "0", i.style.left = "0", i.style.width = "100%", i.style.height = "100%", i.style.zIndex = "9999", i.style.cursor = "col-resize", document.body.appendChild(i), window.addEventListener("mousemove", a), window.addEventListener("mouseup", l)
            })
        }

        function generateSliderScales() {
            if (SCALES && SCALES[currentScale] && SCALES[currentScale].values) {
                var e = SCALES[currentScale].values,
                    t = "number" == typeof e[0],
                    i = t ? Math.max.apply(null, e) : e.length - 1,
                    o = "function" == typeof getReferencePbi ? getReferencePbi(pbis, "min") : null,
                    n = "function" == typeof getReferencePbi ? getReferencePbi(pbis, "max") : null,
                    r = {
                        "pbi-complexity": "complexity",
                        "pbi-effort": "effort",
                        "pbi-doubt": "doubt",
                        "pbi-cod-bv": "cod_bv",
                        "pbi-cod-tc": "cod_tc",
                        "pbi-cod-rroe": "cod_rroe"
                    };
                document.querySelectorAll(".slider-scale").forEach(function(a) {
                    a.innerHTML = "";
                    for (var l = a.dataset.sliderId, c = r[l], s = 0; s <= i; s++) {
                        var d = document.createElement("span"),
                            u = !t || -1 !== e.indexOf(s),
                            f = t ? s : e[s];
                        u ? (d.textContent = f, c && "undefined" != typeof window && window.showReferenceMarkers && (o && o[c] === f && (d.classList.add("ref-marker-min"), d.title = "Reference Min: " + (o.title || "Item")), n && n[c] === f && (d.classList.add("ref-marker-max"), d.title = "Reference Max: " + (n.title || "Item"))), d.addEventListener("click", function(e) {
                            return function() {
                                var t = document.getElementById(l);
                                t && (t.value = e, t.dispatchEvent(new Event("input")))
                            }
                        }(s))) : (d.innerHTML = "&nbsp;", d.classList.add("empty-scale-step")), a.appendChild(d)
                    }
                })
            }
        }

        function updateRefMarkerButtonState() {
            var e = document.getElementById("toggle-ref-markers-btn"),
                t = document.getElementById("toggle-ref-markers-cod-btn"),
                i = "function" == typeof getReferencePbi ? getReferencePbi(pbis, "min") : null,
                o = "function" == typeof getReferencePbi ? getReferencePbi(pbis, "max") : null,
                n = null !== i || null !== o,
                r = "";
            config && config.uiStrings && "undefined" != typeof window && (r = window.showReferenceMarkers ? config.uiStrings.btnHideRefMarkers : config.uiStrings.btnShowRefMarkers), e && (n ? (e.style.display = "inline-block", r && (e.textContent = r)) : e.style.display = "none"), t && (n ? (t.style.display = "inline-block", r && (t.textContent = r)) : t.style.display = "none"), updateResetJobSizeButtonVisibility(), updateResetCoDButtonVisibility()
        }

        function updateResetCoDButtonVisibility() {
            const e = document.querySelector("#reset-cod-btn");
            if (!e || !e.parentElement) return;
            const t = e.parentElement,
                i = [document.getElementById("pbi-cod-bv"), document.getElementById("pbi-cod-tc"), document.getElementById("pbi-cod-rroe")].some(function(e) {
                    return e && parseInt(e.value, 10) > 0
                });
            e.disabled = !i, e.style.display = "", t.classList.remove("hidden");
            const o = document.querySelector("#edit-modal .modal-footer"),
                n = document.getElementById("tab-content-cod");
            o && n && !n.classList.contains("hidden") && o.classList.add("no-margin")
        }

        function updateActiveScaleValue(e) {
            if (e) {
                var t = document.querySelector('.slider-scale[data-slider-id="' + e.id + '"]');
                if (t) {
                    var i = e.value;
                    t.querySelectorAll("span").forEach(function(e) {
                        var t = i > 0 && e.textContent == i;
                        e.classList.toggle("active-scale-value", t)
                    })
                }
            }
        }

        function openDocumentation() {
            var e = config.languages[currentLanguage].documentationHtml;
            if (!e) return console.error('Documentation HTML for language "' + currentLanguage + '" not found in config.'), void alert("Documentation could not be opened.");
            var t = "<!DOCTYPE html>",
                i = e.split(t),
                o = i[0],
                n = i.length > 1 ? t + i[1] : '<html><head><title>Documentation</title></head><body><div id="wrapper"></div></body></html>',
                r = document.createElement("div");
            r.innerHTML = o;
            var a = '<div class="doc-header"><h1>' + config.uiStrings.mainHeader + "</h1><p>" + config.uiStrings.mainClaim + "</p></div>",
                l = r.querySelectorAll("h1, h2"),
                c = "";
            if (l.length > 0) {
                c = '<div class="toc"><h2>' + (config.uiStrings.tocTitle || "Table of Contents") + "</h2><ul>";
                for (var s = 0; s < l.length;) {
                    var d = l[s],
                        u = d.textContent,
                        f = "toc-heading-" + s;
                    if (d.id = f, "H1" === d.tagName) {
                        if (c += '<li><a href="#' + f + '"><strong>' + u + "</strong></a>", s + 1 < l.length && "H2" === l[s + 1].tagName) {
                            for (c += "<ul>", s++; s < l.length && "H2" === l[s].tagName;) {
                                var m = l[s],
                                    p = m.textContent,
                                    g = "toc-heading-" + s;
                                m.id = g, c += '<li><a href="#' + g + '">' + p + "</a></li>", s++
                            }
                            c += "</ul>"
                        } else s++;
                        c += "</li>"
                    } else c += '<li><a href="#' + f + '">' + u + "</a></li>", s++
                }
                c += "</ul></div>"
            }
            var b = a + c + r.innerHTML,
                v = n.replace('<div id="wrapper"></div>', '<div id="wrapper">' + b + "</div>"),
                y = window.open("", "_blank");
            y ? (y.document.write(v), y.document.close()) : alert("Could not open documentation window. Please check your popup blocker settings.")
        }

        function saveToLocalStorage() {
            if ("undefined" != typeof window && window.localStorage) try {
                var e = !0;
                "boolean" == typeof window.showReferenceMarkers && (e = window.showReferenceMarkers);
                var t = {
                        language: currentLanguage,
                        scale: currentScale,
                        tshirtSizes: config.tshirtSizes,
                        colors: config.colors,
                        editorColors: config.editorColors || config.defaultEditorColors,
                        sortCriteria: currentSortCriteria,
                        sortDirection: currentSortDirection,
                        preLockSortCriteria: preLockSortCriteria,
                        preLockSortDirection: preLockSortDirection,
                        showReferenceMarkers: e,
                        isResolutionWarningDismissed: window.isResolutionWarningDismissed
                    },
                    i = pbis.filter(function(e) {
                        return e && !e.isLastItem
                    }).map(function(e) {
                        var t = JSON.parse(JSON.stringify(e));
                        void 0 !== pbiIdToCustomColor && pbiIdToCustomColor[t.id] && (t.wsjfRankColor = pbiIdToCustomColor[t.id]);
                        var i = lockedPbiOrder.indexOf(t.id);
                        return -1 !== i && (t.customSortIndex = i), t
                    }),
                    o = {
                        timestamp: Date.now(),
                        settings: t,
                        backlogItems: i
                    };
                window.localStorage.setItem("sizeRight_autosave_v1", JSON.stringify(o))
            } catch (e) {
                console.warn("Failed to save to localStorage:", e)
            }
        }

        function loadFromLocalStorage() {
            if ("undefined" == typeof window || !window.localStorage) return !1;
            try {
                var e = window.localStorage.getItem("sizeRight_autosave_v1");
                if (!e) return !1;
                var t = JSON.parse(e),
                    i = t.settings,
                    o = t.backlogItems;
                if (!Array.isArray(o)) return !1;
                void 0 !== pbiIdToCustomColor && (pbiIdToCustomColor = {}), void 0 !== lockedPbiOrder && (lockedPbiOrder = []), void 0 !== initialCustomOrderSet && (initialCustomOrderSet = !1);
                var n = [],
                    r = [];
                return o.forEach(function(e) {
                    e && (!0 !== e.isReference || e.referenceType || (e.referenceType = "min"), e.isReference = "min" === e.referenceType || "max" === e.referenceType, e.wsjfRankColor && void 0 !== pbiIdToCustomColor && (pbiIdToCustomColor[e.id] = e.wsjfRankColor), "number" == typeof e.customSortIndex && e.customSortIndex >= 0 ? (n.push(e), initialCustomOrderSet = !0) : r.push(e))
                }), initialCustomOrderSet && void 0 !== lockedPbiOrder && (n.sort(function(e, t) {
                    return e.customSortIndex - t.customSortIndex
                }), lockedPbiOrder = n.map(function(e) {
                    return e.id
                }), r.forEach(function(e) {
                    lockedPbiOrder.push(e.id)
                })), i && (currentLanguage = i.language || config.defaultSettings.language, currentScale = i.scale || config.defaultSettings.scale, config.tshirtSizes = Array.isArray(i.tshirtSizes) ? i.tshirtSizes : config.defaultSettings.tshirtSizes, i.colors && (config.colors = i.colors), i.editorColors && (config.editorColors = i.editorColors), "undefined" != typeof window && ("boolean" == typeof i.showReferenceMarkers ? window.showReferenceMarkers = i.showReferenceMarkers : window.showReferenceMarkers = !0), "boolean" == typeof i.isResolutionWarningDismissed && (window.isResolutionWarningDismissed = i.isResolutionWarningDismissed), i.colors ? config.colors = Object.assign({}, config.defaultColors, i.colors) : config.defaultColors && (config.colors = JSON.parse(JSON.stringify(config.defaultColors))), i.editorColors ? config.editorColors = Object.assign({}, config.defaultEditorColors, i.editorColors) : config.defaultEditorColors && (config.editorColors = JSON.parse(JSON.stringify(config.defaultEditorColors))), config.languages && config.languages[currentLanguage] && (config.uiStrings = config.languages[currentLanguage]), currentSortCriteria = i.sortCriteria || "creationOrder", currentSortDirection = i.sortDirection || "asc", isFilterLocked = "lock" === currentSortCriteria, preLockSortCriteria = i.preLockSortCriteria || (isFilterLocked ? "creationOrder" : currentSortCriteria), preLockSortDirection = i.preLockSortDirection || (isFilterLocked ? "asc" : currentSortDirection)), pbis = o, !0
            } catch (e) {
                return console.error("Error loading from localStorage:", e), !1
            }
        }
        async function exportPbisAsJson() {
            var e = !0;
            "undefined" != typeof window && "boolean" == typeof window.showReferenceMarkers && (e = window.showReferenceMarkers);
            var t, i = {
                    settings: {
                        language: currentLanguage,
                        scale: currentScale,
                        tshirtSizes: config.tshirtSizes,
                        colors: config.colors,
                        editorColors: config.editorColors || config.defaultEditorColors,
                        sortCriteria: currentSortCriteria,
                        sortDirection: currentSortDirection,
                        preLockSortCriteria: preLockSortCriteria,
                        preLockSortDirection: preLockSortDirection,
                        showReferenceMarkers: e,
                        isResolutionWarningDismissed: window.isResolutionWarningDismissed
                    },
                    backlogItems: pbis.filter(function(e) {
                        return e && !e.isLastItem
                    }).map(function(e) {
                        var t = JSON.parse(JSON.stringify(e));
                        void 0 !== pbiIdToCustomColor && pbiIdToCustomColor[t.id] ? t.wsjfRankColor = pbiIdToCustomColor[t.id] : delete t.wsjfRankColor;
                        var i = lockedPbiOrder.indexOf(t.id);
                        return -1 !== i ? t.customSortIndex = i : delete t.customSortIndex, t
                    })
                },
                o = JSON.stringify(i, null, 2),
                n = new Blob([o], {
                    type: "application/json"
                });
            if (lastImportedFileName) t = lastImportedFileName.endsWith(".json") ? lastImportedFileName : lastImportedFileName + ".json";
            else {
                var r = new Date,
                    a = function(e) {
                        return e.toString().padStart(2, "0")
                    };
                t = r.getFullYear() + "-" + a(r.getMonth() + 1) + "-" + a(r.getDate()) + "_" + a(r.getHours()) + "-" + a(r.getMinutes()) + " - Backlog & Settings.json"
            }
            var l = function() {
                var e = URL.createObjectURL(n),
                    i = document.createElement("a");
                i.href = e, i.download = t, document.body.appendChild(i), i.click(), document.body.removeChild(i), URL.revokeObjectURL(e)
            };
            if (window.showSaveFilePicker) try {
                var c = await window.showSaveFilePicker({
                        suggestedName: t,
                        types: [{
                            description: "JSON Files",
                            accept: {
                                "application/json": [".json"]
                            }
                        }]
                    }),
                    s = await c.createWritable();
                await s.write(n), await s.close()
            } catch (e) {
                "AbortError" !== e.name ? (console.error("showSaveFilePicker failed, falling back to traditional download.", e), l()) : console.log("User cancelled the save file dialog.")
            } else console.warn("File System Access API not supported, falling back to traditional download."), l()
        }

        function applyImportedData(e, t) {
            try {
                var i, o = null;
                if (e.hasOwnProperty("settings") && e.hasOwnProperty("backlogItems")) {
                    if (o = e.settings, i = e.backlogItems, !Array.isArray(i)) throw new Error("Invalid backlogItems format in new structure")
                } else {
                    if (!Array.isArray(e)) throw new Error("Unrecognized file format");
                    i = e, o = null, console.warn("Importing old format (array of PBIs). Settings will be reset to defaults.")
                }
                if (i.length > 0 && (!i[0] || !i[0].hasOwnProperty("title"))) throw new Error("Invalid backlog item structure in data");
                var n = function() {
                    void 0 !== pbiIdToCustomColor && (pbiIdToCustomColor = {}), void 0 !== lockedPbiOrder && (lockedPbiOrder = []), void 0 !== initialCustomOrderSet && (initialCustomOrderSet = !1);
                    var e = [],
                        t = [];
                    i.forEach(function(i) {
                        i && (!0 !== i.isReference || i.referenceType || (i.referenceType = "min"), i.isReference = "min" === i.referenceType || "max" === i.referenceType, i.wsjfRankColor && "string" == typeof i.wsjfRankColor && void 0 !== pbiIdToCustomColor && (pbiIdToCustomColor[i.id] = i.wsjfRankColor), "number" == typeof i.customSortIndex && i.customSortIndex >= 0 ? (e.push(i), initialCustomOrderSet = !0) : t.push(i))
                    }), initialCustomOrderSet && void 0 !== lockedPbiOrder && (e.sort(function(e, t) {
                        return e.customSortIndex - t.customSortIndex
                    }), lockedPbiOrder = e.map(function(e) {
                        return e.id
                    }), t.forEach(function(e) {
                        lockedPbiOrder.push(e.id)
                    })), o ? (currentLanguage = o.language || config.defaultSettings.language, currentScale = o.scale || config.defaultSettings.scale, config.tshirtSizes = Array.isArray(o.tshirtSizes) && o.tshirtSizes.length > 0 ? o.tshirtSizes : config.defaultSettings.tshirtSizes, "undefined" != typeof window && ("boolean" == typeof o.showReferenceMarkers ? window.showReferenceMarkers = o.showReferenceMarkers : window.showReferenceMarkers = !0), "boolean" == typeof o.isResolutionWarningDismissed && (window.isResolutionWarningDismissed = o.isResolutionWarningDismissed), o.colors ? config.colors = o.colors : config.defaultColors && (config.colors = JSON.parse(JSON.stringify(config.defaultColors))), o.editorColors ? config.editorColors = o.editorColors : config.defaultEditorColors && (config.editorColors = JSON.parse(JSON.stringify(config.defaultEditorColors))), config.languages && config.languages[currentLanguage] && (config.uiStrings = config.languages[currentLanguage]), currentSortCriteria = o.sortCriteria || "creationOrder", currentSortDirection = o.sortDirection || "asc", isFilterLocked = "lock" === currentSortCriteria, preLockSortCriteria = o.preLockSortCriteria || (isFilterLocked ? "creationOrder" : currentSortCriteria), preLockSortDirection = o.preLockSortDirection || (isFilterLocked ? "asc" : currentSortDirection), "custom" !== currentSortCriteria && "lock" !== currentSortCriteria && (lockedPbiOrder = [], initialCustomOrderSet = !1), "function" == typeof applyColorSettings && applyColorSettings(config.colors), "function" == typeof applyUiStrings && applyUiStrings()) : (currentLanguage = config.defaultSettings.language, currentScale = config.defaultSettings.scale, config.tshirtSizes = config.defaultSettings.tshirtSizes, "undefined" != typeof window && (window.showReferenceMarkers = void 0 === config.defaultSettings.showReferenceMarkers || config.defaultSettings.showReferenceMarkers), config.defaultColors && (config.colors = JSON.parse(JSON.stringify(config.defaultColors))), config.defaultEditorColors && (config.editorColors = JSON.parse(JSON.stringify(config.defaultEditorColors))), config.languages && config.languages[currentLanguage] && (config.uiStrings = config.languages[currentLanguage]), currentSortCriteria = "creationOrder", currentSortDirection = "asc", isFilterLocked = !1, lockedPbiOrder = [], preLockSortCriteria = "creationOrder", preLockSortDirection = "asc", initialCustomOrderSet = !1, window.isResolutionWarningDismissed = !1, "function" == typeof applyColorSettings && applyColorSettings(config.colors), "function" == typeof applyUiStrings && applyUiStrings()), pbis = i, "function" == typeof syncSliderMax && syncSliderMax(), "function" == typeof generateSliderScales && generateSliderScales(), "function" == typeof renderAll && renderAll(), "function" == typeof updateFilterLockButtonState && updateFilterLockButtonState(), "function" == typeof updateRefMarkerButtonState && updateRefMarkerButtonState();
                    var n = document.getElementById("split-root");
                    n && n.classList.toggle("filter-locked", isFilterLocked), "function" == typeof checkScreenResolution && checkScreenResolution(), "function" == typeof saveToLocalStorage && saveToLocalStorage()
                };
                void 0 !== pbis && pbis.length > 0 && !pbis.every(function(e) {
                    return e.isLastItem
                }) ? confirm(config.uiStrings.confirmImport) ? (lastImportedFileName = t || null, n(), alert(config.uiStrings.importSuccess)) : t && (lastImportedFileName = null) : (lastImportedFileName = t || null, n(), alert(config.uiStrings.importSuccess))
            } catch (e) {
                console.error("Import failed:", e), alert((config && config.uiStrings ? config.uiStrings.importError : "Error") + "\n" + e.message), lastImportedFileName = null
            }
        }

        function handleImport(e) {
            var t = e.target.files[0];
            if (t) {
                var i = new FileReader;
                i.onload = function(i) {
                    var o;
                    try {
                        o = JSON.parse(i.target.result)
                    } catch (t) {
                        return console.error("Import failed (JSON parse):", t), alert((config && config.uiStrings ? config.uiStrings.importError : "Error") + "\n" + t.message), lastImportedFileName = null, void(e.target && (e.target.value = ""))
                    }
                    "function" == typeof applyImportedData ? applyImportedData(o, t.name) : (console.error("applyImportedData function is not defined."), alert("A critical error occurred. Please reload the application."))
                }, i.onerror = function(e) {
                    console.error("File reading error:", e), alert((config && config.uiStrings ? config.uiStrings.importError : "Error") + "\nFile could not be read."), lastImportedFileName = null
                }, i.readAsText(t), e.target && (e.target.value = "")
            }
        }

        function loadDemoData(e) {
            if (!(config && config.demoData && config.demoData[e] && config.demoData[e].path)) return console.error("Demo data configuration not found for language: " + e), void alert("Could not find the demo data file path.");
            var t = config.demoData[e].path;
            fetch(t, {
                cache: "no-store"
            }).then(function(e) {
                if (!e.ok) throw new Error("Network response was not ok: " + e.statusText + " (" + t + ")");
                return e.json()
            }).then(function(e) {
                "function" == typeof applyImportedData ? applyImportedData(e, t) : (console.error("applyImportedData function is not defined."), alert("A critical error occurred. Please reload the application."))
            }).catch(function(e) {
                console.error("Demo data fetch failed:", e), alert(config.uiStrings.importError + "\n" + e.message)
            })
        }

        function initSyncScroll() {
            const e = document.getElementById("pbi-list"),
                t = document.getElementById("relative-sizing-list");
            let i = !1;

            function o(e, t) {
                i || (i = !0, t.scrollTop = e.scrollTop, requestAnimationFrame(() => {
                    i = !1
                }))
            }
            e.addEventListener("scroll", () => o(e, t)), t.addEventListener("scroll", () => o(t, e))
        }

        function syncRowHeights() {
            [{
                leftId: "ref-slot-left",
                rightId: "ref-slot-right"
            }, {
                leftId: "pbi-list",
                rightId: "relative-sizing-list"
            }].forEach(function(e) {
                var t = document.getElementById(e.leftId),
                    i = document.getElementById(e.rightId);
                if (t && i) {
                    var o = Array.from(t.children).filter(e => e.classList.contains("pbi-item")),
                        n = Array.from(i.children).filter(e => e.classList.contains("rs-item")),
                        r = {};
                    n.forEach(e => {
                        var t = e.getAttribute("data-id");
                        t && (r[t] = e)
                    });
                    var a = function(e) {
                        e.style.transition = "none", e.style.minHeight = "", e.style.height = ""
                    };
                    o.forEach(a), n.forEach(a), t.offsetHeight, i.offsetHeight, o.forEach(function(e) {
                        var t = e.getAttribute("data-id"),
                            i = r[t];
                        if (i) {
                            var o = e.getBoundingClientRect().height,
                                n = i.getBoundingClientRect().height,
                                a = Math.max(o, n);
                            e.style.boxSizing = "border-box", i.style.boxSizing = "border-box", e.style.minHeight = a + "px", i.style.minHeight = a + "px"
                        }
                    })
                }
            }), requestAnimationFrame(function() {
                document.querySelectorAll(".pbi-item, .rs-item").forEach(function(e) {
                    e.style.transition = ""
                })
            })
        }

        function getReferencePbi(e, t) {
            if (!Array.isArray(e)) return null;
            for (var i = 0; i < e.length; i++) {
                var o = e[i];
                if (o && !0 === o.isReference) {
                    if (!t) return o;
                    if (o.referenceType === t) return o
                }
            }
            return null
        }

        function getReferencePbiId(e, t) {
            var i = getReferencePbi(e, t);
            return i ? i.id : null
        }

        function isPinReferenceEnabled(e) {
            return !e || "object" != typeof e || ("boolean" != typeof e.pinReferenceEnabled || e.pinReferenceEnabled)
        }

        function calculateWsjfRanks(e) {
            if (!e || 0 === e.length) return {};
            var t = e.filter(function(e) {
                return e && !e.isLastItem && "number" == typeof e.cod && e.cod > 0 && "number" == typeof e.jobSize && e.jobSize > 0
            }).map(function(e) {
                return {
                    id: e.id,
                    wsjf: e.cod / e.jobSize
                }
            });
            t.sort(function(e, t) {
                return t.wsjf - e.wsjf
            });
            var i = {};
            return t.forEach(function(e, t) {
                i[e.id] = t + 1
            }), i
        }

        function generatePastelColors(e, t, i) {
            var o = config && config.pastelColorPalette || [],
                n = [],
                r = "#e0e0e0";
            if (0 === o.length) {
                console.warn("Pastel color palette is empty or not found in config. Using fallback.");
                for (var a = 0; a < e; a++) n.push(r);
                return n
            }
            if (1 === e && t) {
                for (var l = [], c = 0; c < o.length; c++) o[c].toUpperCase() !== t.toUpperCase() && l.push(o[c]);
                if (l.length > 0) {
                    var s = Math.floor(Math.random() * l.length);
                    n.push(l[s])
                } else o.length > 0 ? n.push(o[0]) : n.push(r);
                return n
            }
            for (var d = "number" == typeof i && i >= 0 ? i : 0, u = 0; u < e; u++) {
                var f = (d + u) % o.length;
                n.push(o[f])
            }
            return n
        }

        function rgbToHex(e) {
            if (!e || "string" != typeof e) return null;
            var t = e.match(/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i);
            if (!t) return /^#[0-9A-F]{6}$/i.test(e) ? e.toUpperCase() : null;

            function i(e) {
                return ("0" + parseInt(e, 10).toString(16)).slice(-2)
            }
            return ("#" + i(t[1]) + i(t[2]) + i(t[3])).toUpperCase()
        }

        function initResizeHandler() {
            let e;
            window.addEventListener("resize", function() {
                e && window.cancelAnimationFrame(e), e = window.requestAnimationFrame(function() {
                    "function" == typeof syncRelativeSizingHeaderPadding && syncRelativeSizingHeaderPadding(), syncRowHeights(), window._equalizeGridRows && window._equalizeGridRows(), checkScreenResolution()
                })
            }), checkScreenResolution()
        }

        function checkScreenResolution() {
            var e = document.getElementById("resolution-warning");
            if (e) {
                var t = config && config.resolutionSettings && config.resolutionSettings.minWidth || 1468,
                    i = config && config.resolutionSettings && config.resolutionSettings.minHeight || 658,
                    o = window.innerWidth,
                    n = window.innerHeight;
                (o < t || n < i) && !window.isResolutionWarningDismissed ? (e.classList.remove("hidden"), document.body.classList.remove("scroll-active")) : (e.classList.add("hidden"), document.body.classList.add("scroll-active"))
            }
        }

        function clearLocalStorageAndReset() {
            "undefined" != typeof window && window.localStorage && (window.localStorage.removeItem("sizeRight_autosave_v1"), window.localStorage.removeItem("sizeRight_dismissedUpdateVersion"), window.location.reload())
        }

        function htmlToMarkdown(e) {
            if (!e) return "";
            var t = document.createElement("div");
            t.innerHTML = e;
            var i = function e(t) {
                if (3 === t.nodeType) return t.nodeValue;
                if (1 !== t.nodeType) return "";
                for (var i = t.tagName.toLowerCase(), o = "", n = 0; n < t.childNodes.length; n++) o += e(t.childNodes[n]);

                function r(e) {
                    if (!o.trim()) return o;
                    var t = o.match(/^(\s*)(.*?)(\s*)$/s);
                    return t[1] + e + t[2] + e + t[3]
                }
                switch (i) {
                    case "b":
                    case "strong":
                        return r("**");
                    case "i":
                    case "em":
                        return r("_");
                    case "u":
                    default:
                        return o;
                    case "s":
                    case "strike":
                    case "del":
                        return r("~~");
                    case "br":
                        return "\n";
                    case "div":
                        return o.trim() ? o.trim() + "\n" : "";
                    case "p":
                        return o.trim() ? o.trim() + "\n\n" : "";
                    case "li":
                        return "- " + o.trim() + "\n";
                    case "ul":
                    case "ol":
                        return "\n" + o.trim() + "\n";
                    case "a":
                        var a = t.getAttribute("href") || "";
                        return "[" + o.trim() + "](" + a + ")"
                }
            }(t);
            return i.replace(/\n{3,}/g, "\n\n").trim()
        }

        function exportPbisAsCsv(e) {
            if (e && 0 !== e.length) {
                var t = config.uiStrings,
                    i = [t.modalPlaceholderTitle || "Title", t.colComplexity || "Complexity", t.colEffort || "Effort", t.colDoubt || "Uncertainty", t.colJobSize || "Job Size", t.pbiInfoTshirtSize || "T-Shirt Size", t.modalLabelCodBv || "BV", t.modalLabelCodTc || "TC", t.modalLabelCodRroe || "RR/OE", t.pbiInfoCoD || "CoD", t.colWsjf || "WSJF", t.modalLabelNotes || "Notes", t.csvHeaderRef || "Reference Item"],
                    o = "\ufeff";
                o += i.join(";") + "\r\n", e.forEach(function(e) {
                    if (e && !e.isLastItem) {
                        var t = e.complexity > 0 && e.effort > 0 && e.doubt > 0,
                            i = t ? e.jobSize : "",
                            n = e.cod && e.cod > 0 ? e.cod : "",
                            r = "";
                        t && "" !== n && (r = (e.cod / e.jobSize).toFixed(2).replace(".", ","));
                        var a = "";
                        e.isReference && (a = e.referenceType || "yes");
                        var l = htmlToMarkdown(e.notes),
                            c = [d(e.title), e.complexity || 0, e.effort || 0, e.doubt || 0, i, e.tshirtSize || "-", e.cod_bv || 0, e.cod_tc || 0, e.cod_rroe || 0, n, r, d(l), a];
                        o += c.join(";") + "\r\n"
                    }
                });
                var n, r = new Blob([o], {
                    type: "text/csv;charset=utf-8;"
                });
                if (lastImportedFileName) {
                    n = lastImportedFileName.replace(/\.[^/.]+$/, "") + ".csv"
                } else {
                    var a = new Date,
                        l = function(e) {
                            return e.toString().padStart(2, "0")
                        };
                    n = a.getFullYear() + "-" + l(a.getMonth() + 1) + "-" + l(a.getDate()) + "_" + l(a.getHours()) + "-" + l(a.getMinutes()) + " - Backlog.csv"
                }
                var c = URL.createObjectURL(r),
                    s = document.createElement("a");
                s.href = c, s.download = n, document.body.appendChild(s), s.click(), document.body.removeChild(s), URL.revokeObjectURL(c)
            }

            function d(e) {
                if (null == e) return "";
                var t = String(e);
                return t.indexOf(";") > -1 || t.indexOf('"') > -1 || t.indexOf("\n") > -1 ? '"' + t.replace(/"/g, '""') + '"' : t
            }
        }
        "undefined" != typeof module && module.exports && (module.exports = {
            updateResetCoDButtonVisibility: updateResetCoDButtonVisibility,
            validateAndSyncModalLogic: validateAndSyncModalLogic,
            showModal: showModal,
            openSettingsModal: openSettingsModal,
            resetSettingsToDefault: resetSettingsToDefault,
            saveAndCloseSettings: saveAndCloseSettings,
            showTshirtPopup: showTshirtPopup,
            showValuePopup: showValuePopup,
            getIsModalDirty: getIsModalDirty,
            markModalAsDirty: markModalAsDirty,
            updateModalNavButtons: updateModalNavButtons,
            validateAndSyncModal: validateAndSyncModal,
            updateHelpIcons: updateHelpIcons
        }), window.BUBBLE_CLUSTER_OPTS = window.BUBBLE_CLUSTER_OPTS || {
            paddingPx: 2,
            edgePair: "largest",
            paddingCssVar: "--bubble-gap"
        }, window.setBubbleClusterOptions = function(e) {
            e && "object" == typeof e && Object.assign(window.BUBBLE_CLUSTER_OPTS, e)
        }, "undefined" != typeof module && module.exports && (module.exports = {
            createStoryVisualization: createStoryVisualization,
            createPlaceholderVisualization: createPlaceholderVisualization,
            createCodVisualization: createCodVisualization,
            createCodPlaceholderVisualization: createCodPlaceholderVisualization,
            createCodChart: createCodChart,
            setBubbleClusterOptions: "undefined" != typeof window && window.setBubbleClusterOptions ? window.setBubbleClusterOptions : null
        }), "undefined" != typeof module && module.exports && (module.exports = {
            saveToLocalStorage: saveToLocalStorage,
            loadFromLocalStorage: loadFromLocalStorage,
            calculateWSJF: calculateWSJF,
            updateSliderFill: updateSliderFill,
            updateResetJobSizeButtonVisibility: updateResetJobSizeButtonVisibility,
            scrollContainerToItem: scrollContainerToItem,
            highlightAndScrollToLastEditedPbi: highlightAndScrollToLastEditedPbi,
            showUpdateNotification: showUpdateNotification,
            compareSemver: compareSemver,
            checkForUpdates: checkForUpdates,
            updateSliderValues: updateSliderValues,
            updateAllSliderFills: updateAllSliderFills,
            syncSliderMax: syncSliderMax,
            initSplit: initSplit,
            generateSliderScales: generateSliderScales,
            updateActiveScaleValue: updateActiveScaleValue,
            openDocumentation: openDocumentation,
            exportPbisAsJson: exportPbisAsJson,
            applyImportedData: applyImportedData,
            handleImport: handleImport,
            loadDemoData: loadDemoData,
            initSyncScroll: initSyncScroll,
            syncRowHeights: syncRowHeights,
            getReferencePbi: getReferencePbi,
            getReferencePbiId: getReferencePbiId,
            isPinReferenceEnabled: isPinReferenceEnabled,
            calculateWsjfRanks: calculateWsjfRanks,
            generatePastelColors: generatePastelColors,
            rgbToHex: rgbToHex,
            initResizeHandler: initResizeHandler,
            checkScreenResolution: checkScreenResolution,
            updateRefMarkerButtonState: updateRefMarkerButtonState,
            clearLocalStorageAndReset: clearLocalStorageAndReset,
            htmlToMarkdown: htmlToMarkdown,
            exportPbisAsCsv: exportPbisAsCsv,
            updateResetCoDButtonVisibility: updateResetCoDButtonVisibility
        });
    </script>
</body>

</html>